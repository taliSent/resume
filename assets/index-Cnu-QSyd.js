import{j as h,c as mn,r as I,R as Mt,H as Uc,M as He,a as cs,A as qc,u as or,L as Kc,B as Zc,b as Qc,F as Jc,d as el,e as tl,f as nl,g as ol,h as rl,i as il,T as sl,N as ls,k as us,l as al,G as cl,I as ll,m as ul,n as dl,S as fl,o as hl,p as gl,q as ml,s as pl,t as xl,v as yl,w as wl,x as vl}from"./react-vendor-DB0EPyXx.js";import{u as ds,a as _l,m as fe,A as fs,b as hs,c as bl}from"./framer-motion-vendor-CJGMvkXp.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const Sl="_Wave_d1pt6_1",Nl={Wave:Sl},wo=(e,t,n)=>ds(e,[0,1],[t,n]),El="_Cloud_vaasf_1",Cl="_Cloud1_vaasf_7",Tl="_Cloud2_vaasf_13",kl="_Cloud3_vaasf_19",ut={Cloud:El,Cloud1:Cl,Cloud2:Tl,Cloud3:kl},Ml=({refAboutSection:e})=>{const{scrollYProgress:t}=_l({target:e}),n=wo(t,0,400),o=wo(t,0,400),r=wo(t,0,300);return h.jsxs(h.Fragment,{children:[h.jsx(vo,{src:"img/cloud1.webp",x:n,className:`${ut.Cloud} ${ut.Cloud1}`}),h.jsx(vo,{src:"img/cloud2.webp",x:o,className:`${ut.Cloud} ${ut.Cloud2}`}),h.jsx(vo,{src:"img/cloud3.webp",x:r,className:`${ut.Cloud} ${ut.Cloud3}`})]})},vo=({x:e,src:t,...n})=>h.jsx(fe.img,{src:t,className:n.className,"aria-hidden":!0,style:{x:e},alt:""}),Il="_Container_5qj77_1",Pr={Container:Il},jl="_About_1iyc4_1",$l="_Text_1iyc4_12",Al="_PhotoContainer_1iyc4_20",Pl="_Photo_1iyc4_20",Ll="_PhotoFrame_1iyc4_41",Dl="_Profession_1iyc4_58",Rl="_Stack_1iyc4_86",qe={About:jl,Text:$l,PhotoContainer:Al,Photo:Pl,PhotoFrame:Ll,Profession:Dl,Stack:Rl},Bl="_ButtonContainer_wosnh_1",Hl="_FollowTheCursor_wosnh_6",Fl="_Button_wosnh_1",_o={ButtonContainer:Bl,FollowTheCursor:Hl,Button:Fl};var ue=(e=>(e.FIRST_VISIT="FIRST_VISIT",e.KNOWS_EVERYTHING="KNOWS_EVERYTHING",e.BUGS_CAUGHT="BUGS_CAUGHT",e.FORTUNE_CHASER="FORTUNE_CHASER",e.DONWLOAD_CV="DONWLOAD_CV",e))(ue||{});const rr=new Map([["FIRST_VISIT",{img:"ðŸŒŸ",title:"Explorer",subtitle:"First interaction with my page"}],["BUGS_CAUGHT",{img:"ðŸª²",title:"Bug Hunter",subtitle:"Bugs caught"}],["KNOWS_EVERYTHING",{img:"ãŠ™ï¸",title:"They know",subtitle:"All secrets revealed"}],["FORTUNE_CHASER",{img:"ðŸŽ²",title:"Fortune chaser",subtitle:"Tested their luck"}],["DONWLOAD_CV",{img:"ðŸ’Ÿ",title:"Interested",subtitle:"Let's keep in touch!"}]]),zl=e=>"quantity"in e?`: ${e.quantity}`:"",Rt=(e,t)=>{const n=rr.get(e),o=(n==null?void 0:n.img)??"",r=t?`${(n==null?void 0:n.subtitle)+": "+t}`:(n==null?void 0:n.subtitle)??"",i=(n==null?void 0:n.title)??"";return{img:o,subtitle:r,title:i}},Pn=(e,t)=>e.find(n=>n.id===t);var Qe=(e=>(e.light="light",e.dark="dark",e))(Qe||{});const gs=["I like jogging","I'm almost entirely indifferent about food","I've had dreadlocks for about 5 years","I don't like my first name and prefer to be called Tali","I am a cat person","I'm a younger sibling in a family with 2 kids","I don't really like to take photos of myself, so I have very few","I adore house plants and know the names of many species and their sorts","I play tabletop roleplay games, like D&D","I used to study German language, when I was a teen","I'm not a user of TikTok or Instagram","I play very specific short indie video games","I was a Dungeon Master and received a lot of positive feedback","I have a natural ability to make cartoonish voices","I learnt to sing, but am too shy to do it in public","I used to be an actress on a horror quest",`My favorite book is Eliezer S. Yudkowsky's "Harry Potter and methods of rationality"`,"I used to draw and paint, and there're still traces of that somewhere in the Internet","I used to study psychology and my favorite topic is cognitive biases","I jumped with a parachute once"],Lr=["Now you know EVERYTHING about me!","Hey, facts are over. Go catch some bugs!","You just like to roll that dice, don't you?","No more facts! But here's a cat ðŸˆ","Times change. Cat stays ðŸˆ"],Zt="tali-resume-key";var bo,Dr;function Ol(){if(Dr)return bo;Dr=1;var e="Expected a function",t=NaN,n="[object Symbol]",o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,c=typeof mn=="object"&&mn&&mn.Object===Object&&mn,l=typeof self=="object"&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),u=Object.prototype,d=u.toString,g=Math.max,p=Math.min,m=function(){return f.Date.now()};function w(S,N,E){var k,$,O,P,j,D,b=0,A=!1,C=!1,L=!0;if(typeof S!="function")throw new TypeError(e);N=v(N)||0,x(E)&&(A=!!E.leading,C="maxWait"in E,O=C?g(v(E.maxWait)||0,N):O,L="trailing"in E?!!E.trailing:L);function M(V){var z=k,G=$;return k=$=void 0,b=V,P=S.apply(G,z),P}function T(V){return b=V,j=setTimeout(B,N),A?M(V):P}function R(V){var z=V-D,G=V-b,Z=N-z;return C?p(Z,O-G):Z}function H(V){var z=V-D,G=V-b;return D===void 0||z>=N||z<0||C&&G>=O}function B(){var V=m();if(H(V))return X(V);j=setTimeout(B,R(V))}function X(V){return j=void 0,L&&k?M(V):(k=$=void 0,P)}function Y(){j!==void 0&&clearTimeout(j),b=0,k=D=$=j=void 0}function q(){return j===void 0?P:X(m())}function K(){var V=m(),z=H(V);if(k=arguments,$=this,D=V,z){if(j===void 0)return T(D);if(C)return j=setTimeout(B,N),M(D)}return j===void 0&&(j=setTimeout(B,N)),P}return K.cancel=Y,K.flush=q,K}function x(S){var N=typeof S;return!!S&&(N=="object"||N=="function")}function _(S){return!!S&&typeof S=="object"}function y(S){return typeof S=="symbol"||_(S)&&d.call(S)==n}function v(S){if(typeof S=="number")return S;if(y(S))return t;if(x(S)){var N=typeof S.valueOf=="function"?S.valueOf():S;S=x(N)?N+"":N}if(typeof S!="string")return S===0?S:+S;S=S.replace(o,"");var E=i.test(S);return E||s.test(S)?a(S.slice(2),E?2:8):r.test(S)?t:+S}return bo=w,bo}Ol();var ms=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Rr(e,t,n,o){const r=I.useRef(t);ms(()=>{r.current=t},[t]),I.useEffect(()=>{const i=window;if(!(i&&i.addEventListener))return;const s=a=>{r.current(a)};return i.addEventListener(e,s,o),()=>{i.removeEventListener(e,s,o)}},[e,n,o])}function Br(e){const t=I.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return ms(()=>{t.current=e},[e]),I.useCallback((...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[t])}var So=typeof window>"u";function Qt(e,t,n={}){const{initializeWithValue:o=!0}=n,r=I.useCallback(d=>n.serializer?n.serializer(d):JSON.stringify(d),[n]),i=I.useCallback(d=>{if(n.deserializer)return n.deserializer(d);if(d==="undefined")return;const g=t instanceof Function?t():t;let p;try{p=JSON.parse(d)}catch(m){return console.error("Error parsing JSON:",m),g}return p},[n,t]),s=I.useCallback(()=>{const d=t instanceof Function?t():t;if(So)return d;try{const g=window.localStorage.getItem(e);return g?i(g):d}catch(g){return console.warn(`Error reading localStorage key â€œ${e}â€:`,g),d}},[t,e,i]),[a,c]=I.useState(()=>o?s():t instanceof Function?t():t),l=Br(d=>{So&&console.warn(`Tried setting localStorage key â€œ${e}â€ even though environment is not a client`);try{const g=d instanceof Function?d(s()):d;window.localStorage.setItem(e,r(g)),c(g),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(g){console.warn(`Error setting localStorage key â€œ${e}â€:`,g)}}),f=Br(()=>{So&&console.warn(`Tried removing localStorage key â€œ${e}â€ even though environment is not a client`);const d=t instanceof Function?t():t;window.localStorage.removeItem(e),c(d),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});I.useEffect(()=>{c(s())},[e]);const u=I.useCallback(d=>{d.key&&d.key!==e||c(s())},[e,s]);return Rr("storage",u),Rr("local-storage",u),[a,l,f]}const Hr=e=>{let t;const n=new Set,o=(l,f)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const d=t;t=f??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(g=>g(t,d))}},r=()=>t,a={setState:o,getState:r,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=t=e(o,r,a);return a},Vl=(e=>e?Hr(e):Hr),Yl=e=>e;function Wl(e,t=Yl){const n=Mt.useSyncExternalStore(e.subscribe,Mt.useCallback(()=>t(e.getState()),[e,t]),Mt.useCallback(()=>t(e.getInitialState()),[e,t]));return Mt.useDebugValue(n),n}const Fr=e=>{const t=Vl(e),n=o=>Wl(t,o);return Object.assign(n,t),n},ir=(e=>e?Fr(e):Fr),Ct=ir(e=>({bugs:void 0,releaseBugs:t=>e(()=>({bugs:t})),catchBug:()=>e(t=>({bugs:t.bugs?t.bugs-1:void 0})),renewGame:()=>e(()=>({bugs:void 0}))})),It=ir(e=>({notWatchedFacts:gs,currentFact:void 0,diceResult:void 0,replicaNum:0,clearDiceResult:()=>e({diceResult:void 0}),watchFact:(t,n)=>e(o=>({diceResult:n,currentFact:o.notWatchedFacts[t]??Lr[o.replicaNum],replicaNum:!o.notWatchedFacts[t]&&Lr[o.replicaNum+1]?o.replicaNum+1:o.replicaNum,notWatchedFacts:o.notWatchedFacts.filter((r,i)=>i!==t)}))})),De=ir(e=>({needShowTooltip:!1,tooltipData:void 0,openTooltip:t=>e({needShowTooltip:!0,tooltipData:t}),closeTooltip:()=>e({needShowTooltip:!1,tooltipData:void 0})})),Xl="/resume/CV_Sentemova.pdf",Gl=()=>{const e=I.useRef(!1),t=I.useRef(null),n=I.useRef(null),[o,r]=Qt(Zt,[]),i=De(a=>a.openTooltip);I.useEffect(()=>{const a=c=>{if(!t.current||!n.current)return;const l=n.current.getBoundingClientRect();!c.clientX||!c.clientY||(t.current.style.left=c.clientX-l.left-35+"px",t.current.style.top=c.clientY-l.top-35+"px")};return window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)},[]);const s=()=>{if(e.current)return;e.current=!0;const a={id:ue.DONWLOAD_CV};r(c=>{if(Pn(c,ue.DONWLOAD_CV))return c;const{img:l,subtitle:f,title:u}=Rt(ue.DONWLOAD_CV);return i({img:l,title:u,subtitle:f}),[...c,a]})};return h.jsx("div",{className:_o.ButtonContainer,children:h.jsx("a",{href:Xl,target:"_blank",download:!0,rel:"noreferrer",children:h.jsxs("button",{className:_o.Button,ref:n,onClick:s,children:["Download CV ",h.jsx(Uc,{}),h.jsx(He,{minWidth:1024,children:h.jsx("div",{className:_o.FollowTheCursor,ref:t})})]})})})},Ul="_Description_1n2i4_1",ql="_Underline_1n2i4_26",Kl="_Arrow_1n2i4_34",Zl="_HashLink_1n2i4_44",Pe={Description:Ul,Underline:ql,Arrow:Kl,HashLink:Zl},Ql=()=>h.jsxs("div",{className:Pe.Description,children:["I started as a QA engineer, worked as a designer, and made my way into frontend development.",h.jsx("br",{}),"Today I create ",h.jsx("span",{className:Pe.Underline,children:"complex"})," React applications, such as video editor, or a whole application, designed for configuring and signing bank documents. I work as a"," ",h.jsx("span",{className:Pe.Underline,children:"sole developer"})," and"," ",h.jsx("span",{className:Pe.Underline,children:"in a team"}),".",h.jsx("br",{}),"I worked with various libraries and technologies, such as"," ",h.jsx("span",{className:Pe.Underline,children:"TypeScript"}),", Redux, Node.js, Storybook, Thrifts, Sass, BEM, Styled Components, material-ui, etc. ",h.jsx("br",{}),h.jsx("span",{className:Pe.Underline,children:"Code quality"})," is important to me, so I adhere to KISS, DRY & SOLID.",h.jsx("br",{}),'Most often, colleagues describe me as a "nice to communicate with" : )'," ",h.jsx("div",{className:Pe.LinkContainer,children:h.jsxs(cs,{className:Pe.HashLink,to:"#contact-me",smooth:!0,children:["Communicate?"," ",h.jsx(qc,{size:"15",className:Pe.Arrow})]})})]}),Jl="_NumberContainer_gmwqj_1",eu="_Text_gmwqj_23",pn={NumberContainer:Jl,Number:"_Number_gmwqj_1",Text:eu},No=({number:e,text:t,className:n,withPlus:o=!1})=>h.jsxs("div",{className:`${pn.NumberContainer} ${pn[n]}`,children:[h.jsx("div",{className:pn.Number,children:`${e}${o?"+":""}`}),h.jsx("div",{className:pn.Text,children:t})]}),tu="_Numbers_6nhf3_1",nu={Numbers:tu},ou=()=>h.jsxs("div",{className:nu.Numbers,children:[h.jsx(No,{number:4,withPlus:!0,text:"years of experience",className:"One"}),h.jsx(No,{number:7,withPlus:!0,text:"projects",className:"Two"}),h.jsx(No,{number:3,text:"specialties",className:"Three"})]}),ru=()=>h.jsxs("section",{id:"about","aria-label":"about me",children:[h.jsxs("div",{className:qe.About,children:[h.jsxs(fe.div,{initial:{opacity:0,filter:"blur(4px) brightness(2)"},whileInView:{opacity:1,filter:"none"},transition:{duration:.6},className:qe.PhotoContainer,children:[h.jsx(fe.img,{src:"img/TaliPurple.webp",alt:"Tali's picture",width:275,height:275,className:qe.Photo}),h.jsx("div",{className:qe.PhotoFrame})]}),h.jsxs("div",{className:qe.Text,children:[h.jsx("div",{className:qe.Profession,children:"Frontend developer"}),h.jsx("div",{className:qe.Stack,children:"React.js, Typescript"}),h.jsx(Gl,{})]})]}),h.jsx(ou,{}),h.jsx(Ql,{})]});function iu(e,t){const n=Math.ceil(e),o=Math.floor(t);return Math.floor(Math.random()*(o-n+1))+e+Math.random()}const su="_Header_17e68_1",au="_TextSecondary_17e68_11",zr={Header:su,TextSecondary:au},at=({name:e,icon:t,textSecondary:n})=>{const o=h.jsxs(h.Fragment,{children:[h.jsx("span",{children:e}),t]}),r=h.jsx(h.Fragment,{children:n&&h.jsx("div",{className:zr.TextSecondary,children:n})});return h.jsx("header",{className:zr.Header,children:h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:o}),r]})})},cu="_Bug_1tolv_5",lu="_Confetti_1tolv_18",uu="_ReleaseButton_1tolv_39",du="_BattleContainer_1tolv_55",fu="_BattleImgContainer_1tolv_60",hu="_BattleBackground_1tolv_69",gu="_TaliPortrait_1tolv_83",mu="_BugPortrait_1tolv_91",pu="_Tooltip_1tolv_99",xu="_TooltipTali_1tolv_111",yu="_TooltipBug_1tolv_139",pe={Bug:cu,Confetti:lu,ReleaseButton:uu,BattleContainer:du,BattleImgContainer:fu,BattleBackground:hu,TaliPortrait:gu,BugPortrait:mu,Tooltip:pu,TooltipTali:xu,TooltipBug:yu},Ln=8,wu=12,vu=e=>{const[t,n]=Qt(Zt,[]),o=De(r=>r.openTooltip);I.useEffect(()=>{e&&n(r=>{const i=Pn(r,ue.BUGS_CAUGHT),s=i?{id:ue.BUGS_CAUGHT,quantity:(i==null?void 0:i.quantity)+Ln}:{id:ue.BUGS_CAUGHT,quantity:Ln},a=i?[...r.filter(u=>u.id!==i.id),s]:[...r,s],{img:c,subtitle:l,title:f}=Rt(ue.BUGS_CAUGHT,s.quantity);return o({img:c,subtitle:l,title:f}),a})},[e])},ps="/resume/img/confetti2.gif",_u=e=>{const t=e.clientWidth-100,n=e.clientHeight-100,o=`${Math.random()*t}px`,r=`${Math.random()*n}px`,i=`${Math.random()*360}deg`,a=`/resume/img/bugs/bug${Math.ceil(Math.random()*wu)}.webp`;return{x:o,y:r,src:a,angle:i}},bu=({bugParams:e,catchBug:t})=>{const{x:n,y:o,src:r,angle:i}=e,s=document.createElement("img");return s.src=r,s.classList.add(pe.Bug),s.alt="a bug",s.style.top=o,s.style.left=n,s.style.rotate=i,s.style.setProperty("--duration",iu(15,25)+"s"),s.onclick=()=>{const a=[0,40,90,320];s.src=ps,s.style.setProperty("--hueDegreeShift",a[Math.floor(Math.random()*a.length)]+"deg"),s.classList.add(pe.Confetti),setTimeout(()=>{s.remove()},600),t()},s},Su=()=>{const e=or({query:"(max-width: 524px)"}),t=Ct(a=>a.bugs?a.bugs>0:!1),n=Ct(a=>a.renewGame),o=Ct(a=>a.bugs===0),r=Ct(a=>a.releaseBugs),i=Ct(a=>a.catchBug),s=()=>{for(let a=0;a<Ln;a++){const c=document.querySelector("#root_");if(!c)return;const l=_u(c),f=bu({bugParams:l,catchBug:i});c==null||c.appendChild(f)}r(Ln)};return vu(o),I.useEffect(()=>{const a=new Image;a.src=ps},[]),I.useEffect(()=>{o&&n()},[]),h.jsxs("section",{id:"bug-hunt","aria-label":"bug hunt","data-screen-width":e,children:[h.jsx(at,{name:"Bug Hunt",icon:h.jsx(Kc,{className:"icon"}),textSecondary:"help Natalia find all the bugs"}),h.jsxs("div",{className:pe.BattleContainer,children:[h.jsxs("div",{className:pe.BattleImgContainer,children:[h.jsx("img",{src:"img/vs.webp",alt:"background Tali vs bugs",className:pe.BattleBackground}),h.jsx("div",{className:`${pe.Tooltip} ${pe.TooltipTali}`,children:"I'm a Senior developer"}),h.jsx(fe.img,{src:"img/TaliStanding2.webp",alt:"Tali",initial:{y:"-30%",x:"-125%"},whileInView:{y:"-50%"},transition:{duration:.75},className:pe.TaliPortrait}),h.jsx("div",{className:`${pe.Tooltip} ${pe.TooltipBug}`,children:"I'm a feature"}),h.jsx(fe.img,{src:"img/bugs/bug000.webp",alt:"bug",initial:{y:"-100%",x:"85%"},whileInView:{y:"-50%"},transition:{duration:.75},className:pe.BugPortrait})]}),h.jsx("button",{onClick:s,disabled:t,className:pe.ReleaseButton,children:t?"Bugs are now on the loose...":"Release the bugs ðŸª²"})]})]})},Nu="_LinkToTheTop_1u28a_1",Eu={LinkToTheTop:Nu},Cu="https://t.me/TaliSent",Tu="ns.sent@yandex.ru",Or="0552576608",ku=[{href:Cu,textPrimary:"Text me",textSecondary:"TaliSent",icon:h.jsx(Zc,{size:"30"})},{href:`mailto: ${Tu}`,textPrimary:"Email me",textSecondary:"ns.sent@yandex.ru",icon:h.jsx(Qc,{size:"30"})},{href:`tel: ${Or}`,textPrimary:"Call me",textSecondary:Or,icon:h.jsx(Jc,{size:"30"})}],Mu="_Contact_16jcs_1",Iu="_TextContainer_16jcs_11",ju="_TextPrimary_16jcs_17",$u="_TextSecondary_16jcs_46",xn={Contact:Mu,TextContainer:Iu,TextPrimary:ju,TextSecondary:$u},Au=({href:e,textPrimary:t,textSecondary:n,icon:o})=>h.jsx("li",{children:h.jsxs("a",{href:e,className:xn.Contact,"aria-label":n,children:[o,h.jsxs("div",{className:xn.TextContainer,children:[h.jsx("div",{className:xn.TextPrimary,children:t}),h.jsx("div",{className:xn.TextSecondary,children:n})]})]})}),Pu="_Contacts_rrem9_1",Lu={Contacts:Pu},Du=()=>h.jsx("ul",{className:Lu.Contacts,children:ku.map(({href:e,textPrimary:t,textSecondary:n,icon:o})=>h.jsx(Au,{href:e,textPrimary:t,textSecondary:n,icon:o},e))}),Ru="_Links_1rg30_1",yn={Links:Ru},Bu="https://github.com/taliSent/",Hu="https://www.linkedin.com/in/natalya-sentemova/",Fu=()=>{const e="#6F2DBD";return h.jsxs("div",{className:yn.Links,children:[h.jsx(fe.div,{className:yn.Link,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},whileHover:{y:-10},transition:{ease:"easeInOut",duration:.4},children:h.jsx("div",{children:h.jsx("a",{href:Bu,target:"_blank",rel:"noreferrer","aria-label":"link to github",children:h.jsx(el,{size:"45",color:e})})})}),h.jsx("div",{children:h.jsx(fe.div,{className:yn.Link,initial:{opacity:0,y:35},whileInView:{opacity:1,y:0},whileHover:{y:-10},transition:{ease:"easeInOut",duration:.4},children:h.jsx("a",{href:Hu,className:yn.Link,target:"_blank",rel:"noreferrer","aria-label":"link to linkedin",children:h.jsx(tl,{size:"45",color:e})})})})]})},zu=()=>h.jsxs("section",{id:"contact-me","aria-label":"contact me",children:[h.jsx(at,{name:"Contact me",icon:h.jsx(nl,{className:"icon",size:"28"}),textSecondary:"Natalia Sentemova"}),h.jsxs("div",{children:[h.jsx(Du,{}),h.jsx(Fu,{})]}),h.jsx(cs,{to:"#top",smooth:!0,className:Eu.LinkToTheTop,"aria-label":"to the top of the page",children:h.jsx(ol,{size:"22"})})]}),Ou=[{name:"Frontend developer",place:"Mystify",years:"2025",achievement:"Implemented the best practises to the developement process, which saved days and weeks of developement",isMirrored:!0},{name:"Frontend developer",place:"Spirit me",years:"2023-2024",achievement:"Developed an AI-powered video editor",isMirrored:!0},{name:"Frontend developer",place:"Cinimex",years:"2019-2022",achievement:"Developed aÂ bank application that allows user to configure, watch asÂ PDF andÂ sign documents",isMirrored:!0},{name:"SQL Developer",place:"AT Consulting",achievement:"Developed aÂ 30-pages printed form with around 50Â SQL queries, each with complex business logic.",years:"2019",isMirrored:!0},{name:"QA Engineer",place:"AT Consulting",achievement:"Fixed critical bugs inÂ autotests.",years:"2018-2019",isMirrored:!0},{name:"Researcher",place:"MSU",years:"2014-2016",isLast:!0,achievement:"Predicted electron fluxes AI, proccesed withÂ Python & Numpy",isMirrored:!0}],Vu=[{name:"Advanced state management",place:"Frontend masters",achievement:"Learnt the best practises of the state management from the founder of stately.ai",years:"2025"},{name:"React Marathon",place:"Zar Zacharov",achievement:"A month ofÂ intense work on aÂ card game.",years:"2021"},{name:"Learn React Part II Course",place:"Codeacademy",achievement:"Built several educational React applications",years:"2021"},{name:"Learn React Course",place:"Codeacademy",years:"2021"},{name:"Bachelor of Physics",place:"MSU",years:"2012-2016",isLast:!0}],Yu="_Unit_1irhj_1",Wu="_Name_1irhj_10",Xu="_Achievement_1irhj_16",Gu="_Years_1irhj_22",Uu="_isMirrored_1irhj_27",qu="_isMirroredText_1irhj_35",Ku="_TimePoint_1irhj_39",Zu="_TimeLine_1irhj_51",ye={Unit:Yu,Name:Wu,Achievement:Xu,Years:Gu,isMirrored:Uu,isMirroredText:qu,TimePoint:Ku,TimeLine:Zu},xs=({name:e,place:t,years:n,achievement:o,isLast:r,isMirrored:i})=>h.jsxs(fe.div,{initial:{opacity:0,filter:"blur(10px)"},whileInView:{opacity:1,filter:"none"},className:`${ye.Unit} ${i&&ye.isMirrored}`,children:[h.jsxs("div",{className:ye.Time,children:[h.jsx("div",{className:ye.TimePoint}),!r&&h.jsx("div",{className:ye.TimeLine})]}),h.jsxs("div",{className:`${ye.Text} ${i&&ye.isMirroredText}`,children:[h.jsx("strong",{className:ye.Name,children:e}),h.jsx("div",{className:ye.Years,children:n}),h.jsx("div",{className:ye.Years,children:t}),h.jsx("div",{className:ye.Achievement,children:o})]})]}),Vr=()=>h.jsx("div",{children:Vu.map(({name:e,place:t,years:n,achievement:o,isLast:r,isMirrored:i})=>h.jsx(xs,{name:e,place:t,achievement:o,years:n,isLast:r,isMirrored:i},`${e} ${t}`))}),Qu="_Experience_1rpal_2",Ju={Experience:Qu},Yr=({className:e})=>h.jsx("div",{className:Ju.Experience,children:Ou.map(({name:t,place:n,years:o,achievement:r,isLast:i,isMirrored:s})=>h.jsx(xs,{name:t,place:n,achievement:r,years:o,isLast:i,isMirrored:s},`${t} ${n}`))}),ed="_Headers_1om10_1",td="_XP_1om10_7",Eo={Headers:ed,XP:td},Wr=()=>h.jsx(at,{name:"Education",icon:h.jsx(rl,{className:"icon",size:"36"})}),Xr=()=>h.jsx(at,{name:"Experience",icon:h.jsx(il,{className:"icon",size:"28"})}),nd=()=>h.jsxs("section",{id:"experience","aria-label":"my experience",children:[h.jsxs(He,{minWidth:849,children:[h.jsxs("div",{className:Eo.Headers,children:[h.jsx(Wr,{}),h.jsx(Xr,{})]}),h.jsxs("div",{className:Eo.XP,children:[h.jsx(Vr,{}),h.jsx(Yr,{})]})]}),h.jsxs(He,{maxWidth:847,children:[h.jsx(Xr,{}),h.jsx(Yr,{className:Eo.Experience}),h.jsx(Wr,{}),h.jsx(Vr,{})]})]}),od="_Modal_43u2j_1",rd="_Backdrop_43u2j_12",Gr={Modal:od,Backdrop:rd},ys=({isOpen:e,disableBackdropClick:t=!1,disablePlateClick:n=!1,onClose:o,children:r})=>h.jsx(fs,{children:e&&h.jsx(fe.div,{className:Gr.Backdrop,onClick:()=>{t||o()},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:h.jsx(fe.div,{className:Gr.Modal,role:"dialog",onClick:i=>{i.stopPropagation(),!n&&o()},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:r})})}),id="_GameContainer_1nin3_1",sd="_Dice_1nin3_9",ad="_Result_1nin3_15",cd="_DiceContainer_1nin3_32",ld="_Fact_1nin3_45",ud="_TryAgain_1nin3_49",dd="_FactContainer_1nin3_54",Re={GameContainer:id,Dice:sd,Result:ad,DiceContainer:cd,Fact:ld,TryAgain:ud,FactContainer:dd},fd=()=>{const[e,t]=Qt(Zt,[]),n=It(f=>f.notWatchedFacts),o=It(f=>f.diceResult),r=It(f=>f.watchFact),i=It(f=>f.clearDiceResult),s=De(f=>f.openTooltip),[a,c]=hs(),l=async()=>{if(n.length===gs.length){const g={id:ue.FORTUNE_CHASER};t(p=>{if(Pn(p,ue.FORTUNE_CHASER))return p;const{img:m,subtitle:w,title:x}=Rt(ue.FORTUNE_CHASER);return s({img:m,title:x,subtitle:w}),[...p,g]})}const f=Math.random()>.5?1:-1;i(),await c(a.current,{rotate:f*360,y:"-100%",x:0},{duration:.8,bounce:0,type:"spring"});const u=c(a.current,{rotate:f*720},{visualDuration:.8,bounce:0,type:"spring",onComplete:()=>{const g=Math.ceil(Math.random()*20),p=Math.floor(Math.random()*n.length);if(n.length===0){const m={id:ue.KNOWS_EVERYTHING};t(w=>{if(Pn(w,ue.KNOWS_EVERYTHING))return w;const{img:x,subtitle:_,title:y}=Rt(ue.KNOWS_EVERYTHING);return s({img:x,title:y,subtitle:_}),[...w,m]})}r(p,g),c(a.current,{rotate:0},{duration:0})}}),d=c(a.current,{x:0,y:0},{visualDuration:.8,bounce:.8,type:"spring"});await Promise.all([u,d])};return h.jsxs("section",{id:"random-fact","aria-label":"random fact",children:[h.jsx(at,{name:"Random fact",textSecondary:"roll a dice to know more about me",icon:h.jsx(sl,{className:"icon"})}),h.jsxs("div",{className:Re.GameContainer,children:[h.jsxs("button",{ref:a,onClick:l,className:Re.DiceContainer,children:[h.jsx("img",{src:"img/dice3.webp",alt:"dice d20",className:Re.Dice}),h.jsx("div",{className:Re.Result,children:o})]}),o&&h.jsx(hd,{diceResult:o,rollDice:l})]})]})},Ur=()=>{const e=It(t=>t.currentFact);return h.jsxs("div",{className:Re.Fact,children:["â­ ",e]})},hd=({diceResult:e,rollDice:t})=>{const[n,o]=I.useState(!1);if(e===20){const r=Math.random()>.5?1:2;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:Re.FactContainer,children:[h.jsx(Ur,{}),h.jsxs(h.Fragment,{children:["This is a critical success! You won a"," ",h.jsx("button",{onClick:()=>o(!0),children:"[photo]"})," of me from the past as a bonus âœ¨"]})]}),h.jsx(ys,{isOpen:n,onClose:()=>o(!1),children:h.jsx("img",{src:`/resume/img/TaliPhoto${r}.webp`})})]})}return e===1?h.jsxs("div",{className:Re.FactContainer,children:["This is a critical failure! You're welcome to provide a fact about yourself."," ",h.jsx(ls,{to:"#contact-me",smooth:!0,children:"[Contact me]"})," ",h.jsx("br",{}),"or"," ",h.jsx("button",{onClick:t,className:Re.TryAgain,children:"[try again]"})]}):h.jsx("div",{className:Re.FactContainer,children:h.jsx(Ur,{})})};function ae(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=ae(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var gd={value:()=>{}};function qn(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Mn(n)}function Mn(e){this._=e}function md(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Mn.prototype=qn.prototype={constructor:Mn,on:function(e,t){var n=this._,o=md(e+"",n),r,i=-1,s=o.length;if(arguments.length<2){for(;++i<s;)if((r=(e=o[i]).type)&&(r=pd(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(r=(e=o[i]).type)n[r]=qr(n[r],e.name,t);else if(t==null)for(r in n)n[r]=qr(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function pd(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function qr(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=gd,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var zo="http://www.w3.org/1999/xhtml";const Kr={svg:"http://www.w3.org/2000/svg",xhtml:zo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Kr.hasOwnProperty(t)?{space:Kr[t],local:e}:e}function xd(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zo&&t.documentElement.namespaceURI===zo?t.createElement(e):t.createElementNS(n,e)}}function yd(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ws(e){var t=Kn(e);return(t.local?yd:xd)(t)}function wd(){}function sr(e){return e==null?wd:function(){return this.querySelector(e)}}function vd(e){typeof e!="function"&&(e=sr(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=new Array(s),c,l,f=0;f<s;++f)(c=i[f])&&(l=e.call(c,c.__data__,f,i))&&("__data__"in c&&(l.__data__=c.__data__),a[f]=l);return new ge(o,this._parents)}function _d(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function bd(){return[]}function vs(e){return e==null?bd:function(){return this.querySelectorAll(e)}}function Sd(e){return function(){return _d(e.apply(this,arguments))}}function Nd(e){typeof e=="function"?e=Sd(e):e=vs(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var s=t[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(o.push(e.call(c,c.__data__,l,s)),r.push(c));return new ge(o,r)}function _s(e){return function(){return this.matches(e)}}function bs(e){return function(t){return t.matches(e)}}var Ed=Array.prototype.find;function Cd(e){return function(){return Ed.call(this.children,e)}}function Td(){return this.firstElementChild}function kd(e){return this.select(e==null?Td:Cd(typeof e=="function"?e:bs(e)))}var Md=Array.prototype.filter;function Id(){return Array.from(this.children)}function jd(e){return function(){return Md.call(this.children,e)}}function $d(e){return this.selectAll(e==null?Id:jd(typeof e=="function"?e:bs(e)))}function Ad(e){typeof e!="function"&&(e=_s(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new ge(o,this._parents)}function Ss(e){return new Array(e.length)}function Pd(){return new ge(this._enter||this._groups.map(Ss),this._parents)}function Dn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Dn.prototype={constructor:Dn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ld(e){return function(){return e}}function Dd(e,t,n,o,r,i){for(var s=0,a,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],o[s]=a):n[s]=new Dn(e,i[s]);for(;s<c;++s)(a=t[s])&&(r[s]=a)}function Rd(e,t,n,o,r,i,s){var a,c,l=new Map,f=t.length,u=i.length,d=new Array(f),g;for(a=0;a<f;++a)(c=t[a])&&(d[a]=g=s.call(c,c.__data__,a,t)+"",l.has(g)?r[a]=c:l.set(g,c));for(a=0;a<u;++a)g=s.call(e,i[a],a,i)+"",(c=l.get(g))?(o[a]=c,c.__data__=i[a],l.delete(g)):n[a]=new Dn(e,i[a]);for(a=0;a<f;++a)(c=t[a])&&l.get(d[a])===c&&(r[a]=c)}function Bd(e){return e.__data__}function Hd(e,t){if(!arguments.length)return Array.from(this,Bd);var n=t?Rd:Dd,o=this._parents,r=this._groups;typeof e!="function"&&(e=Ld(e));for(var i=r.length,s=new Array(i),a=new Array(i),c=new Array(i),l=0;l<i;++l){var f=o[l],u=r[l],d=u.length,g=Fd(e.call(f,f&&f.__data__,l,o)),p=g.length,m=a[l]=new Array(p),w=s[l]=new Array(p),x=c[l]=new Array(d);n(f,u,m,w,x,g,t);for(var _=0,y=0,v,S;_<p;++_)if(v=m[_]){for(_>=y&&(y=_+1);!(S=w[y])&&++y<p;);v._next=S||null}}return s=new ge(s,o),s._enter=a,s._exit=c,s}function Fd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zd(){return new ge(this._exit||this._groups.map(Ss),this._parents)}function Od(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Vd(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,s=Math.min(r,i),a=new Array(r),c=0;c<s;++c)for(var l=n[c],f=o[c],u=l.length,d=a[c]=new Array(u),g,p=0;p<u;++p)(g=l[p]||f[p])&&(d[p]=g);for(;c<r;++c)a[c]=n[c];return new ge(a,this._parents)}function Yd(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],s;--r>=0;)(s=o[r])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Wd(e){e||(e=Xd);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var s=n[i],a=s.length,c=r[i]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(c[f]=l);c.sort(t)}return new ge(r,this._parents).order()}function Xd(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Gd(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ud(){return Array.from(this)}function qd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var s=o[r];if(s)return s}return null}function Kd(){let e=0;for(const t of this)++e;return e}function Zd(){return!this.node()}function Qd(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,s=r.length,a;i<s;++i)(a=r[i])&&e.call(a,a.__data__,i,r);return this}function Jd(e){return function(){this.removeAttribute(e)}}function ef(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tf(e,t){return function(){this.setAttribute(e,t)}}function nf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function of(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function rf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sf(e,t){var n=Kn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?ef:Jd:typeof t=="function"?n.local?rf:of:n.local?nf:tf)(n,t))}function Ns(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function af(e){return function(){this.style.removeProperty(e)}}function cf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lf(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function uf(e,t,n){return arguments.length>1?this.each((t==null?af:typeof t=="function"?lf:cf)(e,t,n??"")):pt(this.node(),e)}function pt(e,t){return e.style.getPropertyValue(t)||Ns(e).getComputedStyle(e,null).getPropertyValue(t)}function df(e){return function(){delete this[e]}}function ff(e,t){return function(){this[e]=t}}function hf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function gf(e,t){return arguments.length>1?this.each((t==null?df:typeof t=="function"?hf:ff)(e,t)):this.node()[e]}function Es(e){return e.trim().split(/^|\s+/)}function ar(e){return e.classList||new Cs(e)}function Cs(e){this._node=e,this._names=Es(e.getAttribute("class")||"")}Cs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ts(e,t){for(var n=ar(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ks(e,t){for(var n=ar(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function mf(e){return function(){Ts(this,e)}}function pf(e){return function(){ks(this,e)}}function xf(e,t){return function(){(t.apply(this,arguments)?Ts:ks)(this,e)}}function yf(e,t){var n=Es(e+"");if(arguments.length<2){for(var o=ar(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?xf:t?mf:pf)(n,t))}function wf(){this.textContent=""}function vf(e){return function(){this.textContent=e}}function _f(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function bf(e){return arguments.length?this.each(e==null?wf:(typeof e=="function"?_f:vf)(e)):this.node().textContent}function Sf(){this.innerHTML=""}function Nf(e){return function(){this.innerHTML=e}}function Ef(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Cf(e){return arguments.length?this.each(e==null?Sf:(typeof e=="function"?Ef:Nf)(e)):this.node().innerHTML}function Tf(){this.nextSibling&&this.parentNode.appendChild(this)}function kf(){return this.each(Tf)}function Mf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function If(){return this.each(Mf)}function jf(e){var t=typeof e=="function"?e:ws(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $f(){return null}function Af(e,t){var n=typeof e=="function"?e:ws(e),o=t==null?$f:typeof t=="function"?t:sr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Pf(){var e=this.parentNode;e&&e.removeChild(this)}function Lf(){return this.each(Pf)}function Df(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bf(e){return this.select(e?Rf:Df)}function Hf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ff(e){return function(t){e.call(this,t,this.__data__)}}function zf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Of(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Vf(e,t,n){return function(){var o=this.__on,r,i=Ff(t);if(o){for(var s=0,a=o.length;s<a;++s)if((r=o[s]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Yf(e,t,n){var o=zf(e+""),r,i=o.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,f;c<l;++c)for(r=0,f=a[c];r<i;++r)if((s=o[r]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?Vf:Of,r=0;r<i;++r)this.each(a(o[r],t,n));return this}function Ms(e,t,n){var o=Ns(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Wf(e,t){return function(){return Ms(this,e,t)}}function Xf(e,t){return function(){return Ms(this,e,t.apply(this,arguments))}}function Gf(e,t){return this.each((typeof t=="function"?Xf:Wf)(e,t))}function*Uf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,s;r<i;++r)(s=o[r])&&(yield s)}var Is=[null];function ge(e,t){this._groups=e,this._parents=t}function Jt(){return new ge([[document.documentElement]],Is)}function qf(){return this}ge.prototype=Jt.prototype={constructor:ge,select:vd,selectAll:Nd,selectChild:kd,selectChildren:$d,filter:Ad,data:Hd,enter:Pd,exit:zd,join:Od,merge:Vd,selection:qf,order:Yd,sort:Wd,call:Gd,nodes:Ud,node:qd,size:Kd,empty:Zd,each:Qd,attr:sf,style:uf,property:gf,classed:yf,text:bf,html:Cf,raise:kf,lower:If,append:jf,insert:Af,remove:Lf,clone:Bf,datum:Hf,on:Yf,dispatch:Gf,[Symbol.iterator]:Uf};function he(e){return typeof e=="string"?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],Is)}function Kf(e){let t;for(;t=e.sourceEvent;)e=t;return e}function we(e,t){if(e=Kf(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Zf={passive:!1},Bt={capture:!0,passive:!1};function Co(e){e.stopImmediatePropagation()}function gt(e){e.preventDefault(),e.stopImmediatePropagation()}function js(e){var t=e.document.documentElement,n=he(e).on("dragstart.drag",gt,Bt);"onselectstart"in t?n.on("selectstart.drag",gt,Bt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $s(e,t){var n=e.document.documentElement,o=he(e).on("dragstart.drag",null);t&&(o.on("click.drag",gt,Bt),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const wn=e=>()=>e;function Oo(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:s,y:a,dx:c,dy:l,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:f}})}Oo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Qf(e){return!e.ctrlKey&&!e.button}function Jf(){return this.parentNode}function eh(e,t){return t??{x:e.x,y:e.y}}function th(){return navigator.maxTouchPoints||"ontouchstart"in this}function As(){var e=Qf,t=Jf,n=eh,o=th,r={},i=qn("start","drag","end"),s=0,a,c,l,f,u=0;function d(v){v.on("mousedown.drag",g).filter(o).on("touchstart.drag",w).on("touchmove.drag",x,Zf).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(v,S){if(!(f||!e.call(this,v,S))){var N=y(this,t.call(this,v,S),v,S,"mouse");N&&(he(v.view).on("mousemove.drag",p,Bt).on("mouseup.drag",m,Bt),js(v.view),Co(v),l=!1,a=v.clientX,c=v.clientY,N("start",v))}}function p(v){if(gt(v),!l){var S=v.clientX-a,N=v.clientY-c;l=S*S+N*N>u}r.mouse("drag",v)}function m(v){he(v.view).on("mousemove.drag mouseup.drag",null),$s(v.view,l),gt(v),r.mouse("end",v)}function w(v,S){if(e.call(this,v,S)){var N=v.changedTouches,E=t.call(this,v,S),k=N.length,$,O;for($=0;$<k;++$)(O=y(this,E,v,S,N[$].identifier,N[$]))&&(Co(v),O("start",v,N[$]))}}function x(v){var S=v.changedTouches,N=S.length,E,k;for(E=0;E<N;++E)(k=r[S[E].identifier])&&(gt(v),k("drag",v,S[E]))}function _(v){var S=v.changedTouches,N=S.length,E,k;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),E=0;E<N;++E)(k=r[S[E].identifier])&&(Co(v),k("end",v,S[E]))}function y(v,S,N,E,k,$){var O=i.copy(),P=we($||N,S),j,D,b;if((b=n.call(v,new Oo("beforestart",{sourceEvent:N,target:d,identifier:k,active:s,x:P[0],y:P[1],dx:0,dy:0,dispatch:O}),E))!=null)return j=b.x-P[0]||0,D=b.y-P[1]||0,function A(C,L,M){var T=P,R;switch(C){case"start":r[k]=A,R=s++;break;case"end":delete r[k],--s;case"drag":P=we(M||L,S),R=s;break}O.call(C,v,new Oo(C,{sourceEvent:L,subject:b,target:d,identifier:k,active:R,x:P[0]+j,y:P[1]+D,dx:P[0]-T[0],dy:P[1]-T[1],dispatch:O}),E)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:wn(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:wn(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:wn(v),d):n},d.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:wn(!!v),d):o},d.on=function(){var v=i.on.apply(i,arguments);return v===i?d:v},d.clickDistance=function(v){return arguments.length?(u=(v=+v)*v,d):Math.sqrt(u)},d}function cr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ps(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function en(){}var Ht=.7,Rn=1/Ht,mt="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nh=/^#([0-9a-f]{3,8})$/,oh=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),rh=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),ih=new RegExp(`^rgba\\(${mt},${mt},${mt},${Ft}\\)$`),sh=new RegExp(`^rgba\\(${Me},${Me},${Me},${Ft}\\)$`),ah=new RegExp(`^hsl\\(${Ft},${Me},${Me}\\)$`),ch=new RegExp(`^hsla\\(${Ft},${Me},${Me},${Ft}\\)$`),Zr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cr(en,ot,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qr,formatHex:Qr,formatHex8:lh,formatHsl:uh,formatRgb:Jr,toString:Jr});function Qr(){return this.rgb().formatHex()}function lh(){return this.rgb().formatHex8()}function uh(){return Ls(this).formatHsl()}function Jr(){return this.rgb().formatRgb()}function ot(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ei(t):n===3?new de(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oh.exec(e))?new de(t[1],t[2],t[3],1):(t=rh.exec(e))?new de(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ih.exec(e))?vn(t[1],t[2],t[3],t[4]):(t=sh.exec(e))?vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ah.exec(e))?oi(t[1],t[2]/100,t[3]/100,1):(t=ch.exec(e))?oi(t[1],t[2]/100,t[3]/100,t[4]):Zr.hasOwnProperty(e)?ei(Zr[e]):e==="transparent"?new de(NaN,NaN,NaN,0):null}function ei(e){return new de(e>>16&255,e>>8&255,e&255,1)}function vn(e,t,n,o){return o<=0&&(e=t=n=NaN),new de(e,t,n,o)}function dh(e){return e instanceof en||(e=ot(e)),e?(e=e.rgb(),new de(e.r,e.g,e.b,e.opacity)):new de}function Vo(e,t,n,o){return arguments.length===1?dh(e):new de(e,t,n,o??1)}function de(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}cr(de,Vo,Ps(en,{brighter(e){return e=e==null?Rn:Math.pow(Rn,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ht:Math.pow(Ht,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new de(tt(this.r),tt(this.g),tt(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ti,formatHex:ti,formatHex8:fh,formatRgb:ni,toString:ni}));function ti(){return`#${et(this.r)}${et(this.g)}${et(this.b)}`}function fh(){return`#${et(this.r)}${et(this.g)}${et(this.b)}${et((isNaN(this.opacity)?1:this.opacity)*255)}`}function ni(){const e=Bn(this.opacity);return`${e===1?"rgb(":"rgba("}${tt(this.r)}, ${tt(this.g)}, ${tt(this.b)}${e===1?")":`, ${e})`}`}function Bn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function et(e){return e=tt(e),(e<16?"0":"")+e.toString(16)}function oi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ve(e,t,n,o)}function Ls(e){if(e instanceof ve)return new ve(e.h,e.s,e.l,e.opacity);if(e instanceof en||(e=ot(e)),!e)return new ve;if(e instanceof ve)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),s=NaN,a=i-r,c=(i+r)/2;return a?(t===i?s=(n-o)/a+(n<o)*6:n===i?s=(o-t)/a+2:s=(t-n)/a+4,a/=c<.5?i+r:2-i-r,s*=60):a=c>0&&c<1?0:s,new ve(s,a,c,e.opacity)}function hh(e,t,n,o){return arguments.length===1?Ls(e):new ve(e,t,n,o??1)}function ve(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}cr(ve,hh,Ps(en,{brighter(e){return e=e==null?Rn:Math.pow(Rn,e),new ve(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ht:Math.pow(Ht,e),new ve(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new de(To(e>=240?e-240:e+120,r,o),To(e,r,o),To(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new ve(ri(this.h),_n(this.s),_n(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bn(this.opacity);return`${e===1?"hsl(":"hsla("}${ri(this.h)}, ${_n(this.s)*100}%, ${_n(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ri(e){return e=(e||0)%360,e<0?e+360:e}function _n(e){return Math.max(0,Math.min(1,e||0))}function To(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lr=e=>()=>e;function gh(e,t){return function(n){return e+n*t}}function mh(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function ph(e){return(e=+e)==1?Ds:function(t,n){return n-t?mh(t,n,e):lr(isNaN(t)?n:t)}}function Ds(e,t){var n=t-e;return n?gh(e,n):lr(isNaN(e)?t:e)}const Hn=(function e(t){var n=ph(t);function o(r,i){var s=n((r=Vo(r)).r,(i=Vo(i)).r),a=n(r.g,i.g),c=n(r.b,i.b),l=Ds(r.opacity,i.opacity);return function(f){return r.r=s(f),r.g=a(f),r.b=c(f),r.opacity=l(f),r+""}}return o.gamma=e,o})(1);function xh(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(i){for(r=0;r<n;++r)o[r]=e[r]*(1-i)+t[r]*i;return o}}function yh(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wh(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),i=new Array(n),s;for(s=0;s<o;++s)r[s]=Pt(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(a){for(s=0;s<o;++s)i[s]=r[s](a);return i}}function vh(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function ke(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _h(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Pt(e[r],t[r]):o[r]=t[r];return function(i){for(r in n)o[r]=n[r](i);return o}}var Yo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ko=new RegExp(Yo.source,"g");function bh(e){return function(){return e}}function Sh(e){return function(t){return e(t)+""}}function Rs(e,t){var n=Yo.lastIndex=ko.lastIndex=0,o,r,i,s=-1,a=[],c=[];for(e=e+"",t=t+"";(o=Yo.exec(e))&&(r=ko.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(o=o[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:ke(o,r)})),n=ko.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?Sh(c[0].x):bh(t):(t=c.length,function(l){for(var f=0,u;f<t;++f)a[(u=c[f]).i]=u.x(l);return a.join("")})}function Pt(e,t){var n=typeof t,o;return t==null||n==="boolean"?lr(t):(n==="number"?ke:n==="string"?(o=ot(t))?(t=o,Hn):Rs:t instanceof ot?Hn:t instanceof Date?vh:yh(t)?xh:Array.isArray(t)?wh:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_h:ke)(e,t)}var ii=180/Math.PI,Wo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bs(e,t,n,o,r,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,c/=a),e*o<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*ii,skewX:Math.atan(c)*ii,scaleX:s,scaleY:a}}var bn;function Nh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wo:Bs(t.a,t.b,t.c,t.d,t.e,t.f)}function Eh(e){return e==null||(bn||(bn=document.createElementNS("http://www.w3.org/2000/svg","g")),bn.setAttribute("transform",e),!(e=bn.transform.baseVal.consolidate()))?Wo:(e=e.matrix,Bs(e.a,e.b,e.c,e.d,e.e,e.f))}function Hs(e,t,n,o){function r(l){return l.length?l.pop()+" ":""}function i(l,f,u,d,g,p){if(l!==u||f!==d){var m=g.push("translate(",null,t,null,n);p.push({i:m-4,x:ke(l,u)},{i:m-2,x:ke(f,d)})}else(u||d)&&g.push("translate("+u+t+d+n)}function s(l,f,u,d){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),d.push({i:u.push(r(u)+"rotate(",null,o)-2,x:ke(l,f)})):f&&u.push(r(u)+"rotate("+f+o)}function a(l,f,u,d){l!==f?d.push({i:u.push(r(u)+"skewX(",null,o)-2,x:ke(l,f)}):f&&u.push(r(u)+"skewX("+f+o)}function c(l,f,u,d,g,p){if(l!==u||f!==d){var m=g.push(r(g)+"scale(",null,",",null,")");p.push({i:m-4,x:ke(l,u)},{i:m-2,x:ke(f,d)})}else(u!==1||d!==1)&&g.push(r(g)+"scale("+u+","+d+")")}return function(l,f){var u=[],d=[];return l=e(l),f=e(f),i(l.translateX,l.translateY,f.translateX,f.translateY,u,d),s(l.rotate,f.rotate,u,d),a(l.skewX,f.skewX,u,d),c(l.scaleX,l.scaleY,f.scaleX,f.scaleY,u,d),l=f=null,function(g){for(var p=-1,m=d.length,w;++p<m;)u[(w=d[p]).i]=w.x(g);return u.join("")}}}var Ch=Hs(Nh,"px, ","px)","deg)"),Th=Hs(Eh,", ",")",")"),kh=1e-12;function si(e){return((e=Math.exp(e))+1/e)/2}function Mh(e){return((e=Math.exp(e))-1/e)/2}function Ih(e){return((e=Math.exp(2*e))-1)/(e+1)}const In=(function e(t,n,o){function r(i,s){var a=i[0],c=i[1],l=i[2],f=s[0],u=s[1],d=s[2],g=f-a,p=u-c,m=g*g+p*p,w,x;if(m<kh)x=Math.log(d/l)/t,w=function(E){return[a+E*g,c+E*p,l*Math.exp(t*E*x)]};else{var _=Math.sqrt(m),y=(d*d-l*l+o*m)/(2*l*n*_),v=(d*d-l*l-o*m)/(2*d*n*_),S=Math.log(Math.sqrt(y*y+1)-y),N=Math.log(Math.sqrt(v*v+1)-v);x=(N-S)/t,w=function(E){var k=E*x,$=si(S),O=l/(n*_)*($*Ih(t*k+S)-Mh(S));return[a+O*g,c+O*p,l*$/si(t*k+S)]}}return w.duration=x*1e3*t/Math.SQRT2,w}return r.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},r})(Math.SQRT2,2,4);var xt=0,jt=0,Tt=0,Fs=1e3,Fn,$t,zn=0,rt=0,Zn=0,zt=typeof performance=="object"&&performance.now?performance:Date,zs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ur(){return rt||(zs(jh),rt=zt.now()+Zn)}function jh(){rt=0}function On(){this._call=this._time=this._next=null}On.prototype=Os.prototype={constructor:On,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ur():+n)+(t==null?0:+t),!this._next&&$t!==this&&($t?$t._next=this:Fn=this,$t=this),this._call=e,this._time=n,Xo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xo())}};function Os(e,t,n){var o=new On;return o.restart(e,t,n),o}function $h(){ur(),++xt;for(var e=Fn,t;e;)(t=rt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xt}function ai(){rt=(zn=zt.now())+Zn,xt=jt=0;try{$h()}finally{xt=0,Ph(),rt=0}}function Ah(){var e=zt.now(),t=e-zn;t>Fs&&(Zn-=t,zn=e)}function Ph(){for(var e,t=Fn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Fn=n);$t=e,Xo(o)}function Xo(e){if(!xt){jt&&(jt=clearTimeout(jt));var t=e-rt;t>24?(e<1/0&&(jt=setTimeout(ai,e-zt.now()-Zn)),Tt&&(Tt=clearInterval(Tt))):(Tt||(zn=zt.now(),Tt=setInterval(Ah,Fs)),xt=1,zs(ai))}}function ci(e,t,n){var o=new On;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var Lh=qn("start","end","cancel","interrupt"),Dh=[],Vs=0,li=1,Go=2,jn=3,ui=4,Uo=5,$n=6;function Qn(e,t,n,o,r,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Rh(e,n,{name:t,index:o,group:r,on:Lh,tween:Dh,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vs})}function dr(e,t){var n=Ne(e,t);if(n.state>Vs)throw new Error("too late; already scheduled");return n}function je(e,t){var n=Ne(e,t);if(n.state>jn)throw new Error("too late; already running");return n}function Ne(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Rh(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=Os(i,0,n.time);function i(l){n.state=li,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var f,u,d,g;if(n.state!==li)return c();for(f in o)if(g=o[f],g.name===n.name){if(g.state===jn)return ci(s);g.state===ui?(g.state=$n,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete o[f]):+f<t&&(g.state=$n,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete o[f])}if(ci(function(){n.state===jn&&(n.state=ui,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Go,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Go){for(n.state=jn,r=new Array(d=n.tween.length),f=0,u=-1;f<d;++f)(g=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=g);r.length=u+1}}function a(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Uo,1),u=-1,d=r.length;++u<d;)r[u].call(e,f);n.state===Uo&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=$n,n.timer.stop(),delete o[t];for(var l in o)return;delete e.__transition}}function An(e,t){var n=e.__transition,o,r,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((o=n[s]).name!==t){i=!1;continue}r=o.state>Go&&o.state<Uo,o.state=$n,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[s]}i&&delete e.__transition}}function Bh(e){return this.each(function(){An(this,e)})}function Hh(e,t){var n,o;return function(){var r=je(this,e),i=r.tween;if(i!==n){o=n=i;for(var s=0,a=o.length;s<a;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}r.tween=o}}function Fh(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=je(this,e),s=i.tween;if(s!==o){r=(o=s).slice();for(var a={name:t,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===t){r[c]=a;break}c===l&&r.push(a)}i.tween=r}}function zh(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Ne(this.node(),n).tween,r=0,i=o.length,s;r<i;++r)if((s=o[r]).name===e)return s.value;return null}return this.each((t==null?Hh:Fh)(n,e,t))}function fr(e,t,n){var o=e._id;return e.each(function(){var r=je(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Ne(r,o).value[t]}}function Ys(e,t){var n;return(typeof t=="number"?ke:t instanceof ot?Hn:(n=ot(t))?(t=n,Hn):Rs)(e,t)}function Oh(e){return function(){this.removeAttribute(e)}}function Vh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yh(e,t,n){var o,r=n+"",i;return function(){var s=this.getAttribute(e);return s===r?null:s===o?i:i=t(o=s,n)}}function Wh(e,t,n){var o,r=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===o?i:i=t(o=s,n)}}function Xh(e,t,n){var o,r,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===o&&c===r?i:(r=c,i=t(o=s,a)))}}function Gh(e,t,n){var o,r,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===o&&c===r?i:(r=c,i=t(o=s,a)))}}function Uh(e,t){var n=Kn(e),o=n==="transform"?Th:Ys;return this.attrTween(e,typeof t=="function"?(n.local?Gh:Xh)(n,o,fr(this,"attr."+e,t)):t==null?(n.local?Vh:Oh)(n):(n.local?Wh:Yh)(n,o,t))}function qh(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Kh(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Zh(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Kh(e,i)),n}return r._value=t,r}function Qh(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&qh(e,i)),n}return r._value=t,r}function Jh(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Kn(e);return this.tween(n,(o.local?Zh:Qh)(o,t))}function eg(e,t){return function(){dr(this,e).delay=+t.apply(this,arguments)}}function tg(e,t){return t=+t,function(){dr(this,e).delay=t}}function ng(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eg:tg)(t,e)):Ne(this.node(),t).delay}function og(e,t){return function(){je(this,e).duration=+t.apply(this,arguments)}}function rg(e,t){return t=+t,function(){je(this,e).duration=t}}function ig(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?og:rg)(t,e)):Ne(this.node(),t).duration}function sg(e,t){if(typeof t!="function")throw new Error;return function(){je(this,e).ease=t}}function ag(e){var t=this._id;return arguments.length?this.each(sg(t,e)):Ne(this.node(),t).ease}function cg(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;je(this,e).ease=n}}function lg(e){if(typeof e!="function")throw new Error;return this.each(cg(this._id,e))}function ug(e){typeof e!="function"&&(e=_s(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new Fe(o,this._parents,this._name,this._id)}function dg(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),s=new Array(o),a=0;a<i;++a)for(var c=t[a],l=n[a],f=c.length,u=s[a]=new Array(f),d,g=0;g<f;++g)(d=c[g]||l[g])&&(u[g]=d);for(;a<o;++a)s[a]=t[a];return new Fe(s,this._parents,this._name,this._id)}function fg(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hg(e,t,n){var o,r,i=fg(t)?dr:je;return function(){var s=i(this,e),a=s.on;a!==o&&(r=(o=a).copy()).on(t,n),s.on=r}}function gg(e,t){var n=this._id;return arguments.length<2?Ne(this.node(),n).on.on(e):this.each(hg(n,e,t))}function mg(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pg(){return this.on("end.remove",mg(this._id))}function xg(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sr(e));for(var o=this._groups,r=o.length,i=new Array(r),s=0;s<r;++s)for(var a=o[s],c=a.length,l=i[s]=new Array(c),f,u,d=0;d<c;++d)(f=a[d])&&(u=e.call(f,f.__data__,d,a))&&("__data__"in f&&(u.__data__=f.__data__),l[d]=u,Qn(l[d],t,n,d,l,Ne(f,n)));return new Fe(i,this._parents,t,n)}function yg(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vs(e));for(var o=this._groups,r=o.length,i=[],s=[],a=0;a<r;++a)for(var c=o[a],l=c.length,f,u=0;u<l;++u)if(f=c[u]){for(var d=e.call(f,f.__data__,u,c),g,p=Ne(f,n),m=0,w=d.length;m<w;++m)(g=d[m])&&Qn(g,t,n,m,d,p);i.push(d),s.push(f)}return new Fe(i,s,t,n)}var wg=Jt.prototype.constructor;function vg(){return new wg(this._groups,this._parents)}function _g(e,t){var n,o,r;return function(){var i=pt(this,e),s=(this.style.removeProperty(e),pt(this,e));return i===s?null:i===n&&s===o?r:r=t(n=i,o=s)}}function Ws(e){return function(){this.style.removeProperty(e)}}function bg(e,t,n){var o,r=n+"",i;return function(){var s=pt(this,e);return s===r?null:s===o?i:i=t(o=s,n)}}function Sg(e,t,n){var o,r,i;return function(){var s=pt(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),pt(this,e))),s===c?null:s===o&&c===r?i:(r=c,i=t(o=s,a))}}function Ng(e,t){var n,o,r,i="style."+t,s="end."+i,a;return function(){var c=je(this,e),l=c.on,f=c.value[i]==null?a||(a=Ws(t)):void 0;(l!==n||r!==f)&&(o=(n=l).copy()).on(s,r=f),c.on=o}}function Eg(e,t,n){var o=(e+="")=="transform"?Ch:Ys;return t==null?this.styleTween(e,_g(e,o)).on("end.style."+e,Ws(e)):typeof t=="function"?this.styleTween(e,Sg(e,o,fr(this,"style."+e,t))).each(Ng(this._id,e)):this.styleTween(e,bg(e,o,t),n).on("end.style."+e,null)}function Cg(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Tg(e,t,n){var o,r;function i(){var s=t.apply(this,arguments);return s!==r&&(o=(r=s)&&Cg(e,s,n)),o}return i._value=t,i}function kg(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Tg(e,t,n??""))}function Mg(e){return function(){this.textContent=e}}function Ig(e){return function(){var t=e(this);this.textContent=t??""}}function jg(e){return this.tween("text",typeof e=="function"?Ig(fr(this,"text",e)):Mg(e==null?"":e+""))}function $g(e){return function(t){this.textContent=e.call(this,t)}}function Ag(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&$g(r)),t}return o._value=e,o}function Pg(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ag(e))}function Lg(){for(var e=this._name,t=this._id,n=Xs(),o=this._groups,r=o.length,i=0;i<r;++i)for(var s=o[i],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var f=Ne(c,t);Qn(c,e,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Fe(o,this._parents,e,n)}function Dg(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--r===0&&i()}};n.each(function(){var l=je(this,o),f=l.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),r===0&&i()})}var Rg=0;function Fe(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Xs(){return++Rg}var Le=Jt.prototype;Fe.prototype={constructor:Fe,select:xg,selectAll:yg,selectChild:Le.selectChild,selectChildren:Le.selectChildren,filter:ug,merge:dg,selection:vg,transition:Lg,call:Le.call,nodes:Le.nodes,node:Le.node,size:Le.size,empty:Le.empty,each:Le.each,on:gg,attr:Uh,attrTween:Jh,style:Eg,styleTween:kg,text:jg,textTween:Pg,remove:pg,tween:zh,delay:ng,duration:ig,ease:ag,easeVarying:lg,end:Dg,[Symbol.iterator]:Le[Symbol.iterator]};function Bg(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Hg={time:null,delay:0,duration:250,ease:Bg};function Fg(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function zg(e){var t,n;e instanceof Fe?(t=e._id,e=e._name):(t=Xs(),(n=Hg).time=ur(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var s=o[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&Qn(c,e,t,l,s,n||Fg(c,t));return new Fe(o,this._parents,e,t)}Jt.prototype.interrupt=Bh;Jt.prototype.transition=zg;const Sn=e=>()=>e;function Og(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Be(e,t,n){this.k=e,this.x=t,this.y=n}Be.prototype={constructor:Be,scale:function(e){return e===1?this:new Be(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Be(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jn=new Be(1,0,0);Gs.prototype=Be.prototype;function Gs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Jn;return e.__zoom}function Mo(e){e.stopImmediatePropagation()}function kt(e){e.preventDefault(),e.stopImmediatePropagation()}function Vg(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Yg(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function di(){return this.__zoom||Jn}function Wg(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Xg(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gg(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Us(){var e=Vg,t=Yg,n=Gg,o=Wg,r=Xg,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=In,l=qn("start","zoom","end"),f,u,d,g=500,p=150,m=0,w=10;function x(b){b.property("__zoom",di).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",O).filter(r).on("touchstart.zoom",P).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(b,A,C,L){var M=b.selection?b.selection():b;M.property("__zoom",di),b!==M?S(b,A,C,L):M.interrupt().each(function(){N(this,arguments).event(L).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},x.scaleBy=function(b,A,C,L){x.scaleTo(b,function(){var M=this.__zoom.k,T=typeof A=="function"?A.apply(this,arguments):A;return M*T},C,L)},x.scaleTo=function(b,A,C,L){x.transform(b,function(){var M=t.apply(this,arguments),T=this.__zoom,R=C==null?v(M):typeof C=="function"?C.apply(this,arguments):C,H=T.invert(R),B=typeof A=="function"?A.apply(this,arguments):A;return n(y(_(T,B),R,H),M,s)},C,L)},x.translateBy=function(b,A,C,L){x.transform(b,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),s)},null,L)},x.translateTo=function(b,A,C,L,M){x.transform(b,function(){var T=t.apply(this,arguments),R=this.__zoom,H=L==null?v(T):typeof L=="function"?L.apply(this,arguments):L;return n(Jn.translate(H[0],H[1]).scale(R.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof C=="function"?-C.apply(this,arguments):-C),T,s)},L,M)};function _(b,A){return A=Math.max(i[0],Math.min(i[1],A)),A===b.k?b:new Be(A,b.x,b.y)}function y(b,A,C){var L=A[0]-C[0]*b.k,M=A[1]-C[1]*b.k;return L===b.x&&M===b.y?b:new Be(b.k,L,M)}function v(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,A,C,L){b.on("start.zoom",function(){N(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(L).end()}).tween("zoom",function(){var M=this,T=arguments,R=N(M,T).event(L),H=t.apply(M,T),B=C==null?v(H):typeof C=="function"?C.apply(M,T):C,X=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),Y=M.__zoom,q=typeof A=="function"?A.apply(M,T):A,K=c(Y.invert(B).concat(X/Y.k),q.invert(B).concat(X/q.k));return function(V){if(V===1)V=q;else{var z=K(V),G=X/z[2];V=new Be(G,B[0]-z[0]*G,B[1]-z[1]*G)}R.zoom(null,V)}})}function N(b,A,C){return!C&&b.__zooming||new E(b,A)}function E(b,A){this.that=b,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,A),this.taps=0}E.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,A){return this.mouse&&b!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var A=he(this.that).datum();l.call(b,this.that,new Og(b,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:l}),A)}};function k(b,...A){if(!e.apply(this,arguments))return;var C=N(this,A).event(b),L=this.__zoom,M=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,o.apply(this,arguments)))),T=we(b);if(C.wheel)(C.mouse[0][0]!==T[0]||C.mouse[0][1]!==T[1])&&(C.mouse[1]=L.invert(C.mouse[0]=T)),clearTimeout(C.wheel);else{if(L.k===M)return;C.mouse=[T,L.invert(T)],An(this),C.start()}kt(b),C.wheel=setTimeout(R,p),C.zoom("mouse",n(y(_(L,M),C.mouse[0],C.mouse[1]),C.extent,s));function R(){C.wheel=null,C.end()}}function $(b,...A){if(d||!e.apply(this,arguments))return;var C=b.currentTarget,L=N(this,A,!0).event(b),M=he(b.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",X,!0),T=we(b,C),R=b.clientX,H=b.clientY;js(b.view),Mo(b),L.mouse=[T,this.__zoom.invert(T)],An(this),L.start();function B(Y){if(kt(Y),!L.moved){var q=Y.clientX-R,K=Y.clientY-H;L.moved=q*q+K*K>m}L.event(Y).zoom("mouse",n(y(L.that.__zoom,L.mouse[0]=we(Y,C),L.mouse[1]),L.extent,s))}function X(Y){M.on("mousemove.zoom mouseup.zoom",null),$s(Y.view,L.moved),kt(Y),L.event(Y).end()}}function O(b,...A){if(e.apply(this,arguments)){var C=this.__zoom,L=we(b.changedTouches?b.changedTouches[0]:b,this),M=C.invert(L),T=C.k*(b.shiftKey?.5:2),R=n(y(_(C,T),L,M),t.apply(this,A),s);kt(b),a>0?he(this).transition().duration(a).call(S,R,L,b):he(this).call(x.transform,R,L,b)}}function P(b,...A){if(e.apply(this,arguments)){var C=b.touches,L=C.length,M=N(this,A,b.changedTouches.length===L).event(b),T,R,H,B;for(Mo(b),R=0;R<L;++R)H=C[R],B=we(H,this),B=[B,this.__zoom.invert(B),H.identifier],M.touch0?!M.touch1&&M.touch0[2]!==B[2]&&(M.touch1=B,M.taps=0):(M.touch0=B,T=!0,M.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(M.taps<2&&(u=B[0],f=setTimeout(function(){f=null},g)),An(this),M.start())}}function j(b,...A){if(this.__zooming){var C=N(this,A).event(b),L=b.changedTouches,M=L.length,T,R,H,B;for(kt(b),T=0;T<M;++T)R=L[T],H=we(R,this),C.touch0&&C.touch0[2]===R.identifier?C.touch0[0]=H:C.touch1&&C.touch1[2]===R.identifier&&(C.touch1[0]=H);if(R=C.that.__zoom,C.touch1){var X=C.touch0[0],Y=C.touch0[1],q=C.touch1[0],K=C.touch1[1],V=(V=q[0]-X[0])*V+(V=q[1]-X[1])*V,z=(z=K[0]-Y[0])*z+(z=K[1]-Y[1])*z;R=_(R,Math.sqrt(V/z)),H=[(X[0]+q[0])/2,(X[1]+q[1])/2],B=[(Y[0]+K[0])/2,(Y[1]+K[1])/2]}else if(C.touch0)H=C.touch0[0],B=C.touch0[1];else return;C.zoom("touch",n(y(R,H,B),C.extent,s))}}function D(b,...A){if(this.__zooming){var C=N(this,A).event(b),L=b.changedTouches,M=L.length,T,R;for(Mo(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),T=0;T<M;++T)R=L[T],C.touch0&&C.touch0[2]===R.identifier?delete C.touch0:C.touch1&&C.touch1[2]===R.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(R=we(R,this),Math.hypot(u[0]-R[0],u[1]-R[1])<w)){var H=he(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return x.wheelDelta=function(b){return arguments.length?(o=typeof b=="function"?b:Sn(+b),x):o},x.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Sn(!!b),x):e},x.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Sn(!!b),x):r},x.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Sn([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),x):t},x.scaleExtent=function(b){return arguments.length?(i[0]=+b[0],i[1]=+b[1],x):[i[0],i[1]]},x.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(b){return arguments.length?(n=b,x):n},x.duration=function(b){return arguments.length?(a=+b,x):a},x.interpolate=function(b){return arguments.length?(c=b,x):c},x.on=function(){var b=l.on.apply(l,arguments);return b===l?x:b},x.clickDistance=function(b){return arguments.length?(m=(b=+b)*b,x):Math.sqrt(m)},x.tapDistance=function(b){return arguments.length?(w=+b,x):w},x}const Ie={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ot=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qs=["Enter"," ","Escape"],Ks={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var yt;(function(e){e.Strict="strict",e.Loose="loose"})(yt||(yt={}));var nt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(nt||(nt={}));var Vt;(function(e){e.Partial="partial",e.Full="full"})(Vt||(Vt={}));const Zs={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Xe;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Xe||(Xe={}));var Vn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Vn||(Vn={}));var J;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(J||(J={}));const fi={[J.Left]:J.Right,[J.Right]:J.Left,[J.Top]:J.Bottom,[J.Bottom]:J.Top};function Qs(e){return e===null?null:e?"valid":"invalid"}const Js=e=>"id"in e&&"source"in e&&"target"in e,Ug=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),hr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),tn=(e,t=[0,0])=>{const{width:n,height:o}=ze(e),r=e.origin??t,i=n*r[0],s=o*r[1];return{x:e.position.x-i,y:e.position.y-s}},qg=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,r)=>{const i=typeof r=="string";let s=!t.nodeLookup&&!i?r:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(r):hr(r)?r:t.nodeLookup.get(r.id));const a=s?Yn(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return eo(o,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return to(n)},nn=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(r=>{(t.filter===void 0||t.filter(r))&&(n=eo(n,Yn(r)),o=!0)}),o?to(n):{x:0,y:0,width:0,height:0}},gr=(e,t,[n,o,r]=[0,0,1],i=!1,s=!1)=>{const a={...rn(t,[n,o,r]),width:t.width/r,height:t.height/r},c=[];for(const l of e.values()){const{measured:f,selectable:u=!0,hidden:d=!1}=l;if(s&&!u||d)continue;const g=f.width??l.width??l.initialWidth??null,p=f.height??l.height??l.initialHeight??null,m=Yt(a,vt(l)),w=(g??0)*(p??0),x=i&&m>0;(!l.internals.handleBounds||x||m>=w||l.dragging)&&c.push(l)}return c},Kg=(e,t)=>{const n=new Set;return e.forEach(o=>{n.add(o.id)}),t.filter(o=>n.has(o.source)||n.has(o.target))};function Zg(e,t){const n=new Map,o=t!=null&&t.nodes?new Set(t.nodes.map(r=>r.id)):null;return e.forEach(r=>{r.measured.width&&r.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!r.hidden)&&(!o||o.has(r.id))&&n.set(r.id,r)}),n}async function Qg({nodes:e,width:t,height:n,panZoom:o,minZoom:r,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const a=Zg(e,s),c=nn(a),l=mr(c,t,n,(s==null?void 0:s.minZoom)??r,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await o.setViewport(l,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function ea({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:r,onError:i}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:l}=a?a.internals.positionAbsolute:{x:0,y:0},f=s.origin??o;let u=s.extent||r;if(s.extent==="parent"&&!s.expandParent)if(!a)i==null||i("005",Ie.error005());else{const g=a.measured.width,p=a.measured.height;g&&p&&(u=[[c,l],[c+g,l+p]])}else a&&_t(s.extent)&&(u=[[s.extent[0][0]+c,s.extent[0][1]+l],[s.extent[1][0]+c,s.extent[1][1]+l]]);const d=_t(u)?it(t,u,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Ie.error015())),{position:{x:d.x-c+(s.measured.width??0)*f[0],y:d.y-l+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function Jg({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:r}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const g=i.has(d.id),p=!g&&d.parentId&&s.find(m=>m.id===d.parentId);(g||p)&&s.push(d)}const a=new Set(t.map(d=>d.id)),c=o.filter(d=>d.deletable!==!1),f=Kg(s,c);for(const d of c)a.has(d.id)&&!f.find(p=>p.id===d.id)&&f.push(d);if(!r)return{edges:f,nodes:s};const u=await r({nodes:s,edges:f});return typeof u=="boolean"?u?{edges:f,nodes:s}:{edges:[],nodes:[]}:u}const wt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),it=(e={x:0,y:0},t,n)=>({x:wt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:wt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function ta(e,t,n){const{width:o,height:r}=ze(n),{x:i,y:s}=n.internals.positionAbsolute;return it(e,[[i,s],[i+o,s+r]],t)}const hi=(e,t,n)=>e<t?wt(Math.abs(e-t),1,t)/t:e>n?-wt(Math.abs(e-n),1,t)/t:0,na=(e,t,n=15,o=40)=>{const r=hi(e.x,o,t.width-o)*n,i=hi(e.y,o,t.height-o)*n;return[r,i]},eo=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),qo=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),to=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),vt=(e,t=[0,0])=>{var r,i;const{x:n,y:o}=hr(e)?e.internals.positionAbsolute:tn(e,t);return{x:n,y:o,width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Yn=(e,t=[0,0])=>{var r,i;const{x:n,y:o}=hr(e)?e.internals.positionAbsolute:tn(e,t);return{x:n,y:o,x2:n+(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0),y2:o+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},oa=(e,t)=>to(eo(qo(e),qo(t))),Yt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},gi=e=>_e(e.width)&&_e(e.height)&&_e(e.x)&&_e(e.y),_e=e=>!isNaN(e)&&isFinite(e),em=(e,t)=>{},on=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),rn=({x:e,y:t},[n,o,r],i=!1,s=[1,1])=>{const a={x:(e-n)/r,y:(t-o)/r};return i?on(a,s):a},Wn=({x:e,y:t},[n,o,r])=>({x:e*r+n,y:t*r+o});function dt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function tm(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=dt(e,n),r=dt(e,t);return{top:o,right:r,bottom:o,left:r,x:r*2,y:o*2}}if(typeof e=="object"){const o=dt(e.top??e.y??0,n),r=dt(e.bottom??e.y??0,n),i=dt(e.left??e.x??0,t),s=dt(e.right??e.x??0,t);return{top:o,right:s,bottom:r,left:i,x:i+s,y:o+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function nm(e,t,n,o,r,i){const{x:s,y:a}=Wn(e,[t,n,o]),{x:c,y:l}=Wn({x:e.x+e.width,y:e.y+e.height},[t,n,o]),f=r-c,u=i-l;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(u)}}const mr=(e,t,n,o,r,i)=>{const s=tm(i,t,n),a=(t-s.x)/e.width,c=(n-s.y)/e.height,l=Math.min(a,c),f=wt(l,o,r),u=e.x+e.width/2,d=e.y+e.height/2,g=t/2-u*f,p=n/2-d*f,m=nm(e,g,p,f,t,n),w={left:Math.min(m.left-s.left,0),top:Math.min(m.top-s.top,0),right:Math.min(m.right-s.right,0),bottom:Math.min(m.bottom-s.bottom,0)};return{x:g-w.left+w.right,y:p-w.top+w.bottom,zoom:f}},Wt=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function _t(e){return e!=null&&e!=="parent"}function ze(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ra(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function ia(e,t={width:0,height:0},n,o,r){const i={...e},s=o.get(n);if(s){const a=s.origin||r;i.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function mi(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function om(){let e,t;return{promise:new Promise((o,r)=>{e=o,t=r}),resolve:e,reject:t}}function rm(e){return{...Ks,...e||{}}}function Lt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:r}){const{x:i,y:s}=be(e),a=rn({x:i-((r==null?void 0:r.left)??0),y:s-((r==null?void 0:r.top)??0)},o),{x:c,y:l}=n?on(a,t):a;return{xSnapped:c,ySnapped:l,...a}}const pr=e=>({width:e.offsetWidth,height:e.offsetHeight}),sa=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},im=["INPUT","SELECT","TEXTAREA"];function aa(e){var o,r;const t=((r=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:r[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:im.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const ca=e=>"clientX"in e,be=(e,t)=>{var i,s;const n=ca(e),o=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},pi=(e,t,n,o,r)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:r,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...pr(s)}})};function la({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:s,targetControlY:a}){const c=e*.125+r*.375+s*.375+n*.125,l=t*.125+i*.375+a*.375+o*.125,f=Math.abs(c-e),u=Math.abs(l-t);return[c,l,f,u]}function Nn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function xi({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){switch(e){case J.Left:return[t-Nn(t-o,i),n];case J.Right:return[t+Nn(o-t,i),n];case J.Top:return[t,n-Nn(n-r,i)];case J.Bottom:return[t,n+Nn(r-n,i)]}}function ua({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:o,targetY:r,targetPosition:i=J.Top,curvature:s=.25}){const[a,c]=xi({pos:n,x1:e,y1:t,x2:o,y2:r,c:s}),[l,f]=xi({pos:i,x1:o,y1:r,x2:e,y2:t,c:s}),[u,d,g,p]=la({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:f});return[`M${e},${t} C${a},${c} ${l},${f} ${o},${r}`,u,d,g,p]}function da({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,s=Math.abs(o-t)/2,a=o<t?o+s:o-s;return[i,a,r,s]}function sm({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o,elevateOnSelect:r=!1}){if(o!==void 0)return o;const i=r&&n?1e3:0,s=Math.max(e.parentId||r&&e.selected?e.internals.z:0,t.parentId||r&&t.selected?t.internals.z:0);return i+s}function am({sourceNode:e,targetNode:t,width:n,height:o,transform:r}){const i=eo(Yn(e),Yn(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:o/r[2]};return Yt(s,to(i))>0}const cm=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,lm=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),um=(e,t)=>{if(!e.source||!e.target)return t;let n;return Js(e)?n={...e}:n={...e,id:cm(e)},lm(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function fa({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[r,i,s,a]=da({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,i,s,a]}const yi={[J.Left]:{x:-1,y:0},[J.Right]:{x:1,y:0},[J.Top]:{x:0,y:-1},[J.Bottom]:{x:0,y:1}},dm=({source:e,sourcePosition:t=J.Bottom,target:n})=>t===J.Left||t===J.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},wi=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function fm({source:e,sourcePosition:t=J.Bottom,target:n,targetPosition:o=J.Top,center:r,offset:i,stepPosition:s}){const a=yi[t],c=yi[o],l={x:e.x+a.x*i,y:e.y+a.y*i},f={x:n.x+c.x*i,y:n.y+c.y*i},u=dm({source:l,sourcePosition:t,target:f}),d=u.x!==0?"x":"y",g=u[d];let p=[],m,w;const x={x:0,y:0},_={x:0,y:0},[,,y,v]=da({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*c[d]===-1){d==="x"?(m=r.x??l.x+(f.x-l.x)*s,w=r.y??(l.y+f.y)/2):(m=r.x??(l.x+f.x)/2,w=r.y??l.y+(f.y-l.y)*s);const N=[{x:m,y:l.y},{x:m,y:f.y}],E=[{x:l.x,y:w},{x:f.x,y:w}];a[d]===g?p=d==="x"?N:E:p=d==="x"?E:N}else{const N=[{x:l.x,y:f.y}],E=[{x:f.x,y:l.y}];if(d==="x"?p=a.x===g?E:N:p=a.y===g?N:E,t===o){const j=Math.abs(e[d]-n[d]);if(j<=i){const D=Math.min(i-1,i-j);a[d]===g?x[d]=(l[d]>e[d]?-1:1)*D:_[d]=(f[d]>n[d]?-1:1)*D}}if(t!==o){const j=d==="x"?"y":"x",D=a[d]===c[j],b=l[j]>f[j],A=l[j]<f[j];(a[d]===1&&(!D&&b||D&&A)||a[d]!==1&&(!D&&A||D&&b))&&(p=d==="x"?N:E)}const k={x:l.x+x.x,y:l.y+x.y},$={x:f.x+_.x,y:f.y+_.y},O=Math.max(Math.abs(k.x-p[0].x),Math.abs($.x-p[0].x)),P=Math.max(Math.abs(k.y-p[0].y),Math.abs($.y-p[0].y));O>=P?(m=(k.x+$.x)/2,w=p[0].y):(m=p[0].x,w=(k.y+$.y)/2)}return[[e,{x:l.x+x.x,y:l.y+x.y},...p,{x:f.x+_.x,y:f.y+_.y},n],m,w,y,v]}function hm(e,t,n,o){const r=Math.min(wi(e,t)/2,wi(t,n)/2,o),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+r*l},${s}Q ${i},${s} ${i},${s+r*f}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+r*c}Q ${i},${s} ${i+r*a},${s}`}function Ko({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:o,targetY:r,targetPosition:i=J.Top,borderRadius:s=5,centerX:a,centerY:c,offset:l=20,stepPosition:f=.5}){const[u,d,g,p,m]=fm({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:i,center:{x:a,y:c},offset:l,stepPosition:f});return[u.reduce((x,_,y)=>{let v="";return y>0&&y<u.length-1?v=hm(u[y-1],_,u[y+1],s):v=`${y===0?"M":"L"}${_.x} ${_.y}`,x+=v,x},""),d,g,p,m]}function vi(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function gm(e){var u;const{sourceNode:t,targetNode:n}=e;if(!vi(t)||!vi(n))return null;const o=t.internals.handleBounds||_i(t.handles),r=n.internals.handleBounds||_i(n.handles),i=bi((o==null?void 0:o.source)??[],e.sourceHandle),s=bi(e.connectionMode===yt.Strict?(r==null?void 0:r.target)??[]:((r==null?void 0:r.target)??[]).concat((r==null?void 0:r.source)??[]),e.targetHandle);if(!i||!s)return(u=e.onError)==null||u.call(e,"008",Ie.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||J.Bottom,c=(s==null?void 0:s.position)||J.Top,l=Xt(t,i,a),f=Xt(n,s,c);return{sourceX:l.x,sourceY:l.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:c}}function _i(e){if(!e)return null;const t=[],n=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function Xt(e,t,n=J.Left,o=!1){const r=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??ze(e);if(o)return{x:r+s/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case J.Top:return{x:r+s/2,y:i};case J.Right:return{x:r+s,y:i+a/2};case J.Bottom:return{x:r+s/2,y:i+a};case J.Left:return{x:r,y:i+a/2}}}function bi(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Zo(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function mm(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:r}){const i=new Set;return e.reduce((s,a)=>([a.markerStart||o,a.markerEnd||r].forEach(c=>{if(c&&typeof c=="object"){const l=Zo(c,t);i.has(l)||(s.push({id:l,color:c.color||n,...c}),i.add(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const ha=1e3,pm=10,xr={nodeOrigin:[0,0],nodeExtent:Ot,elevateNodesOnSelect:!0,defaults:{}},xm={...xr,checkEquality:!0};function yr(e,t){const n={...e};for(const o in t)t[o]!==void 0&&(n[o]=t[o]);return n}function ym(e,t,n){const o=yr(xr,n);for(const r of e.values())if(r.parentId)wr(r,e,t,o);else{const i=tn(r,o.nodeOrigin),s=_t(r.extent)?r.extent:o.nodeExtent,a=it(i,s,ze(r));r.internals.positionAbsolute=a}}function wm(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],o=[];for(const r of e.handles){const i={id:r.id,width:r.width??1,height:r.height??1,nodeId:e.id,x:r.x,y:r.y,position:r.position,type:r.type};r.type==="source"?n.push(i):r.type==="target"&&o.push(i)}return{source:n,target:o}}function Qo(e,t,n,o){var l,f;const r=yr(xm,o);let i={i:-1},s=e.length>0;const a=new Map(t),c=r!=null&&r.elevateNodesOnSelect?ha:0;t.clear(),n.clear();for(const u of e){let d=a.get(u.id);if(r.checkEquality&&u===(d==null?void 0:d.internals.userNode))t.set(u.id,d);else{const g=tn(u,r.nodeOrigin),p=_t(u.extent)?u.extent:r.nodeExtent,m=it(g,p,ze(u));d={...r.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(f=u.measured)==null?void 0:f.height},internals:{positionAbsolute:m,handleBounds:wm(u,d),z:ga(u,c),userNode:u}},t.set(u.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(s=!1),u.parentId&&wr(d,t,n,o,i)}return s}function vm(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function wr(e,t,n,o,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:a}=yr(xr,o),c=e.parentId,l=t.get(c);if(!l){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}vm(e,n),r&&!l.parentId&&l.internals.rootParentIndex===void 0&&(l.internals.rootParentIndex=++r.i,l.internals.z=l.internals.z+r.i*pm),r&&l.internals.rootParentIndex!==void 0&&(r.i=l.internals.rootParentIndex);const f=i?ha:0,{x:u,y:d,z:g}=_m(e,l,s,a,f),{positionAbsolute:p}=e.internals,m=u!==p.x||d!==p.y;(m||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:u,y:d}:p,z:g}})}function ga(e,t){return(_e(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function _m(e,t,n,o,r){const{x:i,y:s}=t.internals.positionAbsolute,a=ze(e),c=tn(e,n),l=_t(e.extent)?it(c,e.extent,a):c;let f=it({x:i+l.x,y:s+l.y},o,a);e.extent==="parent"&&(f=ta(f,a,t));const u=ga(e,r),d=t.internals.z??0;return{x:f.x,y:f.y,z:d>=u?d+1:u}}function vr(e,t,n,o=[0,0]){var s;const r=[],i=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const l=((s=i.get(a.parentId))==null?void 0:s.expandedRect)??vt(c),f=oa(l,a.rect);i.set(a.parentId,{expandedRect:f,parent:c})}return i.size>0&&i.forEach(({expandedRect:a,parent:c},l)=>{var y;const f=c.internals.positionAbsolute,u=ze(c),d=c.origin??o,g=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,p=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,m=Math.max(u.width,Math.round(a.width)),w=Math.max(u.height,Math.round(a.height)),x=(m-u.width)*d[0],_=(w-u.height)*d[1];(g>0||p>0||x||_)&&(r.push({id:l,type:"position",position:{x:c.position.x-g+x,y:c.position.y-p+_}}),(y=n.get(l))==null||y.forEach(v=>{e.some(S=>S.id===v.id)||r.push({id:v.id,type:"position",position:{x:v.position.x+g,y:v.position.y+p}})})),(u.width<a.width||u.height<a.height||g||p)&&r.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:m+(g?d[0]*g-x:0),height:w+(p?d[1]*p-_:0)}})}),r}function bm(e,t,n,o,r,i){const s=o==null?void 0:o.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const c=[],l=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(l.transform),u=[];for(const d of e.values()){const g=t.get(d.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const p=pr(d.nodeElement),m=g.measured.width!==p.width||g.measured.height!==p.height;if(!!(p.width&&p.height&&(m||!g.internals.handleBounds||d.force))){const x=d.nodeElement.getBoundingClientRect(),_=_t(g.extent)?g.extent:i;let{positionAbsolute:y}=g.internals;g.parentId&&g.extent==="parent"?y=ta(y,p,t.get(g.parentId)):_&&(y=it(y,_,p));const v={...g,measured:p,internals:{...g.internals,positionAbsolute:y,handleBounds:{source:pi("source",d.nodeElement,x,f,g.id),target:pi("target",d.nodeElement,x,f,g.id)}}};t.set(g.id,v),g.parentId&&wr(v,t,n,{nodeOrigin:r}),a=!0,m&&(c.push({id:g.id,type:"dimensions",dimensions:p}),g.expandParent&&g.parentId&&u.push({id:g.id,parentId:g.parentId,rect:vt(v,r)}))}}if(u.length>0){const d=vr(u,t,n,r);c.push(...d)}return{changes:c,updatedInternals:a}}async function Sm({delta:e,panZoom:t,transform:n,translateExtent:o,width:r,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,i]],o),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Si(e,t,n,o,r,i){let s=r;const a=o.get(s)||new Map;o.set(s,a.set(n,t)),s=`${r}-${e}`;const c=o.get(s)||new Map;if(o.set(s,c.set(n,t)),i){s=`${r}-${e}-${i}`;const l=o.get(s)||new Map;o.set(s,l.set(n,t))}}function ma(e,t,n){e.clear(),t.clear();for(const o of n){const{source:r,target:i,sourceHandle:s=null,targetHandle:a=null}=o,c={edgeId:o.id,source:r,target:i,sourceHandle:s,targetHandle:a},l=`${r}-${s}--${i}-${a}`,f=`${i}-${a}--${r}-${s}`;Si("source",c,f,e,r,s),Si("target",c,l,e,i,a),t.set(o.id,o)}}function pa(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:pa(n,t):!1}function Ni(e,t,n){var r;let o=e;do{if((r=o==null?void 0:o.matches)!=null&&r.call(o,t))return!0;if(o===n)return!1;o=o==null?void 0:o.parentElement}while(o);return!1}function Nm(e,t,n,o){const r=new Map;for(const[i,s]of e)if((s.selected||s.id===o)&&(!s.parentId||!pa(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(i);a&&r.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return r}function Io({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){var s,a,c;const r=[];for(const[l,f]of t){const u=(s=n.get(l))==null?void 0:s.internals.userNode;u&&r.push({...u,position:f.position,dragging:o})}if(!e)return[r[0],r];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:o}:r[0],r]}function Em({dragItems:e,snapGrid:t,x:n,y:o}){const r=e.values().next().value;if(!r)return null;const i={x:n-r.distance.x,y:o-r.distance.y},s=on(i,t);return{x:s.x-i.x,y:s.y-i.y}}function Cm({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:r}){let i={x:null,y:null},s=0,a=new Map,c=!1,l={x:0,y:0},f=null,u=!1,d=null,g=!1,p=!1,m=null;function w({noDragClassName:_,handleSelector:y,domNode:v,isSelectable:S,nodeId:N,nodeClickDistance:E=0}){d=he(v);function k({x:j,y:D}){const{nodeLookup:b,nodeExtent:A,snapGrid:C,snapToGrid:L,nodeOrigin:M,onNodeDrag:T,onSelectionDrag:R,onError:H,updateNodePositions:B}=t();i={x:j,y:D};let X=!1;const Y=a.size>1,q=Y&&A?qo(nn(a)):null,K=Y&&L?Em({dragItems:a,snapGrid:C,x:j,y:D}):null;for(const[V,z]of a){if(!b.has(V))continue;let G={x:j-z.distance.x,y:D-z.distance.y};L&&(G=K?{x:Math.round(G.x+K.x),y:Math.round(G.y+K.y)}:on(G,C));let Z=null;if(Y&&A&&!z.extent&&q){const{positionAbsolute:W}=z.internals,Q=W.x-q.x+A[0][0],te=W.x+z.measured.width-q.x2+A[1][0],ee=W.y-q.y+A[0][1],oe=W.y+z.measured.height-q.y2+A[1][1];Z=[[Q,ee],[te,oe]]}const{position:U,positionAbsolute:F}=ea({nodeId:V,nextPosition:G,nodeLookup:b,nodeExtent:Z||A,nodeOrigin:M,onError:H});X=X||z.position.x!==U.x||z.position.y!==U.y,z.position=U,z.internals.positionAbsolute=F}if(p=p||X,!!X&&(B(a,!0),m&&(o||T||!N&&R))){const[V,z]=Io({nodeId:N,dragItems:a,nodeLookup:b});o==null||o(m,a,V,z),T==null||T(m,V,z),N||R==null||R(m,z)}}async function $(){if(!f)return;const{transform:j,panBy:D,autoPanSpeed:b,autoPanOnNodeDrag:A}=t();if(!A){c=!1,cancelAnimationFrame(s);return}const[C,L]=na(l,f,b);(C!==0||L!==0)&&(i.x=(i.x??0)-C/j[2],i.y=(i.y??0)-L/j[2],await D({x:C,y:L})&&k(i)),s=requestAnimationFrame($)}function O(j){var Y;const{nodeLookup:D,multiSelectionActive:b,nodesDraggable:A,transform:C,snapGrid:L,snapToGrid:M,selectNodesOnDrag:T,onNodeDragStart:R,onSelectionDragStart:H,unselectNodesAndEdges:B}=t();u=!0,(!T||!S)&&!b&&N&&((Y=D.get(N))!=null&&Y.selected||B()),S&&T&&N&&(e==null||e(N));const X=Lt(j.sourceEvent,{transform:C,snapGrid:L,snapToGrid:M,containerBounds:f});if(i=X,a=Nm(D,A,X,N),a.size>0&&(n||R||!N&&H)){const[q,K]=Io({nodeId:N,dragItems:a,nodeLookup:D});n==null||n(j.sourceEvent,a,q,K),R==null||R(j.sourceEvent,q,K),N||H==null||H(j.sourceEvent,K)}}const P=As().clickDistance(E).on("start",j=>{const{domNode:D,nodeDragThreshold:b,transform:A,snapGrid:C,snapToGrid:L}=t();f=(D==null?void 0:D.getBoundingClientRect())||null,g=!1,p=!1,m=j.sourceEvent,b===0&&O(j),i=Lt(j.sourceEvent,{transform:A,snapGrid:C,snapToGrid:L,containerBounds:f}),l=be(j.sourceEvent,f)}).on("drag",j=>{const{autoPanOnNodeDrag:D,transform:b,snapGrid:A,snapToGrid:C,nodeDragThreshold:L,nodeLookup:M}=t(),T=Lt(j.sourceEvent,{transform:b,snapGrid:A,snapToGrid:C,containerBounds:f});if(m=j.sourceEvent,(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||N&&!M.has(N))&&(g=!0),!g){if(!c&&D&&u&&(c=!0,$()),!u){const R=be(j.sourceEvent,f),H=R.x-l.x,B=R.y-l.y;Math.sqrt(H*H+B*B)>L&&O(j)}(i.x!==T.xSnapped||i.y!==T.ySnapped)&&a&&u&&(l=be(j.sourceEvent,f),k(T))}}).on("end",j=>{if(!(!u||g)&&(c=!1,u=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:D,updateNodePositions:b,onNodeDragStop:A,onSelectionDragStop:C}=t();if(p&&(b(a,!1),p=!1),r||A||!N&&C){const[L,M]=Io({nodeId:N,dragItems:a,nodeLookup:D,dragging:!1});r==null||r(j.sourceEvent,a,L,M),A==null||A(j.sourceEvent,L,M),N||C==null||C(j.sourceEvent,M)}}}).filter(j=>{const D=j.target;return!j.button&&(!_||!Ni(D,`.${_}`,v))&&(!y||Ni(D,y,v))});d.call(P)}function x(){d==null||d.on(".drag",null)}return{update:w,destroy:x}}function Tm(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Yt(r,vt(i))>0&&o.push(i);return o}const km=250;function Mm(e,t,n,o){var a,c;let r=[],i=1/0;const s=Tm(e,n,t+km);for(const l of s){const f=[...((a=l.internals.handleBounds)==null?void 0:a.source)??[],...((c=l.internals.handleBounds)==null?void 0:c.target)??[]];for(const u of f){if(o.nodeId===u.nodeId&&o.type===u.type&&o.id===u.id)continue;const{x:d,y:g}=Xt(l,u,u.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(g-e.y,2));p>t||(p<i?(r=[{...u,x:d,y:g}],i=p):p===i&&r.push({...u,x:d,y:g}))}}if(!r.length)return null;if(r.length>1){const l=o.type==="source"?"target":"source";return r.find(f=>f.type===l)??r[0]}return r[0]}function xa(e,t,n,o,r,i=!1){var l,f,u;const s=o.get(e);if(!s)return null;const a=r==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((u=s.internals.handleBounds)==null?void 0:u.target)??[]],c=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return c&&i?{...c,...Xt(s,c,c.position,!0)}:c}function ya(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Im(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const wa=()=>!0;function jm(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:r,edgeUpdaterType:i,isTarget:s,domNode:a,nodeLookup:c,lib:l,autoPanOnConnect:f,flowId:u,panBy:d,cancelConnection:g,onConnectStart:p,onConnect:m,onConnectEnd:w,isValidConnection:x=wa,onReconnectEnd:_,updateConnection:y,getTransform:v,getFromHandle:S,autoPanSpeed:N,dragThreshold:E=1,handleDomNode:k}){const $=sa(e.target);let O=0,P;const{x:j,y:D}=be(e),b=ya(i,k),A=a==null?void 0:a.getBoundingClientRect();let C=!1;if(!A||!b)return;const L=xa(r,b,o,c,t);if(!L)return;let M=be(e,A),T=!1,R=null,H=!1,B=null;function X(){if(!f||!A)return;const[U,F]=na(M,A,N);d({x:U,y:F}),O=requestAnimationFrame(X)}const Y={...L,nodeId:r,type:b,position:L.position},q=c.get(r);let V={inProgress:!0,isValid:null,from:Xt(q,Y,J.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:q,to:M,toHandle:null,toPosition:fi[Y.position],toNode:null,pointer:M};function z(){C=!0,y(V),p==null||p(e,{nodeId:r,handleId:o,handleType:b})}E===0&&z();function G(U){if(!C){const{x:te,y:ee}=be(U),oe=te-j,ce=ee-D;if(!(oe*oe+ce*ce>E*E))return;z()}if(!S()||!Y){Z(U);return}const F=v();M=be(U,A),P=Mm(rn(M,F,!1,[1,1]),n,c,Y),T||(X(),T=!0);const W=va(U,{handle:P,connectionMode:t,fromNodeId:r,fromHandleId:o,fromType:s?"target":"source",isValidConnection:x,doc:$,lib:l,flowId:u,nodeLookup:c});B=W.handleDomNode,R=W.connection,H=Im(!!P,W.isValid);const Q={...V,isValid:H,to:W.toHandle&&H?Wn({x:W.toHandle.x,y:W.toHandle.y},F):M,toHandle:W.toHandle,toPosition:H&&W.toHandle?W.toHandle.position:fi[Y.position],toNode:W.toHandle?c.get(W.toHandle.nodeId):null,pointer:M};y(Q),V=Q}function Z(U){if(!("touches"in U&&U.touches.length>0)){if(C){(P||B)&&R&&H&&(m==null||m(R));const{inProgress:F,...W}=V,Q={...W,toPosition:V.toHandle?V.toPosition:null};w==null||w(U,Q),i&&(_==null||_(U,Q))}g(),cancelAnimationFrame(O),T=!1,H=!1,R=null,B=null,$.removeEventListener("mousemove",G),$.removeEventListener("mouseup",Z),$.removeEventListener("touchmove",G),$.removeEventListener("touchend",Z)}}$.addEventListener("mousemove",G),$.addEventListener("mouseup",Z),$.addEventListener("touchmove",G),$.addEventListener("touchend",Z)}function va(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:i,doc:s,lib:a,flowId:c,isValidConnection:l=wa,nodeLookup:f}){const u=i==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:p}=be(e),m=s.elementFromPoint(g,p),w=m!=null&&m.classList.contains(`${a}-flow__handle`)?m:d,x={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const _=ya(void 0,w),y=w.getAttribute("data-nodeid"),v=w.getAttribute("data-handleid"),S=w.classList.contains("connectable"),N=w.classList.contains("connectableend");if(!y||!_)return x;const E={source:u?y:o,sourceHandle:u?v:r,target:u?o:y,targetHandle:u?r:v};x.connection=E;const $=S&&N&&(n===yt.Strict?u&&_==="source"||!u&&_==="target":y!==o||v!==r);x.isValid=$&&l(E),x.toHandle=xa(y,_,v,f,n,!0)}return x}const Jo={onPointerDown:jm,isValid:va};function $m({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){const r=he(e);function i({translateExtent:a,width:c,height:l,zoomStep:f=1,pannable:u=!0,zoomable:d=!0,inversePan:g=!1}){const p=y=>{if(y.sourceEvent.type!=="wheel"||!t)return;const v=n(),S=y.sourceEvent.ctrlKey&&Wt()?10:1,N=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*f,E=v[2]*Math.pow(2,N*S);t.scaleTo(E)};let m=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(m=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},x=y=>{const v=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const S=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],N=[S[0]-m[0],S[1]-m[1]];m=S;const E=o()*Math.max(v[2],Math.log(v[2]))*(g?-1:1),k={x:v[0]-N[0]*E,y:v[1]-N[1]*E},$=[[0,0],[c,l]];t.setViewportConstrained({x:k.x,y:k.y,zoom:v[2]},$,a)},_=Us().on("start",w).on("zoom",u?x:null).on("zoom.wheel",d?p:null);r.call(_,{})}function s(){r.on("zoom",null)}return{update:i,destroy:s,pointer:we}}const no=e=>({x:e.x,y:e.y,zoom:e.k}),jo=({x:e,y:t,zoom:n})=>Jn.translate(e,t).scale(n),ft=(e,t)=>e.target.closest(`.${t}`),_a=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Am=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,$o=(e,t=0,n=Am,o=()=>{})=>{const r=typeof t=="number"&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e},ba=e=>{const t=e.ctrlKey&&Wt()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Pm({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:r,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:l}){return f=>{if(ft(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const u=n.property("__zoom").k||1;if(f.ctrlKey&&s){const w=we(f),x=ba(f),_=u*Math.pow(2,x);o.scaleTo(n,_,w,f);return}const d=f.deltaMode===1?20:1;let g=r===nt.Vertical?0:f.deltaX*d,p=r===nt.Horizontal?0:f.deltaY*d;!Wt()&&f.shiftKey&&r!==nt.Vertical&&(g=f.deltaY*d,p=0),o.translateBy(n,-(g/u)*i,-(p/u)*i,{internal:!0});const m=no(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(f,m),e.panScrollTimeout=setTimeout(()=>{l==null||l(f,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(f,m))}}function Lm({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,r){const i=o.type==="wheel",s=!t&&i&&!o.ctrlKey,a=ft(o,e);if(o.ctrlKey&&i&&a&&o.preventDefault(),s||a)return null;o.preventDefault(),n.call(this,o,r)}}function Dm({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{var i,s,a;if((i=o.sourceEvent)!=null&&i.internal)return;const r=no(o.transform);e.mouseButton=((s=o.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=r,((a=o.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(o.sourceEvent,r))}}function Rm({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:r}){return i=>{var s,a;e.usedRightMouseButton=!!(n&&_a(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||o([i.transform.x,i.transform.y,i.transform.k]),r&&!((a=i.sourceEvent)!=null&&a.internal)&&(r==null||r(i.sourceEvent,no(i.transform)))}}function Bm({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:r,onPaneContextMenu:i}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&_a(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,o(!1),r)){const c=no(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{r==null||r(s.sourceEvent,c)},n?150:0)}}}function Hm({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:r,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:l,connectionInProgress:f}){return u=>{var w;const d=e||t,g=n&&u.ctrlKey,p=u.type==="wheel";if(u.button===1&&u.type==="mousedown"&&(ft(u,`${l}-flow__node`)||ft(u,`${l}-flow__edge`)))return!0;if(!o&&!d&&!r&&!i&&!n||s||f&&!p||ft(u,a)&&p||ft(u,c)&&(!p||r&&p&&!e)||!n&&u.ctrlKey&&p)return!1;if(!n&&u.type==="touchstart"&&((w=u.touches)==null?void 0:w.length)>1)return u.preventDefault(),!1;if(!d&&!r&&!g&&p||!o&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(o)&&!o.includes(u.button)&&u.type==="mousedown")return!1;const m=Array.isArray(o)&&o.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||p)&&m}}function Fm({domNode:e,minZoom:t,maxZoom:n,translateExtent:o,viewport:r,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:c}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),u=Us().scaleExtent([t,n]).translateExtent(o),d=he(e).call(u);_({x:r.x,y:r.y,zoom:wt(r.zoom,t,n)},[[0,0],[f.width,f.height]],o);const g=d.on("wheel.zoom"),p=d.on("dblclick.zoom");u.wheelDelta(ba);function m(P,j){return d?new Promise(D=>{u==null||u.interpolate((j==null?void 0:j.interpolate)==="linear"?Pt:In).transform($o(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>D(!0)),P)}):Promise.resolve(!1)}function w({noWheelClassName:P,noPanClassName:j,onPaneContextMenu:D,userSelectionActive:b,panOnScroll:A,panOnDrag:C,panOnScrollMode:L,panOnScrollSpeed:M,preventScrolling:T,zoomOnPinch:R,zoomOnScroll:H,zoomOnDoubleClick:B,zoomActivationKeyPressed:X,lib:Y,onTransformChange:q,connectionInProgress:K,paneClickDistance:V,selectionOnDrag:z}){b&&!l.isZoomingOrPanning&&x();const G=A&&!X&&!b;u.clickDistance(z?1/0:!_e(V)||V<0?0:V);const Z=G?Pm({zoomPanValues:l,noWheelClassName:P,d3Selection:d,d3Zoom:u,panOnScrollMode:L,panOnScrollSpeed:M,zoomOnPinch:R,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:a}):Lm({noWheelClassName:P,preventScrolling:T,d3ZoomHandler:g});if(d.on("wheel.zoom",Z,{passive:!1}),!b){const F=Dm({zoomPanValues:l,onDraggingChange:c,onPanZoomStart:s});u.on("start",F);const W=Rm({zoomPanValues:l,panOnDrag:C,onPaneContextMenu:!!D,onPanZoom:i,onTransformChange:q});u.on("zoom",W);const Q=Bm({zoomPanValues:l,panOnDrag:C,panOnScroll:A,onPaneContextMenu:D,onPanZoomEnd:a,onDraggingChange:c});u.on("end",Q)}const U=Hm({zoomActivationKeyPressed:X,panOnDrag:C,zoomOnScroll:H,panOnScroll:A,zoomOnDoubleClick:B,zoomOnPinch:R,userSelectionActive:b,noPanClassName:j,noWheelClassName:P,lib:Y,connectionInProgress:K});u.filter(U),B?d.on("dblclick.zoom",p):d.on("dblclick.zoom",null)}function x(){u.on("zoom",null)}async function _(P,j,D){const b=jo(P),A=u==null?void 0:u.constrain()(b,j,D);return A&&await m(A),new Promise(C=>C(A))}async function y(P,j){const D=jo(P);return await m(D,j),new Promise(b=>b(D))}function v(P){if(d){const j=jo(P),D=d.property("__zoom");(D.k!==P.zoom||D.x!==P.x||D.y!==P.y)&&(u==null||u.transform(d,j,null,{sync:!0}))}}function S(){const P=d?Gs(d.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function N(P,j){return d?new Promise(D=>{u==null||u.interpolate((j==null?void 0:j.interpolate)==="linear"?Pt:In).scaleTo($o(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>D(!0)),P)}):Promise.resolve(!1)}function E(P,j){return d?new Promise(D=>{u==null||u.interpolate((j==null?void 0:j.interpolate)==="linear"?Pt:In).scaleBy($o(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>D(!0)),P)}):Promise.resolve(!1)}function k(P){u==null||u.scaleExtent(P)}function $(P){u==null||u.translateExtent(P)}function O(P){const j=!_e(P)||P<0?0:P;u==null||u.clickDistance(j)}return{update:w,destroy:x,setViewport:y,setViewportConstrained:_,getViewport:S,scaleTo:N,scaleBy:E,setScaleExtent:k,setTranslateExtent:$,syncViewport:v,setClickDistance:O}}var bt;(function(e){e.Line="line",e.Handle="handle"})(bt||(bt={}));function zm({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:r,affectsY:i}){const s=e-t,a=n-o,c=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&r&&(c[0]=c[0]*-1),a&&i&&(c[1]=c[1]*-1),c}function Ei(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),o=e.includes("left"),r=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:o,affectsY:r}}function Ye(e,t){return Math.max(0,t-e)}function We(e,t){return Math.max(0,e-t)}function En(e,t,n){return Math.max(0,t-e,e-n)}function Ci(e,t){return e?!t:t}function Om(e,t,n,o,r,i,s,a){let{affectsX:c,affectsY:l}=t;const{isHorizontal:f,isVertical:u}=t,d=f&&u,{xSnapped:g,ySnapped:p}=n,{minWidth:m,maxWidth:w,minHeight:x,maxHeight:_}=o,{x:y,y:v,width:S,height:N,aspectRatio:E}=e;let k=Math.floor(f?g-e.pointerX:0),$=Math.floor(u?p-e.pointerY:0);const O=S+(c?-k:k),P=N+(l?-$:$),j=-i[0]*S,D=-i[1]*N;let b=En(O,m,w),A=En(P,x,_);if(s){let M=0,T=0;c&&k<0?M=Ye(y+k+j,s[0][0]):!c&&k>0&&(M=We(y+O+j,s[1][0])),l&&$<0?T=Ye(v+$+D,s[0][1]):!l&&$>0&&(T=We(v+P+D,s[1][1])),b=Math.max(b,M),A=Math.max(A,T)}if(a){let M=0,T=0;c&&k>0?M=We(y+k,a[0][0]):!c&&k<0&&(M=Ye(y+O,a[1][0])),l&&$>0?T=We(v+$,a[0][1]):!l&&$<0&&(T=Ye(v+P,a[1][1])),b=Math.max(b,M),A=Math.max(A,T)}if(r){if(f){const M=En(O/E,x,_)*E;if(b=Math.max(b,M),s){let T=0;!c&&!l||c&&!l&&d?T=We(v+D+O/E,s[1][1])*E:T=Ye(v+D+(c?k:-k)/E,s[0][1])*E,b=Math.max(b,T)}if(a){let T=0;!c&&!l||c&&!l&&d?T=Ye(v+O/E,a[1][1])*E:T=We(v+(c?k:-k)/E,a[0][1])*E,b=Math.max(b,T)}}if(u){const M=En(P*E,m,w)/E;if(A=Math.max(A,M),s){let T=0;!c&&!l||l&&!c&&d?T=We(y+P*E+j,s[1][0])/E:T=Ye(y+(l?$:-$)*E+j,s[0][0])/E,A=Math.max(A,T)}if(a){let T=0;!c&&!l||l&&!c&&d?T=Ye(y+P*E,a[1][0])/E:T=We(y+(l?$:-$)*E,a[0][0])/E,A=Math.max(A,T)}}}$=$+($<0?A:-A),k=k+(k<0?b:-b),r&&(d?O>P*E?$=(Ci(c,l)?-k:k)/E:k=(Ci(c,l)?-$:$)*E:f?($=k/E,l=c):(k=$*E,c=l));const C=c?y+k:y,L=l?v+$:v;return{width:S+(c?-k:k),height:N+(l?-$:$),x:i[0]*k*(c?-1:1)+C,y:i[1]*$*(l?-1:1)+L}}const Sa={width:0,height:0,x:0,y:0},Vm={...Sa,pointerX:0,pointerY:0,aspectRatio:1};function Ym(e){return[[0,0],[e.measured.width,e.measured.height]]}function Wm(e,t,n){const o=t.position.x+e.position.x,r=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,a=n[0]*i,c=n[1]*s;return[[o-a,r-c],[o+i-a,r+s-c]]}function Xm({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:r}){const i=he(e);let s={controlDirection:Ei("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:l,boundaries:f,keepAspectRatio:u,resizeDirection:d,onResizeStart:g,onResize:p,onResizeEnd:m,shouldResize:w}){let x={...Sa},_={...Vm};s={boundaries:f,resizeDirection:d,keepAspectRatio:u,controlDirection:Ei(l)};let y,v=null,S=[],N,E,k,$=!1;const O=As().on("start",P=>{const{nodeLookup:j,transform:D,snapGrid:b,snapToGrid:A,nodeOrigin:C,paneDomNode:L}=n();if(y=j.get(t),!y)return;v=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:T}=Lt(P.sourceEvent,{transform:D,snapGrid:b,snapToGrid:A,containerBounds:v});x={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},_={...x,pointerX:M,pointerY:T,aspectRatio:x.width/x.height},N=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(N=j.get(y.parentId),E=N&&y.extent==="parent"?Ym(N):void 0),S=[],k=void 0;for(const[R,H]of j)if(H.parentId===t&&(S.push({id:R,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const B=Wm(H,y,H.origin??C);k?k=[[Math.min(B[0][0],k[0][0]),Math.min(B[0][1],k[0][1])],[Math.max(B[1][0],k[1][0]),Math.max(B[1][1],k[1][1])]]:k=B}g==null||g(P,{...x})}).on("drag",P=>{const{transform:j,snapGrid:D,snapToGrid:b,nodeOrigin:A}=n(),C=Lt(P.sourceEvent,{transform:j,snapGrid:D,snapToGrid:b,containerBounds:v}),L=[];if(!y)return;const{x:M,y:T,width:R,height:H}=x,B={},X=y.origin??A,{width:Y,height:q,x:K,y:V}=Om(_,s.controlDirection,C,s.boundaries,s.keepAspectRatio,X,E,k),z=Y!==R,G=q!==H,Z=K!==M&&z,U=V!==T&&G;if(!Z&&!U&&!z&&!G)return;if((Z||U||X[0]===1||X[1]===1)&&(B.x=Z?K:x.x,B.y=U?V:x.y,x.x=B.x,x.y=B.y,S.length>0)){const te=K-M,ee=V-T;for(const oe of S)oe.position={x:oe.position.x-te+X[0]*(Y-R),y:oe.position.y-ee+X[1]*(q-H)},L.push(oe)}if((z||G)&&(B.width=z&&(!s.resizeDirection||s.resizeDirection==="horizontal")?Y:x.width,B.height=G&&(!s.resizeDirection||s.resizeDirection==="vertical")?q:x.height,x.width=B.width,x.height=B.height),N&&y.expandParent){const te=X[0]*(B.width??0);B.x&&B.x<te&&(x.x=te,_.x=_.x-(B.x-te));const ee=X[1]*(B.height??0);B.y&&B.y<ee&&(x.y=ee,_.y=_.y-(B.y-ee))}const F=zm({width:x.width,prevWidth:R,height:x.height,prevHeight:H,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),W={...x,direction:F};(w==null?void 0:w(P,W))!==!1&&($=!0,p==null||p(P,W),o(B,L))}).on("end",P=>{$&&(m==null||m(P,{...x}),r==null||r({...x}),$=!1)});i.call(O)}function c(){i.on(".drag",null)}return{update:a,destroy:c}}var Ao={exports:{}},Po={},Lo={exports:{}},Do={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti;function Gm(){if(Ti)return Do;Ti=1;var e=us();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,r=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(u,d){var g=d(),p=o({inst:{value:g,getSnapshot:d}}),m=p[0].inst,w=p[1];return i(function(){m.value=g,m.getSnapshot=d,c(m)&&w({inst:m})},[u,g,d]),r(function(){return c(m)&&w({inst:m}),u(function(){c(m)&&w({inst:m})})},[u]),s(g),g}function c(u){var d=u.getSnapshot;u=u.value;try{var g=d();return!n(u,g)}catch{return!0}}function l(u,d){return d()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Do.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Do}var ki;function Um(){return ki||(ki=1,Lo.exports=Gm()),Lo.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi;function qm(){if(Mi)return Po;Mi=1;var e=us(),t=Um();function n(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var o=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Po.useSyncExternalStoreWithSelector=function(l,f,u,d,g){var p=i(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=a(function(){function x(N){if(!_){if(_=!0,y=N,N=d(N),g!==void 0&&m.hasValue){var E=m.value;if(g(E,N))return v=E}return v=N}if(E=v,o(y,N))return E;var k=d(N);return g!==void 0&&g(E,k)?(y=N,E):(y=N,v=k)}var _=!1,y,v,S=u===void 0?null:u;return[function(){return x(f())},S===null?void 0:function(){return x(S())}]},[f,u,d,g]);var w=r(l,p[0],p[1]);return s(function(){m.hasValue=!0,m.value=w},[w]),c(w),w},Po}var Ii;function Km(){return Ii||(Ii=1,Ao.exports=qm()),Ao.exports}var Zm=Km();const Qm=al(Zm),Jm={},ji=e=>{let t;const n=new Set,o=(f,u)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const g=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,g))}},r=()=>t,c={setState:o,getState:r,getInitialState:()=>l,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Jm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(o,r,c);return c},ep=e=>e?ji(e):ji,{useDebugValue:tp}=Mt,{useSyncExternalStoreWithSelector:np}=Qm,op=e=>e;function Na(e,t=op,n){const o=np(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tp(o),o}const $i=(e,t)=>{const n=ep(e),o=(r,i=t)=>Na(n,r,i);return Object.assign(o,n),o},rp=(e,t)=>e?$i(e,t):$i;function se(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,r]of e)if(!Object.is(r,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}const oo=I.createContext(null),ip=oo.Provider,Ea=Ie.error001();function ne(e,t){const n=I.useContext(oo);if(n===null)throw new Error(Ea);return Na(n,e,t)}function re(){const e=I.useContext(oo);if(e===null)throw new Error(Ea);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Ai={display:"none"},sp={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ca="react-flow__node-desc",Ta="react-flow__edge-desc",ap="react-flow__aria-live",cp=e=>e.ariaLiveMessage,lp=e=>e.ariaLabelConfig;function up({rfId:e}){const t=ne(cp);return h.jsx("div",{id:`${ap}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:sp,children:t})}function dp({rfId:e,disableKeyboardA11y:t}){const n=ne(lp);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${Ca}-${e}`,style:Ai,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${Ta}-${e}`,style:Ai,children:n["edge.a11yDescription.default"]}),!t&&h.jsx(up,{rfId:e})]})}const ro=I.forwardRef(({position:e="top-left",children:t,className:n,style:o,...r},i)=>{const s=`${e}`.split("-");return h.jsx("div",{className:ae(["react-flow__panel",n,...s]),style:o,ref:i,...r,children:t})});ro.displayName="Panel";function fp({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:h.jsx(ro,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const hp=e=>{const t=[],n=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&n.push(o);return{selectedNodes:t,selectedEdges:n}},Cn=e=>e.id;function gp(e,t){return se(e.selectedNodes.map(Cn),t.selectedNodes.map(Cn))&&se(e.selectedEdges.map(Cn),t.selectedEdges.map(Cn))}function mp({onSelectionChange:e}){const t=re(),{selectedNodes:n,selectedEdges:o}=ne(hp,gp);return I.useEffect(()=>{const r={nodes:n,edges:o};e==null||e(r),t.getState().onSelectionChangeHandlers.forEach(i=>i(r))},[n,o,e]),null}const pp=e=>!!e.onSelectionChangeHandlers;function xp({onSelectionChange:e}){const t=ne(pp);return e||t?h.jsx(mp,{onSelectionChange:e}):null}const ka=[0,0],yp={x:0,y:0,zoom:1},wp=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],Pi=[...wp,"rfId"],vp=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Li={translateExtent:Ot,nodeOrigin:ka,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function _p(e){const{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:r,setTranslateExtent:i,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:c}=ne(vp,se),l=re();I.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=Li,a()}),[]);const f=I.useRef(Li);return I.useEffect(()=>{for(const u of Pi){const d=e[u],g=f.current[u];d!==g&&(typeof e[u]>"u"||(u==="nodes"?t(d):u==="edges"?n(d):u==="minZoom"?o(d):u==="maxZoom"?r(d):u==="translateExtent"?i(d):u==="nodeExtent"?s(d):u==="ariaLabelConfig"?l.setState({ariaLabelConfig:rm(d)}):u==="fitView"?l.setState({fitViewQueued:d}):u==="fitViewOptions"?l.setState({fitViewOptions:d}):l.setState({[u]:d})))}f.current=e},Pi.map(u=>e[u])),null}function Di(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function bp(e){var o;const[t,n]=I.useState(e==="system"?null:e);return I.useEffect(()=>{if(e!=="system"){n(e);return}const r=Di(),i=()=>n(r!=null&&r.matches?"dark":"light");return i(),r==null||r.addEventListener("change",i),()=>{r==null||r.removeEventListener("change",i)}},[e]),t!==null?t:(o=Di())!=null&&o.matches?"dark":"light"}const Ri=typeof document<"u"?document:null;function Gt(e=null,t={target:Ri,actInsideInputWithModifier:!0}){const[n,o]=I.useState(!1),r=I.useRef(!1),i=I.useRef(new Set([])),[s,a]=I.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(u=>typeof u=="string").map(u=>u.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=l.reduce((u,d)=>u.concat(...d),[]);return[l,f]}return[[],[]]},[e]);return I.useEffect(()=>{const c=(t==null?void 0:t.target)??Ri,l=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=g=>{var w,x;if(r.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!r.current||r.current&&!l)&&aa(g))return!1;const m=Hi(g.code,a);if(i.current.add(g[m]),Bi(s,i.current,!1)){const _=((x=(w=g.composedPath)==null?void 0:w.call(g))==null?void 0:x[0])||g.target,y=(_==null?void 0:_.nodeName)==="BUTTON"||(_==null?void 0:_.nodeName)==="A";t.preventDefault!==!1&&(r.current||!y)&&g.preventDefault(),o(!0)}},u=g=>{const p=Hi(g.code,a);Bi(s,i.current,!0)?(o(!1),i.current.clear()):i.current.delete(g[p]),g.key==="Meta"&&i.current.clear(),r.current=!1},d=()=>{i.current.clear(),o(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,o]),n}function Bi(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(r=>t.has(r)))}function Hi(e,t){return t.includes(e)?"code":"key"}const Sp=()=>{const e=re();return I.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[o,r,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??o,y:t.y??r,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},setCenter:async(t,n,o)=>e.getState().setCenter(t,n,o),fitBounds:async(t,n)=>{const{width:o,height:r,minZoom:i,maxZoom:s,panZoom:a}=e.getState(),c=mr(t,o,r,i,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:o,snapGrid:r,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:a,y:c}=s.getBoundingClientRect(),l={x:t.x-a,y:t.y-c},f=n.snapGrid??r,u=n.snapToGrid??i;return rn(l,o,u,f)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:r,y:i}=o.getBoundingClientRect(),s=Wn(t,n);return{x:s.x+r,y:s.y+i}}}),[])};function Ma(e,t){const n=[],o=new Map,r=[];for(const i of e)if(i.type==="add"){r.push(i);continue}else if(i.type==="remove"||i.type==="replace")o.set(i.id,[i]);else{const s=o.get(i.id);s?s.push(i):o.set(i.id,[i])}for(const i of t){const s=o.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...i};for(const c of s)Np(c,a);n.push(a)}return r.length&&r.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function Np(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Ep(e,t){return Ma(e,t)}function Cp(e,t){return Ma(e,t)}function Ze(e,t){return{id:e,type:"select",selected:t}}function ht(e,t=new Set,n=!1){const o=[];for(const[r,i]of e){const s=t.has(r);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),o.push(Ze(i.id,s)))}return o}function Fi({items:e=[],lookup:t}){var r;const n=[],o=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const a=t.get(s.id),c=((r=a==null?void 0:a.internals)==null?void 0:r.userNode)??a;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)o.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function zi(e){return{id:e.id,type:"remove"}}const Oi=e=>Ug(e),Tp=e=>Js(e);function Ia(e){return I.forwardRef(e)}const kp=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Vi(e){const[t,n]=I.useState(BigInt(0)),[o]=I.useState(()=>Mp(()=>n(r=>r+BigInt(1))));return kp(()=>{const r=o.get();r.length&&(e(r),o.reset())},[t]),o}function Mp(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const ja=I.createContext(null);function Ip({children:e}){const t=re(),n=I.useCallback(a=>{const{nodes:c=[],setNodes:l,hasDefaultNodes:f,onNodesChange:u,nodeLookup:d,fitViewQueued:g}=t.getState();let p=c;for(const w of a)p=typeof w=="function"?w(p):w;const m=Fi({items:p,lookup:d});f&&l(p),m.length>0?u==null||u(m):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:x,setNodes:_}=t.getState();w&&_(x)})},[]),o=Vi(n),r=I.useCallback(a=>{const{edges:c=[],setEdges:l,hasDefaultEdges:f,onEdgesChange:u,edgeLookup:d}=t.getState();let g=c;for(const p of a)g=typeof p=="function"?p(g):p;f?l(g):u&&u(Fi({items:g,lookup:d}))},[]),i=Vi(r),s=I.useMemo(()=>({nodeQueue:o,edgeQueue:i}),[]);return h.jsx(ja.Provider,{value:s,children:e})}function jp(){const e=I.useContext(ja);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const $p=e=>!!e.panZoom;function _r(){const e=Sp(),t=re(),n=jp(),o=ne($p),r=I.useMemo(()=>{const i=u=>t.getState().nodeLookup.get(u),s=u=>{n.nodeQueue.push(u)},a=u=>{n.edgeQueue.push(u)},c=u=>{var x,_;const{nodeLookup:d,nodeOrigin:g}=t.getState(),p=Oi(u)?u:d.get(u.id),m=p.parentId?ia(p.position,p.measured,p.parentId,d,g):p.position,w={...p,position:m,width:((x=p.measured)==null?void 0:x.width)??p.width,height:((_=p.measured)==null?void 0:_.height)??p.height};return vt(w)},l=(u,d,g={replace:!1})=>{s(p=>p.map(m=>{if(m.id===u){const w=typeof d=="function"?d(m):d;return g.replace&&Oi(w)?w:{...m,...w}}return m}))},f=(u,d,g={replace:!1})=>{a(p=>p.map(m=>{if(m.id===u){const w=typeof d=="function"?d(m):d;return g.replace&&Tp(w)?w:{...m,...w}}return m}))};return{getNodes:()=>t.getState().nodes.map(u=>({...u})),getNode:u=>{var d;return(d=i(u))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:u=[]}=t.getState();return u.map(d=>({...d}))},getEdge:u=>t.getState().edgeLookup.get(u),setNodes:s,setEdges:a,addNodes:u=>{const d=Array.isArray(u)?u:[u];n.nodeQueue.push(g=>[...g,...d])},addEdges:u=>{const d=Array.isArray(u)?u:[u];n.edgeQueue.push(g=>[...g,...d])},toObject:()=>{const{nodes:u=[],edges:d=[],transform:g}=t.getState(),[p,m,w]=g;return{nodes:u.map(x=>({...x})),edges:d.map(x=>({...x})),viewport:{x:p,y:m,zoom:w}}},deleteElements:async({nodes:u=[],edges:d=[]})=>{const{nodes:g,edges:p,onNodesDelete:m,onEdgesDelete:w,triggerNodeChanges:x,triggerEdgeChanges:_,onDelete:y,onBeforeDelete:v}=t.getState(),{nodes:S,edges:N}=await Jg({nodesToRemove:u,edgesToRemove:d,nodes:g,edges:p,onBeforeDelete:v}),E=N.length>0,k=S.length>0;if(E){const $=N.map(zi);w==null||w(N),_($)}if(k){const $=S.map(zi);m==null||m(S),x($)}return(k||E)&&(y==null||y({nodes:S,edges:N})),{deletedNodes:S,deletedEdges:N}},getIntersectingNodes:(u,d=!0,g)=>{const p=gi(u),m=p?u:c(u),w=g!==void 0;return m?(g||t.getState().nodes).filter(x=>{const _=t.getState().nodeLookup.get(x.id);if(_&&!p&&(x.id===u.id||!_.internals.positionAbsolute))return!1;const y=vt(w?x:_),v=Yt(y,m);return d&&v>0||v>=y.width*y.height||v>=m.width*m.height}):[]},isNodeIntersecting:(u,d,g=!0)=>{const m=gi(u)?u:c(u);if(!m)return!1;const w=Yt(m,d);return g&&w>0||w>=d.width*d.height||w>=m.width*m.height},updateNode:l,updateNodeData:(u,d,g={replace:!1})=>{l(u,p=>{const m=typeof d=="function"?d(p):d;return g.replace?{...p,data:m}:{...p,data:{...p.data,...m}}},g)},updateEdge:f,updateEdgeData:(u,d,g={replace:!1})=>{f(u,p=>{const m=typeof d=="function"?d(p):d;return g.replace?{...p,data:m}:{...p,data:{...p.data,...m}}},g)},getNodesBounds:u=>{const{nodeLookup:d,nodeOrigin:g}=t.getState();return qg(u,{nodeLookup:d,nodeOrigin:g})},getHandleConnections:({type:u,id:d,nodeId:g})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${g}-${u}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:u,handleId:d,nodeId:g})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${g}${u?d?`-${u}-${d}`:`-${u}`:""}`))==null?void 0:p.values())??[])},fitView:async u=>{const d=t.getState().fitViewResolver??om();return t.setState({fitViewQueued:!0,fitViewOptions:u,fitViewResolver:d}),n.nodeQueue.push(g=>[...g]),d.promise}}},[]);return I.useMemo(()=>({...r,...e,viewportInitialized:o}),[o])}const Yi=e=>e.selected,Ap=typeof window<"u"?window:void 0;function Pp({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=re(),{deleteElements:o}=_r(),r=Gt(e,{actInsideInputWithModifier:!1}),i=Gt(t,{target:Ap});I.useEffect(()=>{if(r){const{edges:s,nodes:a}=n.getState();o({nodes:a.filter(Yi),edges:s.filter(Yi)}),n.setState({nodesSelectionActive:!1})}},[r]),I.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Lp(e){const t=re();I.useEffect(()=>{const n=()=>{var r,i,s,a;if(!e.current||!(((i=(r=e.current).checkVisibility)==null?void 0:i.call(r))??!0))return!1;const o=pr(e.current);(o.height===0||o.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",Ie.error004())),t.setState({width:o.width||500,height:o.height||500})};if(e.current){n(),window.addEventListener("resize",n);const o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}const io={position:"absolute",width:"100%",height:"100%",top:0,left:0},Dp=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Rp({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:r=.5,panOnScrollMode:i=nt.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:l,minZoom:f,maxZoom:u,zoomActivationKeyCode:d,preventScrolling:g=!0,children:p,noWheelClassName:m,noPanClassName:w,onViewportChange:x,isControlledViewport:_,paneClickDistance:y,selectionOnDrag:v}){const S=re(),N=I.useRef(null),{userSelectionActive:E,lib:k,connectionInProgress:$}=ne(Dp,se),O=Gt(d),P=I.useRef();Lp(N);const j=I.useCallback(D=>{x==null||x({x:D[0],y:D[1],zoom:D[2]}),_||S.setState({transform:D})},[x,_]);return I.useEffect(()=>{if(N.current){P.current=Fm({domNode:N.current,minZoom:f,maxZoom:u,translateExtent:l,viewport:c,onDraggingChange:C=>S.setState({paneDragging:C}),onPanZoomStart:(C,L)=>{const{onViewportChangeStart:M,onMoveStart:T}=S.getState();T==null||T(C,L),M==null||M(L)},onPanZoom:(C,L)=>{const{onViewportChange:M,onMove:T}=S.getState();T==null||T(C,L),M==null||M(L)},onPanZoomEnd:(C,L)=>{const{onViewportChangeEnd:M,onMoveEnd:T}=S.getState();T==null||T(C,L),M==null||M(L)}});const{x:D,y:b,zoom:A}=P.current.getViewport();return S.setState({panZoom:P.current,transform:[D,b,A],domNode:N.current.closest(".react-flow")}),()=>{var C;(C=P.current)==null||C.destroy()}}},[]),I.useEffect(()=>{var D;(D=P.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:r,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:O,preventScrolling:g,noPanClassName:w,userSelectionActive:E,noWheelClassName:m,lib:k,onTransformChange:j,connectionInProgress:$,selectionOnDrag:v,paneClickDistance:y})},[e,t,n,o,r,i,s,a,O,g,w,E,m,k,j,$,v,y]),h.jsx("div",{className:"react-flow__renderer",ref:N,style:io,children:p})}const Bp=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Hp(){const{userSelectionActive:e,userSelectionRect:t}=ne(Bp,se);return e&&t?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Ro=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Fp=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function zp({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Vt.Full,panOnDrag:o,paneClickDistance:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:l,onPaneScroll:f,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:g,children:p}){const m=re(),{userSelectionActive:w,elementsSelectable:x,dragging:_,connectionInProgress:y}=ne(Fp,se),v=x&&(e||w),S=I.useRef(null),N=I.useRef(),E=I.useRef(new Set),k=I.useRef(new Set),$=I.useRef(!1),O=M=>{if($.current||y){$.current=!1;return}c==null||c(M),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},P=M=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){M.preventDefault();return}l==null||l(M)},j=f?M=>f(M):void 0,D=M=>{$.current&&(M.stopPropagation(),$.current=!1)},b=M=>{var q,K;const{domNode:T}=m.getState();if(N.current=T==null?void 0:T.getBoundingClientRect(),!N.current)return;const R=M.target===S.current;if(!R&&!!M.target.closest(".nokey")||!e||!(i&&R||t)||M.button!==0||!M.isPrimary)return;(K=(q=M.target)==null?void 0:q.setPointerCapture)==null||K.call(q,M.pointerId),$.current=!1;const{x:X,y:Y}=be(M.nativeEvent,N.current);m.setState({userSelectionRect:{width:0,height:0,startX:X,startY:Y,x:X,y:Y}}),R||(M.stopPropagation(),M.preventDefault())},A=M=>{const{userSelectionRect:T,transform:R,nodeLookup:H,edgeLookup:B,connectionLookup:X,triggerNodeChanges:Y,triggerEdgeChanges:q,defaultEdgeOptions:K,resetSelectedElements:V}=m.getState();if(!N.current||!T)return;const{x:z,y:G}=be(M.nativeEvent,N.current),{startX:Z,startY:U}=T;if(!$.current){const ee=t?0:r;if(Math.hypot(z-Z,G-U)<=ee)return;V(),s==null||s(M)}$.current=!0;const F={startX:Z,startY:U,x:z<Z?z:Z,y:G<U?G:U,width:Math.abs(z-Z),height:Math.abs(G-U)},W=E.current,Q=k.current;E.current=new Set(gr(H,F,R,n===Vt.Partial,!0).map(ee=>ee.id)),k.current=new Set;const te=(K==null?void 0:K.selectable)??!0;for(const ee of E.current){const oe=X.get(ee);if(oe)for(const{edgeId:ce}of oe.values()){const le=B.get(ce);le&&(le.selectable??te)&&k.current.add(ce)}}if(!mi(W,E.current)){const ee=ht(H,E.current,!0);Y(ee)}if(!mi(Q,k.current)){const ee=ht(B,k.current);q(ee)}m.setState({userSelectionRect:F,userSelectionActive:!0,nodesSelectionActive:!1})},C=M=>{var T,R;M.button===0&&((R=(T=M.target)==null?void 0:T.releasePointerCapture)==null||R.call(T,M.pointerId),!w&&M.target===S.current&&m.getState().userSelectionRect&&(O==null||O(M)),m.setState({userSelectionActive:!1,userSelectionRect:null}),$.current&&(a==null||a(M),m.setState({nodesSelectionActive:E.current.size>0})))},L=o===!0||Array.isArray(o)&&o.includes(0);return h.jsxs("div",{className:ae(["react-flow__pane",{draggable:L,dragging:_,selection:e}]),onClick:v?void 0:Ro(O,S),onContextMenu:Ro(P,S),onWheel:Ro(j,S),onPointerEnter:v?void 0:u,onPointerMove:v?A:d,onPointerUp:v?C:void 0,onPointerDownCapture:v?b:void 0,onClickCapture:v?D:void 0,onPointerLeave:g,ref:S,style:io,children:[p,h.jsx(Hp,{})]})}function er({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:a,onError:c}=t.getState(),l=a.get(e);if(!l){c==null||c("012",Ie.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var f;return(f=o==null?void 0:o.current)==null?void 0:f.blur()})):r([e])}function $a({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:r,isSelectable:i,nodeClickDistance:s}){const a=re(),[c,l]=I.useState(!1),f=I.useRef();return I.useEffect(()=>{f.current=Cm({getStoreItems:()=>a.getState(),onNodeMouseDown:u=>{er({id:u,store:a,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),I.useEffect(()=>{var u,d;if(t)(u=f.current)==null||u.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:i,nodeId:r,nodeClickDistance:s}),()=>{var g;(g=f.current)==null||g.destroy()}},[n,o,t,i,e,r]),c}const Op=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Aa(){const e=re();return I.useCallback(n=>{const{nodeExtent:o,snapToGrid:r,snapGrid:i,nodesDraggable:s,onError:a,updateNodePositions:c,nodeLookup:l,nodeOrigin:f}=e.getState(),u=new Map,d=Op(s),g=r?i[0]:5,p=r?i[1]:5,m=n.direction.x*g*n.factor,w=n.direction.y*p*n.factor;for(const[,x]of l){if(!d(x))continue;let _={x:x.internals.positionAbsolute.x+m,y:x.internals.positionAbsolute.y+w};r&&(_=on(_,i));const{position:y,positionAbsolute:v}=ea({nodeId:x.id,nextPosition:_,nodeLookup:l,nodeExtent:o,nodeOrigin:f,onError:a});x.position=y,x.internals.positionAbsolute=v,u.set(x.id,x)}c(u)},[])}const br=I.createContext(null),Vp=br.Provider;br.Consumer;const Pa=()=>I.useContext(br),Yp=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Wp=(e,t,n)=>o=>{const{connectionClickStartHandle:r,connectionMode:i,connection:s}=o,{fromHandle:a,toHandle:c,isValid:l}=s,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.id)===t&&(r==null?void 0:r.type)===n,isPossibleEndHandle:i===yt.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!r,valid:f&&l}};function Xp({type:e="source",position:t=J.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:s,onConnect:a,children:c,className:l,onMouseDown:f,onTouchStart:u,...d},g){var A,C;const p=s||null,m=e==="target",w=re(),x=Pa(),{connectOnClick:_,noPanClassName:y,rfId:v}=ne(Yp,se),{connectingFrom:S,connectingTo:N,clickConnecting:E,isPossibleEndHandle:k,connectionInProcess:$,clickConnectionInProcess:O,valid:P}=ne(Wp(x,p,e),se);x||(C=(A=w.getState()).onError)==null||C.call(A,"010",Ie.error010());const j=L=>{const{defaultEdgeOptions:M,onConnect:T,hasDefaultEdges:R}=w.getState(),H={...M,...L};if(R){const{edges:B,setEdges:X}=w.getState();X(um(H,B))}T==null||T(H),a==null||a(H)},D=L=>{if(!x)return;const M=ca(L.nativeEvent);if(r&&(M&&L.button===0||!M)){const T=w.getState();Jo.onPointerDown(L.nativeEvent,{handleDomNode:L.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:m,handleId:p,nodeId:x,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:j,isValidConnection:n||T.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}M?f==null||f(L):u==null||u(L)},b=L=>{const{onClickConnectStart:M,onClickConnectEnd:T,connectionClickStartHandle:R,connectionMode:H,isValidConnection:B,lib:X,rfId:Y,nodeLookup:q,connection:K}=w.getState();if(!x||!R&&!r)return;if(!R){M==null||M(L.nativeEvent,{nodeId:x,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:x,type:e,id:p}});return}const V=sa(L.target),z=n||B,{connection:G,isValid:Z}=Jo.isValid(L.nativeEvent,{handle:{nodeId:x,id:p,type:e},connectionMode:H,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:z,flowId:Y,doc:V,lib:X,nodeLookup:q});Z&&G&&j(G);const U=structuredClone(K);delete U.inProgress,U.toPosition=U.toHandle?U.toHandle.position:null,T==null||T(L,U),w.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":p,"data-nodeid":x,"data-handlepos":t,"data-id":`${v}-${x}-${p}-${e}`,className:ae(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,l,{source:!m,target:m,connectable:o,connectablestart:r,connectableend:i,clickconnecting:E,connectingfrom:S,connectingto:N,valid:P,connectionindicator:o&&(!$||k)&&($||O?i:r)}]),onMouseDown:D,onTouchStart:D,onClick:_?b:void 0,ref:g,...d,children:c})}const Xn=I.memo(Ia(Xp));function Gp({data:e,isConnectable:t,sourcePosition:n=J.Bottom}){return h.jsxs(h.Fragment,{children:[e==null?void 0:e.label,h.jsx(Xn,{type:"source",position:n,isConnectable:t})]})}function Up({data:e,isConnectable:t,targetPosition:n=J.Top,sourcePosition:o=J.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,h.jsx(Xn,{type:"source",position:o,isConnectable:t})]})}function qp(){return null}function Kp({data:e,isConnectable:t,targetPosition:n=J.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(Xn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Gn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Wi={input:Gp,default:Up,output:Kp,group:qp};function Zp(e){var t,n,o,r;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((o=e.style)==null?void 0:o.width),height:e.height??((r=e.style)==null?void 0:r.height)}}const Qp=e=>{const{width:t,height:n,x:o,y:r}=nn(e.nodeLookup,{filter:i=>!!i.selected});return{width:_e(t)?t:null,height:_e(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${r}px)`}};function Jp({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=re(),{width:r,height:i,transformString:s,userSelectionActive:a}=ne(Qp,se),c=Aa(),l=I.useRef(null);if(I.useEffect(()=>{var d;n||(d=l.current)==null||d.focus({preventScroll:!0})},[n]),$a({nodeRef:l}),a||!r||!i)return null;const f=e?d=>{const g=o.getState().nodes.filter(p=>p.selected);e(d,g)}:void 0,u=d=>{Object.prototype.hasOwnProperty.call(Gn,d.key)&&(d.preventDefault(),c({direction:Gn[d.key],factor:d.shiftKey?4:1}))};return h.jsx("div",{className:ae(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:h.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:u,style:{width:r,height:i}})})}const Xi=typeof window<"u"?window:void 0,e0=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function La({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:l,selectionOnDrag:f,selectionMode:u,onSelectionStart:d,onSelectionEnd:g,multiSelectionKeyCode:p,panActivationKeyCode:m,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:y,panOnScroll:v,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:E,panOnDrag:k,defaultViewport:$,translateExtent:O,minZoom:P,maxZoom:j,preventScrolling:D,onSelectionContextMenu:b,noWheelClassName:A,noPanClassName:C,disableKeyboardA11y:L,onViewportChange:M,isControlledViewport:T}){const{nodesSelectionActive:R,userSelectionActive:H}=ne(e0),B=Gt(l,{target:Xi}),X=Gt(m,{target:Xi}),Y=X||k,q=X||v,K=f&&Y!==!0,V=B||H||K;return Pp({deleteKeyCode:c,multiSelectionKeyCode:p}),h.jsx(Rp,{onPaneContextMenu:i,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:y,panOnScroll:q,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:E,panOnDrag:!B&&Y,defaultViewport:$,translateExtent:O,minZoom:P,maxZoom:j,zoomActivationKeyCode:w,preventScrolling:D,noWheelClassName:A,noPanClassName:C,onViewportChange:M,isControlledViewport:T,paneClickDistance:a,selectionOnDrag:K,children:h.jsxs(zp,{onSelectionStart:d,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:Y,isSelecting:!!V,selectionMode:u,selectionKeyPressed:B,paneClickDistance:a,selectionOnDrag:K,children:[e,R&&h.jsx(Jp,{onSelectionContextMenu:b,noPanClassName:C,disableKeyboardA11y:L})]})})}La.displayName="FlowRenderer";const t0=I.memo(La),n0=e=>t=>e?gr(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function o0(e){return ne(I.useCallback(n0(e),[e]),se)}const r0=e=>e.updateNodeInternals;function i0(){const e=ne(r0),[t]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const o=new Map;n.forEach(r=>{const i=r.target.getAttribute("data-id");o.set(i,{id:i,nodeElement:r.target,force:!0})}),e(o)}));return I.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function s0({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){const r=re(),i=I.useRef(null),s=I.useRef(null),a=I.useRef(e.sourcePosition),c=I.useRef(e.targetPosition),l=I.useRef(t),f=n&&!!e.internals.handleBounds;return I.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(o==null||o.unobserve(s.current)),o==null||o.observe(i.current),s.current=i.current)},[f,e.hidden]),I.useEffect(()=>()=>{s.current&&(o==null||o.unobserve(s.current),s.current=null)},[]),I.useEffect(()=>{if(i.current){const u=l.current!==t,d=a.current!==e.sourcePosition,g=c.current!==e.targetPosition;(u||d||g)&&(l.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,r.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function a0({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:r,onContextMenu:i,onDoubleClick:s,nodesDraggable:a,elementsSelectable:c,nodesConnectable:l,nodesFocusable:f,resizeObserver:u,noDragClassName:d,noPanClassName:g,disableKeyboardA11y:p,rfId:m,nodeTypes:w,nodeClickDistance:x,onError:_}){const{node:y,internals:v,isParent:S}=ne(z=>{const G=z.nodeLookup.get(e),Z=z.parentLookup.has(e);return{node:G,internals:G.internals,isParent:Z}},se);let N=y.type||"default",E=(w==null?void 0:w[N])||Wi[N];E===void 0&&(_==null||_("003",Ie.error003(N)),N="default",E=(w==null?void 0:w.default)||Wi.default);const k=!!(y.draggable||a&&typeof y.draggable>"u"),$=!!(y.selectable||c&&typeof y.selectable>"u"),O=!!(y.connectable||l&&typeof y.connectable>"u"),P=!!(y.focusable||f&&typeof y.focusable>"u"),j=re(),D=ra(y),b=s0({node:y,nodeType:N,hasDimensions:D,resizeObserver:u}),A=$a({nodeRef:b,disabled:y.hidden||!k,noDragClassName:d,handleSelector:y.dragHandle,nodeId:e,isSelectable:$,nodeClickDistance:x}),C=Aa();if(y.hidden)return null;const L=ze(y),M=Zp(y),T=$||k||t||n||o||r,R=n?z=>n(z,{...v.userNode}):void 0,H=o?z=>o(z,{...v.userNode}):void 0,B=r?z=>r(z,{...v.userNode}):void 0,X=i?z=>i(z,{...v.userNode}):void 0,Y=s?z=>s(z,{...v.userNode}):void 0,q=z=>{const{selectNodesOnDrag:G,nodeDragThreshold:Z}=j.getState();$&&(!G||!k||Z>0)&&er({id:e,store:j,nodeRef:b}),t&&t(z,{...v.userNode})},K=z=>{if(!(aa(z.nativeEvent)||p)){if(qs.includes(z.key)&&$){const G=z.key==="Escape";er({id:e,store:j,unselect:G,nodeRef:b})}else if(k&&y.selected&&Object.prototype.hasOwnProperty.call(Gn,z.key)){z.preventDefault();const{ariaLabelConfig:G}=j.getState();j.setState({ariaLiveMessage:G["node.a11yDescription.ariaLiveMessage"]({direction:z.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),C({direction:Gn[z.key],factor:z.shiftKey?4:1})}}},V=()=>{var Q;if(p||!((Q=b.current)!=null&&Q.matches(":focus-visible")))return;const{transform:z,width:G,height:Z,autoPanOnNodeFocus:U,setCenter:F}=j.getState();if(!U)return;gr(new Map([[e,y]]),{x:0,y:0,width:G,height:Z},z,!0).length>0||F(y.position.x+L.width/2,y.position.y+L.height/2,{zoom:z[2]})};return h.jsx("div",{className:ae(["react-flow__node",`react-flow__node-${N}`,{[g]:k},y.className,{selected:y.selected,selectable:$,parent:S,draggable:k,dragging:A}]),ref:b,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:D?"visible":"hidden",...y.style,...M},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:R,onMouseMove:H,onMouseLeave:B,onContextMenu:X,onClick:q,onDoubleClick:Y,onKeyDown:P?K:void 0,tabIndex:P?0:void 0,onFocus:P?V:void 0,role:y.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${Ca}-${m}`,"aria-label":y.ariaLabel,...y.domAttributes,children:h.jsx(Vp,{value:e,children:h.jsx(E,{id:e,data:y.data,type:N,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:y.selected??!1,selectable:$,draggable:k,deletable:y.deletable??!0,isConnectable:O,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:A,dragHandle:y.dragHandle,zIndex:v.z,parentId:y.parentId,...L})})})}var c0=I.memo(a0);const l0=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Da(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:r,onError:i}=ne(l0,se),s=o0(e.onlyRenderVisibleElements),a=i0();return h.jsx("div",{className:"react-flow__nodes",style:io,children:s.map(c=>h.jsx(c0,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:r,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}Da.displayName="NodeRenderer";const u0=I.memo(Da);function d0(e){return ne(I.useCallback(n=>{if(!e)return n.edges.map(r=>r.id);const o=[];if(n.width&&n.height)for(const r of n.edges){const i=n.nodeLookup.get(r.source),s=n.nodeLookup.get(r.target);i&&s&&am({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&o.push(r.id)}return o},[e]),se)}const f0=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return h.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},h0=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return h.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Gi={[Vn.Arrow]:f0,[Vn.ArrowClosed]:h0};function g0(e){const t=re();return I.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(Gi,e)?Gi[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Ie.error009(e)),null)},[e])}const m0=({id:e,type:t,color:n,width:o=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const c=g0(t);return c?h.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:h.jsx(c,{color:n,strokeWidth:s})}):null},Ra=({defaultColor:e,rfId:t})=>{const n=ne(i=>i.edges),o=ne(i=>i.defaultEdgeOptions),r=I.useMemo(()=>mm(n,{id:t,defaultColor:e,defaultMarkerStart:o==null?void 0:o.markerStart,defaultMarkerEnd:o==null?void 0:o.markerEnd}),[n,o,t,e]);return r.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:r.map(i=>h.jsx(m0,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Ra.displayName="MarkerDefinitions";var p0=I.memo(Ra);function Ba({x:e,y:t,label:n,labelStyle:o,labelShowBg:r=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:c,className:l,...f}){const[u,d]=I.useState({x:1,y:0,width:0,height:0}),g=ae(["react-flow__edge-textwrapper",l]),p=I.useRef(null);return I.useEffect(()=>{if(p.current){const m=p.current.getBBox();d({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),n?h.jsxs("g",{transform:`translate(${e-u.width/2} ${t-u.height/2})`,className:g,visibility:u.width?"visible":"hidden",...f,children:[r&&h.jsx("rect",{width:u.width+2*s[0],x:-s[0],y:-s[1],height:u.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),h.jsx("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:p,style:o,children:n}),c]}):null}Ba.displayName="EdgeText";const x0=I.memo(Ba);function so({path:e,labelX:t,labelY:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:l=20,...f}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...f,d:e,fill:"none",className:ae(["react-flow__edge-path",f.className])}),l?h.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}):null,o&&_e(t)&&_e(n)?h.jsx(x0,{x:t,y:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function Ui({pos:e,x1:t,y1:n,x2:o,y2:r}){return e===J.Left||e===J.Right?[.5*(t+o),n]:[t,.5*(n+r)]}function Ha({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:o,targetY:r,targetPosition:i=J.Top}){const[s,a]=Ui({pos:n,x1:e,y1:t,x2:o,y2:r}),[c,l]=Ui({pos:i,x1:o,y1:r,x2:e,y2:t}),[f,u,d,g]=la({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${a} ${c},${l} ${o},${r}`,f,u,d,g]}function Fa(e){return I.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:s,targetPosition:a,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:g,style:p,markerEnd:m,markerStart:w,interactionWidth:x})=>{const[_,y,v]=Ha({sourceX:n,sourceY:o,sourcePosition:s,targetX:r,targetY:i,targetPosition:a}),S=e.isInternal?void 0:t;return h.jsx(so,{id:S,path:_,labelX:y,labelY:v,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:g,style:p,markerEnd:m,markerStart:w,interactionWidth:x})})}const y0=Fa({isInternal:!1}),za=Fa({isInternal:!0});y0.displayName="SimpleBezierEdge";za.displayName="SimpleBezierEdgeInternal";function Oa(e){return I.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,sourcePosition:g=J.Bottom,targetPosition:p=J.Top,markerEnd:m,markerStart:w,pathOptions:x,interactionWidth:_})=>{const[y,v,S]=Ko({sourceX:n,sourceY:o,sourcePosition:g,targetX:r,targetY:i,targetPosition:p,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset,stepPosition:x==null?void 0:x.stepPosition}),N=e.isInternal?void 0:t;return h.jsx(so,{id:N,path:y,labelX:v,labelY:S,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:w,interactionWidth:_})})}const Va=Oa({isInternal:!1}),Ya=Oa({isInternal:!0});Va.displayName="SmoothStepEdge";Ya.displayName="SmoothStepEdgeInternal";function Wa(e){return I.memo(({id:t,...n})=>{var r;const o=e.isInternal?void 0:t;return h.jsx(Va,{...n,id:o,pathOptions:I.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(r=n.pathOptions)==null?void 0:r.offset])})})}const w0=Wa({isInternal:!1}),Xa=Wa({isInternal:!0});w0.displayName="StepEdge";Xa.displayName="StepEdgeInternal";function Ga(e){return I.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:p,interactionWidth:m})=>{const[w,x,_]=fa({sourceX:n,sourceY:o,targetX:r,targetY:i}),y=e.isInternal?void 0:t;return h.jsx(so,{id:y,path:w,labelX:x,labelY:_,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:p,interactionWidth:m})})}const v0=Ga({isInternal:!1}),Ua=Ga({isInternal:!0});v0.displayName="StraightEdge";Ua.displayName="StraightEdgeInternal";function qa(e){return I.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:s=J.Bottom,targetPosition:a=J.Top,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:g,style:p,markerEnd:m,markerStart:w,pathOptions:x,interactionWidth:_})=>{const[y,v,S]=ua({sourceX:n,sourceY:o,sourcePosition:s,targetX:r,targetY:i,targetPosition:a,curvature:x==null?void 0:x.curvature}),N=e.isInternal?void 0:t;return h.jsx(so,{id:N,path:y,labelX:v,labelY:S,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:g,style:p,markerEnd:m,markerStart:w,interactionWidth:_})})}const _0=qa({isInternal:!1}),Ka=qa({isInternal:!0});_0.displayName="BezierEdge";Ka.displayName="BezierEdgeInternal";const qi={default:Ka,straight:Ua,step:Xa,smoothstep:Ya,simplebezier:za},Ki={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},b0=(e,t,n)=>n===J.Left?e-t:n===J.Right?e+t:e,S0=(e,t,n)=>n===J.Top?e-t:n===J.Bottom?e+t:e,Zi="react-flow__edgeupdater";function Qi({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:r,onMouseEnter:i,onMouseOut:s,type:a}){return h.jsx("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:s,className:ae([Zi,`${Zi}-${a}`]),cx:b0(t,o,e),cy:S0(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function N0({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:r,targetX:i,targetY:s,sourcePosition:a,targetPosition:c,onReconnect:l,onReconnectStart:f,onReconnectEnd:u,setReconnecting:d,setUpdateHover:g}){const p=re(),m=(v,S)=>{if(v.button!==0)return;const{autoPanOnConnect:N,domNode:E,isValidConnection:k,connectionMode:$,connectionRadius:O,lib:P,onConnectStart:j,onConnectEnd:D,cancelConnection:b,nodeLookup:A,rfId:C,panBy:L,updateConnection:M}=p.getState(),T=S.type==="target",R=(X,Y)=>{d(!1),u==null||u(X,n,S.type,Y)},H=X=>l==null?void 0:l(n,X),B=(X,Y)=>{d(!0),f==null||f(v,n,S.type),j==null||j(X,Y)};Jo.onPointerDown(v.nativeEvent,{autoPanOnConnect:N,connectionMode:$,connectionRadius:O,domNode:E,handleId:S.id,nodeId:S.nodeId,nodeLookup:A,isTarget:T,edgeUpdaterType:S.type,lib:P,flowId:C,cancelConnection:b,panBy:L,isValidConnection:k,onConnect:H,onConnectStart:B,onConnectEnd:D,onReconnectEnd:R,updateConnection:M,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:v.currentTarget})},w=v=>m(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=v=>m(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),_=()=>g(!0),y=()=>g(!1);return h.jsxs(h.Fragment,{children:[(e===!0||e==="source")&&h.jsx(Qi,{position:a,centerX:o,centerY:r,radius:t,onMouseDown:w,onMouseEnter:_,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&h.jsx(Qi,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:x,onMouseEnter:_,onMouseOut:y,type:"target"})]})}function E0({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:r,onDoubleClick:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,reconnectRadius:f,onReconnect:u,onReconnectStart:d,onReconnectEnd:g,rfId:p,edgeTypes:m,noPanClassName:w,onError:x,disableKeyboardA11y:_}){let y=ne(F=>F.edgeLookup.get(e));const v=ne(F=>F.defaultEdgeOptions);y=v?{...v,...y}:y;let S=y.type||"default",N=(m==null?void 0:m[S])||qi[S];N===void 0&&(x==null||x("011",Ie.error011(S)),S="default",N=(m==null?void 0:m.default)||qi.default);const E=!!(y.focusable||t&&typeof y.focusable>"u"),k=typeof u<"u"&&(y.reconnectable||n&&typeof y.reconnectable>"u"),$=!!(y.selectable||o&&typeof y.selectable>"u"),O=I.useRef(null),[P,j]=I.useState(!1),[D,b]=I.useState(!1),A=re(),{zIndex:C,sourceX:L,sourceY:M,targetX:T,targetY:R,sourcePosition:H,targetPosition:B}=ne(I.useCallback(F=>{const W=F.nodeLookup.get(y.source),Q=F.nodeLookup.get(y.target);if(!W||!Q)return{zIndex:y.zIndex,...Ki};const te=gm({id:e,sourceNode:W,targetNode:Q,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:F.connectionMode,onError:x});return{zIndex:sm({selected:y.selected,zIndex:y.zIndex,sourceNode:W,targetNode:Q,elevateOnSelect:F.elevateEdgesOnSelect}),...te||Ki}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),se),X=I.useMemo(()=>y.markerStart?`url('#${Zo(y.markerStart,p)}')`:void 0,[y.markerStart,p]),Y=I.useMemo(()=>y.markerEnd?`url('#${Zo(y.markerEnd,p)}')`:void 0,[y.markerEnd,p]);if(y.hidden||L===null||M===null||T===null||R===null)return null;const q=F=>{var ee;const{addSelectedEdges:W,unselectNodesAndEdges:Q,multiSelectionActive:te}=A.getState();$&&(A.setState({nodesSelectionActive:!1}),y.selected&&te?(Q({nodes:[],edges:[y]}),(ee=O.current)==null||ee.blur()):W([e])),r&&r(F,y)},K=i?F=>{i(F,{...y})}:void 0,V=s?F=>{s(F,{...y})}:void 0,z=a?F=>{a(F,{...y})}:void 0,G=c?F=>{c(F,{...y})}:void 0,Z=l?F=>{l(F,{...y})}:void 0,U=F=>{var W;if(!_&&qs.includes(F.key)&&$){const{unselectNodesAndEdges:Q,addSelectedEdges:te}=A.getState();F.key==="Escape"?((W=O.current)==null||W.blur(),Q({edges:[y]})):te([e])}};return h.jsx("svg",{style:{zIndex:C},children:h.jsxs("g",{className:ae(["react-flow__edge",`react-flow__edge-${S}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!$&&!r,updating:P,selectable:$}]),onClick:q,onDoubleClick:K,onContextMenu:V,onMouseEnter:z,onMouseMove:G,onMouseLeave:Z,onKeyDown:E?U:void 0,tabIndex:E?0:void 0,role:y.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":E?`${Ta}-${p}`:void 0,ref:O,...y.domAttributes,children:[!D&&h.jsx(N,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:$,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:L,sourceY:M,targetX:T,targetY:R,sourcePosition:H,targetPosition:B,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:X,markerEnd:Y,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),k&&h.jsx(N0,{edge:y,isReconnectable:k,reconnectRadius:f,onReconnect:u,onReconnectStart:d,onReconnectEnd:g,sourceX:L,sourceY:M,targetX:T,targetY:R,sourcePosition:H,targetPosition:B,setUpdateHover:j,setReconnecting:b})]})})}var C0=I.memo(E0);const T0=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Za({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:r,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:l,onEdgeClick:f,reconnectRadius:u,onEdgeDoubleClick:d,onReconnectStart:g,onReconnectEnd:p,disableKeyboardA11y:m}){const{edgesFocusable:w,edgesReconnectable:x,elementsSelectable:_,onError:y}=ne(T0,se),v=d0(t);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(p0,{defaultColor:e,rfId:n}),v.map(S=>h.jsx(C0,{id:S,edgesFocusable:w,edgesReconnectable:x,elementsSelectable:_,noPanClassName:r,onReconnect:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,onClick:f,reconnectRadius:u,onDoubleClick:d,onReconnectStart:g,onReconnectEnd:p,rfId:n,onError:y,edgeTypes:o,disableKeyboardA11y:m},S))]})}Za.displayName="EdgeRenderer";const k0=I.memo(Za),M0=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function I0({children:e}){const t=ne(M0);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function j0(e){const t=_r(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const $0=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function A0(e){const t=ne($0),n=re();return I.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function P0(e){return e.connection.inProgress?{...e.connection,to:rn(e.connection.to,e.transform)}:{...e.connection}}function L0(e){return P0}function D0(e){const t=L0();return ne(t,se)}const R0=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function B0({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:r,width:i,height:s,isValid:a,inProgress:c}=ne(R0,se);return!(i&&r&&c)?null:h.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:ae(["react-flow__connection",Qs(a)]),children:h.jsx(Qa,{style:t,type:n,CustomComponent:o,isValid:a})})})}const Qa=({style:e,type:t=Xe.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:r,from:i,fromNode:s,fromHandle:a,fromPosition:c,to:l,toNode:f,toHandle:u,toPosition:d,pointer:g}=D0();if(!r)return;if(n)return h.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:i.x,fromY:i.y,toX:l.x,toY:l.y,fromPosition:c,toPosition:d,connectionStatus:Qs(o),toNode:f,toHandle:u,pointer:g});let p="";const m={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:l.x,targetY:l.y,targetPosition:d};switch(t){case Xe.Bezier:[p]=ua(m);break;case Xe.SimpleBezier:[p]=Ha(m);break;case Xe.Step:[p]=Ko({...m,borderRadius:0});break;case Xe.SmoothStep:[p]=Ko(m);break;default:[p]=fa(m)}return h.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};Qa.displayName="ConnectionLine";const H0={};function Ji(e=H0){I.useRef(e),re(),I.useEffect(()=>{},[e])}function F0(){re(),I.useRef(!1),I.useEffect(()=>{},[])}function Ja({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:r,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:f,onSelectionContextMenu:u,onSelectionStart:d,onSelectionEnd:g,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:w,connectionLineContainerStyle:x,selectionKeyCode:_,selectionOnDrag:y,selectionMode:v,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:E,deleteKeyCode:k,onlyRenderVisibleElements:$,elementsSelectable:O,defaultViewport:P,translateExtent:j,minZoom:D,maxZoom:b,preventScrolling:A,defaultMarkerColor:C,zoomOnScroll:L,zoomOnPinch:M,panOnScroll:T,panOnScrollSpeed:R,panOnScrollMode:H,zoomOnDoubleClick:B,panOnDrag:X,onPaneClick:Y,onPaneMouseEnter:q,onPaneMouseMove:K,onPaneMouseLeave:V,onPaneScroll:z,onPaneContextMenu:G,paneClickDistance:Z,nodeClickDistance:U,onEdgeContextMenu:F,onEdgeMouseEnter:W,onEdgeMouseMove:Q,onEdgeMouseLeave:te,reconnectRadius:ee,onReconnect:oe,onReconnectStart:ce,onReconnectEnd:le,noDragClassName:me,noWheelClassName:Ee,noPanClassName:$e,disableKeyboardA11y:Ae,nodeExtent:ct,rfId:Ue,viewport:Oe,onViewportChange:Ve}){return Ji(e),Ji(t),F0(),j0(n),A0(Oe),h.jsx(t0,{onPaneClick:Y,onPaneMouseEnter:q,onPaneMouseMove:K,onPaneMouseLeave:V,onPaneContextMenu:G,onPaneScroll:z,paneClickDistance:Z,deleteKeyCode:k,selectionKeyCode:_,selectionOnDrag:y,selectionMode:v,onSelectionStart:d,onSelectionEnd:g,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:E,elementsSelectable:O,zoomOnScroll:L,zoomOnPinch:M,zoomOnDoubleClick:B,panOnScroll:T,panOnScrollSpeed:R,panOnScrollMode:H,panOnDrag:X,defaultViewport:P,translateExtent:j,minZoom:D,maxZoom:b,onSelectionContextMenu:u,preventScrolling:A,noDragClassName:me,noWheelClassName:Ee,noPanClassName:$e,disableKeyboardA11y:Ae,onViewportChange:Ve,isControlledViewport:!!Oe,children:h.jsxs(I0,{children:[h.jsx(k0,{edgeTypes:t,onEdgeClick:r,onEdgeDoubleClick:s,onReconnect:oe,onReconnectStart:ce,onReconnectEnd:le,onlyRenderVisibleElements:$,onEdgeContextMenu:F,onEdgeMouseEnter:W,onEdgeMouseMove:Q,onEdgeMouseLeave:te,reconnectRadius:ee,defaultMarkerColor:C,noPanClassName:$e,disableKeyboardA11y:Ae,rfId:Ue}),h.jsx(B0,{style:m,type:p,component:w,containerStyle:x}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(u0,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:f,nodeClickDistance:U,onlyRenderVisibleElements:$,noPanClassName:$e,noDragClassName:me,disableKeyboardA11y:Ae,nodeExtent:ct,rfId:Ue}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}Ja.displayName="GraphView";const z0=I.memo(Ja),es=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:s,fitViewOptions:a,minZoom:c=.5,maxZoom:l=2,nodeOrigin:f,nodeExtent:u}={})=>{const d=new Map,g=new Map,p=new Map,m=new Map,w=o??t??[],x=n??e??[],_=f??[0,0],y=u??Ot;ma(p,m,w);const v=Qo(x,d,g,{nodeOrigin:_,nodeExtent:y,elevateNodesOnSelect:!1});let S=[0,0,1];if(s&&r&&i){const N=nn(d,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:E,y:k,zoom:$}=mr(N,r,i,c,l,(a==null?void 0:a.padding)??.1);S=[E,k,$]}return{rfId:"1",width:r??0,height:i??0,transform:S,nodes:x,nodesInitialized:v,nodeLookup:d,parentLookup:g,edges:w,edgeLookup:m,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:c,maxZoom:l,translateExtent:Ot,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:yt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Zs},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:em,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ks}},O0=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:f,nodeExtent:u})=>rp((d,g)=>{async function p(){const{nodeLookup:m,panZoom:w,fitViewOptions:x,fitViewResolver:_,width:y,height:v,minZoom:S,maxZoom:N}=g();w&&(await Qg({nodes:m,width:y,height:v,panZoom:w,minZoom:S,maxZoom:N},x),_==null||_.resolve(!0),d({fitViewResolver:null}))}return{...es({nodes:e,edges:t,width:r,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:f,nodeExtent:u,defaultNodes:n,defaultEdges:o}),setNodes:m=>{const{nodeLookup:w,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:y,fitViewQueued:v}=g(),S=Qo(m,w,x,{nodeOrigin:_,nodeExtent:u,elevateNodesOnSelect:y,checkEquality:!0});v&&S?(p(),d({nodes:m,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:m,nodesInitialized:S})},setEdges:m=>{const{connectionLookup:w,edgeLookup:x}=g();ma(w,x,m),d({edges:m})},setDefaultNodesAndEdges:(m,w)=>{if(m){const{setNodes:x}=g();x(m),d({hasDefaultNodes:!0})}if(w){const{setEdges:x}=g();x(w),d({hasDefaultEdges:!0})}},updateNodeInternals:m=>{const{triggerNodeChanges:w,nodeLookup:x,parentLookup:_,domNode:y,nodeOrigin:v,nodeExtent:S,debug:N,fitViewQueued:E}=g(),{changes:k,updatedInternals:$}=bm(m,x,_,y,v,S);$&&(ym(x,_,{nodeOrigin:v,nodeExtent:S}),E?(p(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(k==null?void 0:k.length)>0&&(N&&console.log("React Flow: trigger node changes",k),w==null||w(k)))},updateNodePositions:(m,w=!1)=>{const x=[],_=[],{nodeLookup:y,triggerNodeChanges:v}=g();for(const[S,N]of m){const E=y.get(S),k=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(N!=null&&N.position)),$={id:S,type:"position",position:k?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:w};k&&E.parentId&&x.push({id:S,parentId:E.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),_.push($)}if(x.length>0){const{parentLookup:S,nodeOrigin:N}=g(),E=vr(x,y,S,N);_.push(...E)}v(_)},triggerNodeChanges:m=>{const{onNodesChange:w,setNodes:x,nodes:_,hasDefaultNodes:y,debug:v}=g();if(m!=null&&m.length){if(y){const S=Ep(m,_);x(S)}v&&console.log("React Flow: trigger node changes",m),w==null||w(m)}},triggerEdgeChanges:m=>{const{onEdgesChange:w,setEdges:x,edges:_,hasDefaultEdges:y,debug:v}=g();if(m!=null&&m.length){if(y){const S=Cp(m,_);x(S)}v&&console.log("React Flow: trigger edge changes",m),w==null||w(m)}},addSelectedNodes:m=>{const{multiSelectionActive:w,edgeLookup:x,nodeLookup:_,triggerNodeChanges:y,triggerEdgeChanges:v}=g();if(w){const S=m.map(N=>Ze(N,!0));y(S);return}y(ht(_,new Set([...m]),!0)),v(ht(x))},addSelectedEdges:m=>{const{multiSelectionActive:w,edgeLookup:x,nodeLookup:_,triggerNodeChanges:y,triggerEdgeChanges:v}=g();if(w){const S=m.map(N=>Ze(N,!0));v(S);return}v(ht(x,new Set([...m]))),y(ht(_,new Set,!0))},unselectNodesAndEdges:({nodes:m,edges:w}={})=>{const{edges:x,nodes:_,nodeLookup:y,triggerNodeChanges:v,triggerEdgeChanges:S}=g(),N=m||_,E=w||x,k=N.map(O=>{const P=y.get(O.id);return P&&(P.selected=!1),Ze(O.id,!1)}),$=E.map(O=>Ze(O.id,!1));v(k),S($)},setMinZoom:m=>{const{panZoom:w,maxZoom:x}=g();w==null||w.setScaleExtent([m,x]),d({minZoom:m})},setMaxZoom:m=>{const{panZoom:w,minZoom:x}=g();w==null||w.setScaleExtent([x,m]),d({maxZoom:m})},setTranslateExtent:m=>{var w;(w=g().panZoom)==null||w.setTranslateExtent(m),d({translateExtent:m})},resetSelectedElements:()=>{const{edges:m,nodes:w,triggerNodeChanges:x,triggerEdgeChanges:_,elementsSelectable:y}=g();if(!y)return;const v=w.reduce((N,E)=>E.selected?[...N,Ze(E.id,!1)]:N,[]),S=m.reduce((N,E)=>E.selected?[...N,Ze(E.id,!1)]:N,[]);x(v),_(S)},setNodeExtent:m=>{const{nodes:w,nodeLookup:x,parentLookup:_,nodeOrigin:y,elevateNodesOnSelect:v,nodeExtent:S}=g();m[0][0]===S[0][0]&&m[0][1]===S[0][1]&&m[1][0]===S[1][0]&&m[1][1]===S[1][1]||(Qo(w,x,_,{nodeOrigin:y,nodeExtent:m,elevateNodesOnSelect:v,checkEquality:!1}),d({nodeExtent:m}))},panBy:m=>{const{transform:w,width:x,height:_,panZoom:y,translateExtent:v}=g();return Sm({delta:m,panZoom:y,transform:w,translateExtent:v,width:x,height:_})},setCenter:async(m,w,x)=>{const{width:_,height:y,maxZoom:v,panZoom:S}=g();if(!S)return Promise.resolve(!1);const N=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:v;return await S.setViewport({x:_/2-m*N,y:y/2-w*N,zoom:N},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...Zs}})},updateConnection:m=>{d({connection:m})},reset:()=>d({...es()})}},Object.is);function V0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:r,initialHeight:i,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:c,fitView:l,nodeOrigin:f,nodeExtent:u,children:d}){const[g]=I.useState(()=>O0({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:l,minZoom:s,maxZoom:a,fitViewOptions:c,nodeOrigin:f,nodeExtent:u}));return h.jsx(ip,{value:g,children:h.jsx(Ip,{children:d})})}function Y0({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:r,width:i,height:s,fitView:a,fitViewOptions:c,minZoom:l,maxZoom:f,nodeOrigin:u,nodeExtent:d}){return I.useContext(oo)?h.jsx(h.Fragment,{children:e}):h.jsx(V0,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:a,initialFitViewOptions:c,initialMinZoom:l,initialMaxZoom:f,nodeOrigin:u,nodeExtent:d,children:e})}const W0={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function X0({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:r,nodeTypes:i,edgeTypes:s,onNodeClick:a,onEdgeClick:c,onInit:l,onMove:f,onMoveStart:u,onMoveEnd:d,onConnect:g,onConnectStart:p,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:x,onNodeMouseEnter:_,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:E,onNodeDrag:k,onNodeDragStop:$,onNodesDelete:O,onEdgesDelete:P,onDelete:j,onSelectionChange:D,onSelectionDragStart:b,onSelectionDrag:A,onSelectionDragStop:C,onSelectionContextMenu:L,onSelectionStart:M,onSelectionEnd:T,onBeforeDelete:R,connectionMode:H,connectionLineType:B=Xe.Bezier,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:q,deleteKeyCode:K="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:z=!1,selectionMode:G=Vt.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:U=Wt()?"Meta":"Control",zoomActivationKeyCode:F=Wt()?"Meta":"Control",snapToGrid:W,snapGrid:Q,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ee,nodesDraggable:oe,autoPanOnNodeFocus:ce,nodesConnectable:le,nodesFocusable:me,nodeOrigin:Ee=ka,edgesFocusable:$e,edgesReconnectable:Ae,elementsSelectable:ct=!0,defaultViewport:Ue=yp,minZoom:Oe=.5,maxZoom:Ve=2,translateExtent:an=Ot,preventScrolling:St=!0,nodeExtent:Ce,defaultMarkerColor:Nt="#b1b1b7",zoomOnScroll:Et=!0,zoomOnPinch:lt=!0,panOnScroll:lo=!1,panOnScrollSpeed:uo=.5,panOnScrollMode:fo=nt.Free,zoomOnDoubleClick:ho=!0,panOnDrag:go=!0,onPaneClick:cn,onPaneMouseEnter:mo,onPaneMouseMove:ln,onPaneMouseLeave:un,onPaneScroll:dn,onPaneContextMenu:po,paneClickDistance:fn=1,nodeClickDistance:hn=0,children:xo,onReconnect:lc,onReconnectStart:uc,onReconnectEnd:dc,onEdgeContextMenu:fc,onEdgeDoubleClick:hc,onEdgeMouseEnter:gc,onEdgeMouseMove:mc,onEdgeMouseLeave:pc,reconnectRadius:xc=10,onNodesChange:yc,onEdgesChange:wc,noDragClassName:vc="nodrag",noWheelClassName:_c="nowheel",noPanClassName:kr="nopan",fitView:Mr,fitViewOptions:Ir,connectOnClick:bc,attributionPosition:Sc,proOptions:Nc,defaultEdgeOptions:Ec,elevateNodesOnSelect:Cc,elevateEdgesOnSelect:Tc,disableKeyboardA11y:jr=!1,autoPanOnConnect:kc,autoPanOnNodeDrag:Mc,autoPanSpeed:Ic,connectionRadius:jc,isValidConnection:$c,onError:Ac,style:Pc,id:$r,nodeDragThreshold:Lc,connectionDragThreshold:Dc,viewport:Rc,onViewportChange:Bc,width:Hc,height:Fc,colorMode:zc="light",debug:Oc,onScroll:gn,ariaLabelConfig:Vc,...Yc},Wc){const yo=$r||"1",Xc=bp(zc),Gc=I.useCallback(Ar=>{Ar.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),gn==null||gn(Ar)},[gn]);return h.jsx("div",{"data-testid":"rf__wrapper",...Yc,onScroll:Gc,style:{...Pc,...W0},ref:Wc,className:ae(["react-flow",r,Xc]),id:$r,role:"application",children:h.jsxs(Y0,{nodes:e,edges:t,width:Hc,height:Fc,fitView:Mr,fitViewOptions:Ir,minZoom:Oe,maxZoom:Ve,nodeOrigin:Ee,nodeExtent:Ce,children:[h.jsx(z0,{onInit:l,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:_,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:s,connectionLineType:B,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:q,selectionKeyCode:V,selectionOnDrag:z,selectionMode:G,deleteKeyCode:K,multiSelectionKeyCode:U,panActivationKeyCode:Z,zoomActivationKeyCode:F,onlyRenderVisibleElements:te,defaultViewport:Ue,translateExtent:an,minZoom:Oe,maxZoom:Ve,preventScrolling:St,zoomOnScroll:Et,zoomOnPinch:lt,zoomOnDoubleClick:ho,panOnScroll:lo,panOnScrollSpeed:uo,panOnScrollMode:fo,panOnDrag:go,onPaneClick:cn,onPaneMouseEnter:mo,onPaneMouseMove:ln,onPaneMouseLeave:un,onPaneScroll:dn,onPaneContextMenu:po,paneClickDistance:fn,nodeClickDistance:hn,onSelectionContextMenu:L,onSelectionStart:M,onSelectionEnd:T,onReconnect:lc,onReconnectStart:uc,onReconnectEnd:dc,onEdgeContextMenu:fc,onEdgeDoubleClick:hc,onEdgeMouseEnter:gc,onEdgeMouseMove:mc,onEdgeMouseLeave:pc,reconnectRadius:xc,defaultMarkerColor:Nt,noDragClassName:vc,noWheelClassName:_c,noPanClassName:kr,rfId:yo,disableKeyboardA11y:jr,nodeExtent:Ce,viewport:Rc,onViewportChange:Bc}),h.jsx(_p,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:g,onConnectStart:p,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:x,nodesDraggable:oe,autoPanOnNodeFocus:ce,nodesConnectable:le,nodesFocusable:me,edgesFocusable:$e,edgesReconnectable:Ae,elementsSelectable:ct,elevateNodesOnSelect:Cc,elevateEdgesOnSelect:Tc,minZoom:Oe,maxZoom:Ve,nodeExtent:Ce,onNodesChange:yc,onEdgesChange:wc,snapToGrid:W,snapGrid:Q,connectionMode:H,translateExtent:an,connectOnClick:bc,defaultEdgeOptions:Ec,fitView:Mr,fitViewOptions:Ir,onNodesDelete:O,onEdgesDelete:P,onDelete:j,onNodeDragStart:E,onNodeDrag:k,onNodeDragStop:$,onSelectionDrag:A,onSelectionDragStart:b,onSelectionDragStop:C,onMove:f,onMoveStart:u,onMoveEnd:d,noPanClassName:kr,nodeOrigin:Ee,rfId:yo,autoPanOnConnect:kc,autoPanOnNodeDrag:Mc,autoPanSpeed:Ic,onError:Ac,connectionRadius:jc,isValidConnection:$c,selectNodesOnDrag:ee,nodeDragThreshold:Lc,connectionDragThreshold:Dc,onBeforeDelete:R,debug:Oc,ariaLabelConfig:Vc}),h.jsx(xp,{onSelectionChange:D}),xo,h.jsx(fp,{proOptions:Nc,position:Sc}),h.jsx(dp,{rfId:yo,disableKeyboardA11y:jr})]})})}var G0=Ia(X0);function U0({dimensions:e,lineWidth:t,variant:n,className:o}){return h.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ae(["react-flow__background-pattern",n,o])})}function q0({radius:e,className:t}){return h.jsx("circle",{cx:e,cy:e,r:e,className:ae(["react-flow__background-pattern","dots",t])})}var Ge;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ge||(Ge={}));const K0={[Ge.Dots]:1,[Ge.Lines]:1,[Ge.Cross]:6},Z0=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ec({id:e,variant:t=Ge.Dots,gap:n=20,size:o,lineWidth:r=1,offset:i=0,color:s,bgColor:a,style:c,className:l,patternClassName:f}){const u=I.useRef(null),{transform:d,patternId:g}=ne(Z0,se),p=o||K0[t],m=t===Ge.Dots,w=t===Ge.Cross,x=Array.isArray(n)?n:[n,n],_=[x[0]*d[2]||1,x[1]*d[2]||1],y=p*d[2],v=Array.isArray(i)?i:[i,i],S=w?[y,y]:_,N=[v[0]*d[2]||1+S[0]/2,v[1]*d[2]||1+S[1]/2],E=`${g}${e||""}`;return h.jsxs("svg",{className:ae(["react-flow__background",l]),style:{...c,...io,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:u,"data-testid":"rf__background",children:[h.jsx("pattern",{id:E,x:d[0]%_[0],y:d[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:m?h.jsx(q0,{radius:y/2,className:f}):h.jsx(U0,{dimensions:S,lineWidth:r,variant:t,className:f})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}ec.displayName="Background";const Q0=I.memo(ec);function J0(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ex(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function tx(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function nx(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ox(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Tn({children:e,className:t,...n}){return h.jsx("button",{type:"button",className:ae(["react-flow__controls-button",t]),...n,children:e})}const rx=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function tc({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:s,onFitView:a,onInteractiveChange:c,className:l,children:f,position:u="bottom-left",orientation:d="vertical","aria-label":g}){const p=re(),{isInteractive:m,minZoomReached:w,maxZoomReached:x,ariaLabelConfig:_}=ne(rx,se),{zoomIn:y,zoomOut:v,fitView:S}=_r(),N=()=>{y(),i==null||i()},E=()=>{v(),s==null||s()},k=()=>{S(r),a==null||a()},$=()=>{p.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),c==null||c(!m)},O=d==="horizontal"?"horizontal":"vertical";return h.jsxs(ro,{className:ae(["react-flow__controls",O,l]),position:u,style:e,"data-testid":"rf__controls","aria-label":g??_["controls.ariaLabel"],children:[t&&h.jsxs(h.Fragment,{children:[h.jsx(Tn,{onClick:N,className:"react-flow__controls-zoomin",title:_["controls.zoomIn.ariaLabel"],"aria-label":_["controls.zoomIn.ariaLabel"],disabled:x,children:h.jsx(J0,{})}),h.jsx(Tn,{onClick:E,className:"react-flow__controls-zoomout",title:_["controls.zoomOut.ariaLabel"],"aria-label":_["controls.zoomOut.ariaLabel"],disabled:w,children:h.jsx(ex,{})})]}),n&&h.jsx(Tn,{className:"react-flow__controls-fitview",onClick:k,title:_["controls.fitView.ariaLabel"],"aria-label":_["controls.fitView.ariaLabel"],children:h.jsx(tx,{})}),o&&h.jsx(Tn,{className:"react-flow__controls-interactive",onClick:$,title:_["controls.interactive.ariaLabel"],"aria-label":_["controls.interactive.ariaLabel"],children:m?h.jsx(ox,{}):h.jsx(nx,{})}),f]})}tc.displayName="Controls";const ix=I.memo(tc);function sx({id:e,x:t,y:n,width:o,height:r,style:i,color:s,strokeColor:a,strokeWidth:c,className:l,borderRadius:f,shapeRendering:u,selected:d,onClick:g}){const{background:p,backgroundColor:m}=i||{},w=s||p||m;return h.jsx("rect",{className:ae(["react-flow__minimap-node",{selected:d},l]),x:t,y:n,rx:f,ry:f,width:o,height:r,style:{fill:w,stroke:a,strokeWidth:c},shapeRendering:u,onClick:g?x=>g(x,e):void 0})}const ax=I.memo(sx),cx=e=>e.nodes.map(t=>t.id),Bo=e=>e instanceof Function?e:()=>e;function lx({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:r,nodeComponent:i=ax,onClick:s}){const a=ne(cx,se),c=Bo(t),l=Bo(e),f=Bo(n),u=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:a.map(d=>h.jsx(dx,{id:d,nodeColorFunc:c,nodeStrokeColorFunc:l,nodeClassNameFunc:f,nodeBorderRadius:o,nodeStrokeWidth:r,NodeComponent:i,onClick:s,shapeRendering:u},d))})}function ux({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:r,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:a,onClick:c}){const{node:l,x:f,y:u,width:d,height:g}=ne(p=>{const{internals:m}=p.nodeLookup.get(e),w=m.userNode,{x,y:_}=m.positionAbsolute,{width:y,height:v}=ze(w);return{node:w,x,y:_,width:y,height:v}},se);return!l||l.hidden||!ra(l)?null:h.jsx(a,{x:f,y:u,width:d,height:g,style:l.style,selected:!!l.selected,className:o(l),color:t(l),borderRadius:r,strokeColor:n(l),strokeWidth:i,shapeRendering:s,onClick:c,id:l.id})}const dx=I.memo(ux);var fx=I.memo(lx);const hx=200,gx=150,mx=e=>!e.hidden,px=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?oa(nn(e.nodeLookup,{filter:mx}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},xx="react-flow__minimap-desc";function nc({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:c,maskColor:l,maskStrokeColor:f,maskStrokeWidth:u,position:d="bottom-right",onClick:g,onNodeClick:p,pannable:m=!1,zoomable:w=!1,ariaLabel:x,inversePan:_,zoomStep:y=1,offsetScale:v=5}){const S=re(),N=I.useRef(null),{boundingRect:E,viewBB:k,rfId:$,panZoom:O,translateExtent:P,flowWidth:j,flowHeight:D,ariaLabelConfig:b}=ne(px,se),A=(e==null?void 0:e.width)??hx,C=(e==null?void 0:e.height)??gx,L=E.width/A,M=E.height/C,T=Math.max(L,M),R=T*A,H=T*C,B=v*T,X=E.x-(R-E.width)/2-B,Y=E.y-(H-E.height)/2-B,q=R+B*2,K=H+B*2,V=`${xx}-${$}`,z=I.useRef(0),G=I.useRef();z.current=T,I.useEffect(()=>{if(N.current&&O)return G.current=$m({domNode:N.current,panZoom:O,getTransform:()=>S.getState().transform,getViewScale:()=>z.current}),()=>{var W;(W=G.current)==null||W.destroy()}},[O]),I.useEffect(()=>{var W;(W=G.current)==null||W.update({translateExtent:P,width:j,height:D,inversePan:_,pannable:m,zoomStep:y,zoomable:w})},[m,w,_,y,P,j,D]);const Z=g?W=>{var ee;const[Q,te]=((ee=G.current)==null?void 0:ee.pointer(W))||[0,0];g(W,{x:Q,y:te})}:void 0,U=p?I.useCallback((W,Q)=>{const te=S.getState().nodeLookup.get(Q).internals.userNode;p(W,te)},[]):void 0,F=x??b["minimap.ariaLabel"];return h.jsx(ro,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof u=="number"?u*T:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ae(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:A,height:C,viewBox:`${X} ${Y} ${q} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":V,ref:N,onClick:Z,children:[F&&h.jsx("title",{id:V,children:F}),h.jsx(fx,{onClick:U,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:r,nodeStrokeWidth:s,nodeComponent:a}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-B},${Y-B}h${q+B*2}v${K+B*2}h${-q-B*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}nc.displayName="MiniMap";I.memo(nc);const yx=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,wx={[bt.Line]:"right",[bt.Handle]:"bottom-right"};function vx({nodeId:e,position:t,variant:n=bt.Handle,className:o,style:r=void 0,children:i,color:s,minWidth:a=10,minHeight:c=10,maxWidth:l=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:u=!1,resizeDirection:d,autoScale:g=!0,shouldResize:p,onResizeStart:m,onResize:w,onResizeEnd:x}){const _=Pa(),y=typeof e=="string"?e:_,v=re(),S=I.useRef(null),N=n===bt.Handle,E=ne(I.useCallback(yx(N&&g),[N,g]),se),k=I.useRef(null),$=t??wx[n];I.useEffect(()=>{if(!(!S.current||!y))return k.current||(k.current=Xm({domNode:S.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:P,transform:j,snapGrid:D,snapToGrid:b,nodeOrigin:A,domNode:C}=v.getState();return{nodeLookup:P,transform:j,snapGrid:D,snapToGrid:b,nodeOrigin:A,paneDomNode:C}},onChange:(P,j)=>{const{triggerNodeChanges:D,nodeLookup:b,parentLookup:A,nodeOrigin:C}=v.getState(),L=[],M={x:P.x,y:P.y},T=b.get(y);if(T&&T.expandParent&&T.parentId){const R=T.origin??C,H=P.width??T.measured.width??0,B=P.height??T.measured.height??0,X={id:T.id,parentId:T.parentId,rect:{width:H,height:B,...ia({x:P.x??T.position.x,y:P.y??T.position.y},{width:H,height:B},T.parentId,b,R)}},Y=vr([X],b,A,C);L.push(...Y),M.x=P.x?Math.max(R[0]*H,P.x):void 0,M.y=P.y?Math.max(R[1]*B,P.y):void 0}if(M.x!==void 0&&M.y!==void 0){const R={id:y,type:"position",position:{...M}};L.push(R)}if(P.width!==void 0&&P.height!==void 0){const H={id:y,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};L.push(H)}for(const R of j){const H={...R,type:"position"};L.push(H)}D(L)},onEnd:({width:P,height:j})=>{const D={id:y,type:"dimensions",resizing:!1,dimensions:{width:P,height:j}};v.getState().triggerNodeChanges([D])}})),k.current.update({controlPosition:$,boundaries:{minWidth:a,minHeight:c,maxWidth:l,maxHeight:f},keepAspectRatio:u,resizeDirection:d,onResizeStart:m,onResize:w,onResizeEnd:x,shouldResize:p}),()=>{var P;(P=k.current)==null||P.destroy()}},[$,a,c,l,f,u,m,w,x,p]);const O=$.split("-");return h.jsx("div",{className:ae(["react-flow__resize-control","nodrag",...O,n,o]),ref:S,style:{...r,scale:E,...s&&{[N?"backgroundColor":"borderColor"]:s}},children:i})}I.memo(vx);const _x=[{id:"css",position:{x:100,y:0},data:{label:"CSS"}},{id:"scss",position:{x:100,y:100},data:{label:"Scss / Sass"}},{id:"tailwind",position:{x:300,y:100},data:{label:"Tailwind"}},{id:"styled",position:{x:-100,y:100},data:{label:"Styled components"}}],bx=[{id:"css-scss",source:"css",target:"scss"},{id:"css-tailwind",source:"css",target:"tailwind"},{id:"css-styled",source:"css",target:"styled"}],Sx=[{id:"js",position:{x:700,y:0},data:{label:"Js"}},{id:"ts",position:{x:700,y:100},data:{label:"Typescript"}},{id:"react",position:{x:500,y:100},data:{label:"React"}},{id:"next",position:{x:500,y:200},data:{label:"Next.js"}}],Nx=[{id:"js-ts",source:"js",target:"ts"},{id:"js-react",source:"js",target:"react"},{id:"react-next",source:"react",target:"next"},{id:"ts-libs",source:"ts",target:"libs"}],Ex=[{id:"libs",position:{x:700,y:300},data:{label:"Libraries"}},{id:"react-query",position:{x:700,y:400},data:{label:"React query"}},{id:"rtk",position:{x:500,y:400},data:{label:"Redux / RTK"}},{id:"zustand",position:{x:300,y:400},data:{label:"Zustand"}},{id:"mui",position:{x:900,y:400},data:{label:"material-ui"}},{id:"jest",position:{x:1100,y:400},data:{label:"Jest"}},{id:"framer",position:{x:1300,y:400},data:{label:"Framer-motion"}}],Cx=[{id:"libs-react-query",source:"libs",target:"react-query"},{id:"libs-rtk",source:"libs",target:"rtk"},{id:"libs-zustand",source:"libs",target:"zustand"},{id:"libs-mui",source:"libs",target:"mui"},{id:"libs-jest",source:"libs",target:"jest"},{id:"libs-framer",source:"libs",target:"framer"}],Tx=[{id:"java",position:{x:900,y:0},data:{label:"Java"}},{id:"node",position:{x:1100,y:0},data:{label:"Node.js"}}],kx=[..._x,...Sx,...Ex,...Tx],Mx=[...bx,...Nx,...Cx],Ix="_ReactFlow_hx4j9_1",jx={ReactFlow:Ix},$x=window.matchMedia("(prefers-color-scheme: dark)").matches,ao=I.createContext({theme:Qe.light,toggleTheme:()=>{}}),Ax=e=>{const[t,n]=I.useState($x?Qe.dark:Qe.light),o=()=>{t===Qe.dark?n(Qe.light):n(Qe.dark)};return h.jsx(ao.Provider,{value:{theme:t,toggleTheme:o},children:e.children})},Px="_Node_18k6u_11",Lx="_Content_18k6u_26",ts={Node:Px,Content:Lx},oc=e=>h.jsx(h.Fragment,{children:e.map(({id:t,name:n,children:o})=>h.jsx(Dx,{name:n,id:t,children:o},t))}),Dx=({name:e,id:t,children:n})=>{const o=oc(n);return h.jsx(h.Fragment,{children:h.jsx("li",{id:t,style:{padding:"12px"},children:h.jsxs("details",{open:!0,children:[h.jsx("summary",{className:ts.Node,children:e}),n.length>0&&h.jsx("div",{className:ts.Content,children:o})]})})})},Rx=({data:e})=>h.jsx("ul",{children:oc(e)}),Bx=[{id:"css",name:"CSS",children:[{id:"scss",name:"Scss / Sass",children:[]},{id:"tailwind",name:"Tailwind",children:[]},{id:"styled",name:"Styled components",children:[]}]},{id:"js",name:"Js",children:[{id:"ts",name:"Typescript",children:[]},{id:"react",name:"React",children:[]},{id:"next",name:"Next.js",children:[]},{id:"libs",name:"Libraries",children:[{id:"react-query",name:"React query",children:[]},{id:"rtk",name:"Redux / RTK",children:[]},{id:"zustand",name:"Zustand",children:[]},{id:"mui",name:"material-ui",children:[]},{id:"jest",name:"Jest",children:[]},{id:"framer",name:"Framer-motion",children:[]}]}]},{id:"building",name:"Build tools",children:[{id:"webpack",name:"Webpack",children:[]},{id:"vite",name:"Vite",children:[]}]},{id:"backend",name:"Backend",children:[{id:"java",name:"Java",children:[]},{id:"node",name:"Node.js",children:[]}]}],Hx=()=>{const{theme:e}=I.use(ao),t=or({query:"(min-width: 1024px)"});return h.jsxs("section",{id:"stack","aria-label":"my stack","data-wide":!0,children:[h.jsx(at,{name:"Stack",icon:h.jsx(cl,{className:"icon"}),textSecondary:"technologies I use"}),h.jsx(He,{maxWidth:1024,children:h.jsx(Rx,{data:Bx})}),h.jsx(He,{minWidth:1024,children:h.jsx("div",{className:jx.ReactFlow,children:h.jsxs(G0,{nodes:kx,edges:Mx,colorMode:e,preventScrolling:!t,fitView:!0,nodesConnectable:!1,children:[h.jsx(Q0,{}),h.jsx(ix,{})]})})})]})};function Fx(e){return Object.prototype.toString.call(e)==="[object Object]"}function ns(e){return Fx(e)||Array.isArray(e)}function zx(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Sr(e,t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;const r=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return r!==i?!1:n.every(s=>{const a=e[s],c=t[s];return typeof a=="function"?`${a}`==`${c}`:!ns(a)||!ns(c)?a===c:Sr(a,c)})}function os(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function Ox(e,t){if(e.length!==t.length)return!1;const n=os(e),o=os(t);return n.every((r,i)=>{const s=o[i];return Sr(r,s)})}function Nr(e){return typeof e=="number"}function tr(e){return typeof e=="string"}function co(e){return typeof e=="boolean"}function rs(e){return Object.prototype.toString.call(e)==="[object Object]"}function ie(e){return Math.abs(e)}function Er(e){return Math.sign(e)}function Dt(e,t){return ie(e-t)}function Vx(e,t){if(e===0||t===0||ie(e)<=ie(t))return 0;const n=Dt(ie(e),ie(t));return ie(n/e)}function Yx(e){return Math.round(e*100)/100}function Ut(e){return qt(e).map(Number)}function Se(e){return e[sn(e)]}function sn(e){return Math.max(0,e.length-1)}function Cr(e,t){return t===sn(e)}function is(e,t=0){return Array.from(Array(e),(n,o)=>t+o)}function qt(e){return Object.keys(e)}function rc(e,t){return[e,t].reduce((n,o)=>(qt(o).forEach(r=>{const i=n[r],s=o[r],a=rs(i)&&rs(s);n[r]=a?rc(i,s):s}),n),{})}function nr(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Wx(e,t){const n={start:o,center:r,end:i};function o(){return 0}function r(c){return i(c)/2}function i(c){return t-c}function s(c,l){return tr(e)?n[e](c):e(t,c,l)}return{measure:s}}function Kt(){let e=[];function t(r,i,s,a={passive:!0}){let c;if("addEventListener"in r)r.addEventListener(i,s,a),c=()=>r.removeEventListener(i,s,a);else{const l=r;l.addListener(s),c=()=>l.removeListener(s)}return e.push(c),o}function n(){e=e.filter(r=>r())}const o={add:t,clear:n};return o}function Xx(e,t,n,o){const r=Kt(),i=1e3/60;let s=null,a=0,c=0;function l(){r.add(e,"visibilitychange",()=>{e.hidden&&p()})}function f(){g(),r.clear()}function u(w){if(!c)return;s||(s=w,n(),n());const x=w-s;for(s=w,a+=x;a>=i;)n(),a-=i;const _=a/i;o(_),c&&(c=t.requestAnimationFrame(u))}function d(){c||(c=t.requestAnimationFrame(u))}function g(){t.cancelAnimationFrame(c),s=null,a=0,c=0}function p(){s=null,a=0}return{init:l,destroy:f,start:d,stop:g,update:n,render:o}}function Gx(e,t){const n=t==="rtl",o=e==="y",r=o?"y":"x",i=o?"x":"y",s=!o&&n?-1:1,a=f(),c=u();function l(p){const{height:m,width:w}=p;return o?m:w}function f(){return o?"top":n?"right":"left"}function u(){return o?"bottom":n?"left":"right"}function d(p){return p*s}return{scroll:r,cross:i,startEdge:a,endEdge:c,measureSize:l,direction:d}}function st(e=0,t=0){const n=ie(e-t);function o(l){return l<e}function r(l){return l>t}function i(l){return o(l)||r(l)}function s(l){return i(l)?o(l)?e:t:l}function a(l){return n?l-n*Math.ceil((l-t)/n):l}return{length:n,max:t,min:e,constrain:s,reachedAny:i,reachedMax:r,reachedMin:o,removeOffset:a}}function ic(e,t,n){const{constrain:o}=st(0,e),r=e+1;let i=s(t);function s(d){return n?ie((r+d)%r):o(d)}function a(){return i}function c(d){return i=s(d),u}function l(d){return f().set(a()+d)}function f(){return ic(e,a(),n)}const u={get:a,set:c,add:l,clone:f};return u}function Ux(e,t,n,o,r,i,s,a,c,l,f,u,d,g,p,m,w,x,_){const{cross:y,direction:v}=e,S=["INPUT","SELECT","TEXTAREA"],N={passive:!1},E=Kt(),k=Kt(),$=st(50,225).constrain(g.measure(20)),O={mouse:300,touch:400},P={mouse:500,touch:600},j=p?43:25;let D=!1,b=0,A=0,C=!1,L=!1,M=!1,T=!1;function R(F){if(!_)return;function W(te){(co(_)||_(F,te))&&K(te)}const Q=t;E.add(Q,"dragstart",te=>te.preventDefault(),N).add(Q,"touchmove",()=>{},N).add(Q,"touchend",()=>{}).add(Q,"touchstart",W).add(Q,"mousedown",W).add(Q,"touchcancel",z).add(Q,"contextmenu",z).add(Q,"click",G,!0)}function H(){E.clear(),k.clear()}function B(){const F=T?n:t;k.add(F,"touchmove",V,N).add(F,"touchend",z).add(F,"mousemove",V,N).add(F,"mouseup",z)}function X(F){const W=F.nodeName||"";return S.includes(W)}function Y(){return(p?P:O)[T?"mouse":"touch"]}function q(F,W){const Q=u.add(Er(F)*-1),te=f.byDistance(F,!p).distance;return p||ie(F)<$?te:w&&W?te*.5:f.byIndex(Q.get(),0).distance}function K(F){const W=nr(F,o);T=W,M=p&&W&&!F.buttons&&D,D=Dt(r.get(),s.get())>=2,!(W&&F.button!==0)&&(X(F.target)||(C=!0,i.pointerDown(F),l.useFriction(0).useDuration(0),r.set(s),B(),b=i.readPoint(F),A=i.readPoint(F,y),d.emit("pointerDown")))}function V(F){if(!nr(F,o)&&F.touches.length>=2)return z(F);const Q=i.readPoint(F),te=i.readPoint(F,y),ee=Dt(Q,b),oe=Dt(te,A);if(!L&&!T&&(!F.cancelable||(L=ee>oe,!L)))return z(F);const ce=i.pointerMove(F);ee>m&&(M=!0),l.useFriction(.3).useDuration(.75),a.start(),r.add(v(ce)),F.preventDefault()}function z(F){const Q=f.byDistance(0,!1).index!==u.get(),te=i.pointerUp(F)*Y(),ee=q(v(te),Q),oe=Vx(te,ee),ce=j-10*oe,le=x+oe/50;L=!1,C=!1,k.clear(),l.useDuration(ce).useFriction(le),c.distance(ee,!p),T=!1,d.emit("pointerUp")}function G(F){M&&(F.stopPropagation(),F.preventDefault(),M=!1)}function Z(){return C}return{init:R,destroy:H,pointerDown:Z}}function qx(e,t){let o,r;function i(u){return u.timeStamp}function s(u,d){const p=`client${(d||e.scroll)==="x"?"X":"Y"}`;return(nr(u,t)?u:u.touches[0])[p]}function a(u){return o=u,r=u,s(u)}function c(u){const d=s(u)-s(r),g=i(u)-i(o)>170;return r=u,g&&(o=u),d}function l(u){if(!o||!r)return 0;const d=s(r)-s(o),g=i(u)-i(o),p=i(u)-i(r)>170,m=d/g;return g&&!p&&ie(m)>.1?m:0}return{pointerDown:a,pointerMove:c,pointerUp:l,readPoint:s}}function Kx(){function e(n){const{offsetTop:o,offsetLeft:r,offsetWidth:i,offsetHeight:s}=n;return{top:o,right:r+i,bottom:o+s,left:r,width:i,height:s}}return{measure:e}}function Zx(e){function t(o){return e*(o/100)}return{measure:t}}function Qx(e,t,n,o,r,i,s){const a=[e].concat(o);let c,l,f=[],u=!1;function d(w){return r.measureSize(s.measure(w))}function g(w){if(!i)return;l=d(e),f=o.map(d);function x(_){for(const y of _){if(u)return;const v=y.target===e,S=o.indexOf(y.target),N=v?l:f[S],E=d(v?e:o[S]);if(ie(E-N)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(_=>{(co(i)||i(w,_))&&x(_)}),n.requestAnimationFrame(()=>{a.forEach(_=>c.observe(_))})}function p(){u=!0,c&&c.disconnect()}return{init:g,destroy:p}}function Jx(e,t,n,o,r,i){let s=0,a=0,c=r,l=i,f=e.get(),u=0;function d(){const N=o.get()-e.get(),E=!c;let k=0;return E?(s=0,n.set(o),e.set(o),k=N):(n.set(e),s+=N/c,s*=l,f+=s,e.add(s),k=f-u),a=Er(k),u=f,S}function g(){const N=o.get()-t.get();return ie(N)<.001}function p(){return c}function m(){return a}function w(){return s}function x(){return y(r)}function _(){return v(i)}function y(N){return c=N,S}function v(N){return l=N,S}const S={direction:m,duration:p,velocity:w,seek:d,settled:g,useBaseFriction:_,useBaseDuration:x,useFriction:v,useDuration:y};return S}function ey(e,t,n,o,r){const i=r.measure(10),s=r.measure(50),a=st(.1,.99);let c=!1;function l(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function f(g){if(!l())return;const p=e.reachedMin(t.get())?"min":"max",m=ie(e[p]-t.get()),w=n.get()-t.get(),x=a.constrain(m/s);n.subtract(w*x),!g&&ie(w)<i&&(n.set(e.constrain(n.get())),o.useDuration(25).useBaseFriction())}function u(g){c=!g}return{shouldConstrain:l,constrain:f,toggleActive:u}}function ty(e,t,n,o,r){const i=st(-t+e,0),s=u(),a=f(),c=d();function l(p,m){return Dt(p,m)<=1}function f(){const p=s[0],m=Se(s),w=s.lastIndexOf(p),x=s.indexOf(m)+1;return st(w,x)}function u(){return n.map((p,m)=>{const{min:w,max:x}=i,_=i.constrain(p),y=!m,v=Cr(n,m);return y?x:v||l(w,_)?w:l(x,_)?x:_}).map(p=>parseFloat(p.toFixed(3)))}function d(){if(t<=e+r)return[i.max];if(o==="keepSnaps")return s;const{min:p,max:m}=a;return s.slice(p,m)}return{snapsContained:c,scrollContainLimit:a}}function ny(e,t,n){const o=t[0],r=n?o-e:Se(t);return{limit:st(r,o)}}function oy(e,t,n,o){const i=t.min+.1,s=t.max+.1,{reachedMin:a,reachedMax:c}=st(i,s);function l(d){return d===1?c(n.get()):d===-1?a(n.get()):!1}function f(d){if(!l(d))return;const g=e*(d*-1);o.forEach(p=>p.add(g))}return{loop:f}}function ry(e){const{max:t,length:n}=e;function o(i){const s=i-t;return n?s/-n:0}return{get:o}}function iy(e,t,n,o,r){const{startEdge:i,endEdge:s}=e,{groupSlides:a}=r,c=u().map(t.measure),l=d(),f=g();function u(){return a(o).map(m=>Se(m)[s]-m[0][i]).map(ie)}function d(){return o.map(m=>n[i]-m[i]).map(m=>-ie(m))}function g(){return a(l).map(m=>m[0]).map((m,w)=>m+c[w])}return{snaps:l,snapsAligned:f}}function sy(e,t,n,o,r,i){const{groupSlides:s}=r,{min:a,max:c}=o,l=f();function f(){const d=s(i),g=!e||t==="keepSnaps";return n.length===1?[i]:g?d:d.slice(a,c).map((p,m,w)=>{const x=!m,_=Cr(w,m);if(x){const y=Se(w[0])+1;return is(y)}if(_){const y=sn(i)-Se(w)[0]+1;return is(y,Se(w)[0])}return p})}return{slideRegistry:l}}function ay(e,t,n,o,r){const{reachedAny:i,removeOffset:s,constrain:a}=o;function c(p){return p.concat().sort((m,w)=>ie(m)-ie(w))[0]}function l(p){const m=e?s(p):a(p),w=t.map((_,y)=>({diff:f(_-m,0),index:y})).sort((_,y)=>ie(_.diff)-ie(y.diff)),{index:x}=w[0];return{index:x,distance:m}}function f(p,m){const w=[p,p+n,p-n];if(!e)return p;if(!m)return c(w);const x=w.filter(_=>Er(_)===m);return x.length?c(x):Se(w)-n}function u(p,m){const w=t[p]-r.get(),x=f(w,m);return{index:p,distance:x}}function d(p,m){const w=r.get()+p,{index:x,distance:_}=l(w),y=!e&&i(w);if(!m||y)return{index:x,distance:p};const v=t[x]-_,S=p+f(v,0);return{index:x,distance:S}}return{byDistance:d,byIndex:u,shortcut:f}}function cy(e,t,n,o,r,i,s){function a(u){const d=u.distance,g=u.index!==t.get();i.add(d),d&&(o.duration()?e.start():(e.update(),e.render(1),e.update())),g&&(n.set(t.get()),t.set(u.index),s.emit("select"))}function c(u,d){const g=r.byDistance(u,d);a(g)}function l(u,d){const g=t.clone().set(u),p=r.byIndex(g.get(),d);a(p)}return{distance:c,index:l}}function ly(e,t,n,o,r,i,s,a){const c={passive:!0,capture:!0};let l=0;function f(g){if(!a)return;function p(m){if(new Date().getTime()-l>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;const _=n.findIndex(y=>y.includes(m));Nr(_)&&(r.useDuration(0),o.index(_,0),s.emit("slideFocus"))}i.add(document,"keydown",u,!1),t.forEach((m,w)=>{i.add(m,"focus",x=>{(co(a)||a(g,x))&&p(w)},c)})}function u(g){g.code==="Tab"&&(l=new Date().getTime())}return{init:f}}function At(e){let t=e;function n(){return t}function o(c){t=s(c)}function r(c){t+=s(c)}function i(c){t-=s(c)}function s(c){return Nr(c)?c:c.get()}return{get:n,set:o,add:r,subtract:i}}function sc(e,t){const n=e.scroll==="x"?s:a,o=t.style;let r=null,i=!1;function s(d){return`translate3d(${d}px,0px,0px)`}function a(d){return`translate3d(0px,${d}px,0px)`}function c(d){if(i)return;const g=Yx(e.direction(d));g!==r&&(o.transform=n(g),r=g)}function l(d){i=!d}function f(){i||(o.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:c,toggleActive:l}}function uy(e,t,n,o,r,i,s,a,c){const f=Ut(r),u=Ut(r).reverse(),d=x().concat(_());function g(E,k){return E.reduce(($,O)=>$-r[O],k)}function p(E,k){return E.reduce(($,O)=>g($,k)>0?$.concat([O]):$,[])}function m(E){return i.map((k,$)=>({start:k-o[$]+.5+E,end:k+t-.5+E}))}function w(E,k,$){const O=m(k);return E.map(P=>{const j=$?0:-n,D=$?n:0,b=$?"end":"start",A=O[P][b];return{index:P,loopPoint:A,slideLocation:At(-1),translate:sc(e,c[P]),target:()=>a.get()>A?j:D}})}function x(){const E=s[0],k=p(u,E);return w(k,n,!1)}function _(){const E=t-s[0]-1,k=p(f,E);return w(k,-n,!0)}function y(){return d.every(({index:E})=>{const k=f.filter($=>$!==E);return g(k,t)<=.1})}function v(){d.forEach(E=>{const{target:k,translate:$,slideLocation:O}=E,P=k();P!==O.get()&&($.to(P),O.set(P))})}function S(){d.forEach(E=>E.translate.clear())}return{canLoop:y,clear:S,loop:v,loopPoints:d}}function dy(e,t,n){let o,r=!1;function i(c){if(!n)return;function l(f){for(const u of f)if(u.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}o=new MutationObserver(f=>{r||(co(n)||n(c,f))&&l(f)}),o.observe(e,{childList:!0})}function s(){o&&o.disconnect(),r=!0}return{init:i,destroy:s}}function fy(e,t,n,o){const r={};let i=null,s=null,a,c=!1;function l(){a=new IntersectionObserver(p=>{c||(p.forEach(m=>{const w=t.indexOf(m.target);r[w]=m}),i=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:o}),t.forEach(p=>a.observe(p))}function f(){a&&a.disconnect(),c=!0}function u(p){return qt(r).reduce((m,w)=>{const x=parseInt(w),{isIntersecting:_}=r[x];return(p&&_||!p&&!_)&&m.push(x),m},[])}function d(p=!0){if(p&&i)return i;if(!p&&s)return s;const m=u(p);return p&&(i=m),p||(s=m),m}return{init:l,destroy:f,get:d}}function hy(e,t,n,o,r,i){const{measureSize:s,startEdge:a,endEdge:c}=e,l=n[0]&&r,f=p(),u=m(),d=n.map(s),g=w();function p(){if(!l)return 0;const _=n[0];return ie(t[a]-_[a])}function m(){if(!l)return 0;const _=i.getComputedStyle(Se(o));return parseFloat(_.getPropertyValue(`margin-${c}`))}function w(){return n.map((_,y,v)=>{const S=!y,N=Cr(v,y);return S?d[y]+f:N?d[y]+u:v[y+1][a]-_[a]}).map(ie)}return{slideSizes:d,slideSizesWithGaps:g,startGap:f,endGap:u}}function gy(e,t,n,o,r,i,s,a,c){const{startEdge:l,endEdge:f,direction:u}=e,d=Nr(n);function g(x,_){return Ut(x).filter(y=>y%_===0).map(y=>x.slice(y,y+_))}function p(x){return x.length?Ut(x).reduce((_,y,v)=>{const S=Se(_)||0,N=S===0,E=y===sn(x),k=r[l]-i[S][l],$=r[l]-i[y][f],O=!o&&N?u(s):0,P=!o&&E?u(a):0,j=ie($-P-(k+O));return v&&j>t+c&&_.push(y),E&&_.push(x.length),_},[]).map((_,y,v)=>{const S=Math.max(v[y-1]||0);return x.slice(S,_)}):[]}function m(x){return d?g(x,n):p(x)}return{groupSlides:m}}function my(e,t,n,o,r,i,s){const{align:a,axis:c,direction:l,startIndex:f,loop:u,duration:d,dragFree:g,dragThreshold:p,inViewThreshold:m,slidesToScroll:w,skipSnaps:x,containScroll:_,watchResize:y,watchSlides:v,watchDrag:S,watchFocus:N}=i,E=2,k=Kx(),$=k.measure(t),O=n.map(k.measure),P=Gx(c,l),j=P.measureSize($),D=Zx(j),b=Wx(a,j),A=!u&&!!_,C=u||!!_,{slideSizes:L,slideSizesWithGaps:M,startGap:T,endGap:R}=hy(P,$,O,n,C,r),H=gy(P,j,w,u,$,O,T,R,E),{snaps:B,snapsAligned:X}=iy(P,b,$,O,H),Y=-Se(B)+Se(M),{snapsContained:q,scrollContainLimit:K}=ty(j,Y,X,_,E),V=A?q:X,{limit:z}=ny(Y,V,u),G=ic(sn(V),f,u),Z=G.clone(),U=Ut(n),F=({dragHandler:Ce,scrollBody:Nt,scrollBounds:Et,options:{loop:lt}})=>{lt||Et.constrain(Ce.pointerDown()),Nt.seek()},W=({scrollBody:Ce,translate:Nt,location:Et,offsetLocation:lt,previousLocation:lo,scrollLooper:uo,slideLooper:fo,dragHandler:ho,animation:go,eventHandler:cn,scrollBounds:mo,options:{loop:ln}},un)=>{const dn=Ce.settled(),po=!mo.shouldConstrain(),fn=ln?dn:dn&&po,hn=fn&&!ho.pointerDown();hn&&go.stop();const xo=Et.get()*un+lo.get()*(1-un);lt.set(xo),ln&&(uo.loop(Ce.direction()),fo.loop()),Nt.to(lt.get()),hn&&cn.emit("settle"),fn||cn.emit("scroll")},Q=Xx(o,r,()=>F(St),Ce=>W(St,Ce)),te=.68,ee=V[G.get()],oe=At(ee),ce=At(ee),le=At(ee),me=At(ee),Ee=Jx(oe,le,ce,me,d,te),$e=ay(u,V,Y,z,me),Ae=cy(Q,G,Z,Ee,$e,me,s),ct=ry(z),Ue=Kt(),Oe=fy(t,n,s,m),{slideRegistry:Ve}=sy(A,_,V,K,H,U),an=ly(e,n,Ve,Ae,Ee,Ue,s,N),St={ownerDocument:o,ownerWindow:r,eventHandler:s,containerRect:$,slideRects:O,animation:Q,axis:P,dragHandler:Ux(P,e,o,r,me,qx(P,r),oe,Q,Ae,Ee,$e,G,s,D,g,p,x,te,S),eventStore:Ue,percentOfView:D,index:G,indexPrevious:Z,limit:z,location:oe,offsetLocation:le,previousLocation:ce,options:i,resizeHandler:Qx(t,s,r,n,P,y,k),scrollBody:Ee,scrollBounds:ey(z,le,me,Ee,D),scrollLooper:oy(Y,z,le,[oe,le,ce,me]),scrollProgress:ct,scrollSnapList:V.map(ct.get),scrollSnaps:V,scrollTarget:$e,scrollTo:Ae,slideLooper:uy(P,j,Y,L,M,B,V,le,n),slideFocus:an,slidesHandler:dy(t,s,v),slidesInView:Oe,slideIndexes:U,slideRegistry:Ve,slidesToScroll:H,target:me,translate:sc(P,t)};return St}function py(){let e={},t;function n(l){t=l}function o(l){return e[l]||[]}function r(l){return o(l).forEach(f=>f(t,l)),c}function i(l,f){return e[l]=o(l).concat([f]),c}function s(l,f){return e[l]=o(l).filter(u=>u!==f),c}function a(){e={}}const c={init:n,emit:r,off:s,on:i,clear:a};return c}const xy={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function yy(e){function t(i,s){return rc(i,s||{})}function n(i){const s=i.breakpoints||{},a=qt(s).filter(c=>e.matchMedia(c).matches).map(c=>s[c]).reduce((c,l)=>t(c,l),{});return t(i,a)}function o(i){return i.map(s=>qt(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:o}}function wy(e){let t=[];function n(i,s){return t=s.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(i,e)),s.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function o(){t=t.filter(i=>i.destroy())}return{init:n,destroy:o}}function Un(e,t,n){const o=e.ownerDocument,r=o.defaultView,i=yy(r),s=wy(i),a=Kt(),c=py(),{mergeOptions:l,optionsAtMedia:f,optionsMediaQueries:u}=i,{on:d,off:g,emit:p}=c,m=P;let w=!1,x,_=l(xy,Un.globalOptions),y=l(_),v=[],S,N,E;function k(){const{container:U,slides:F}=y;N=(tr(U)?e.querySelector(U):U)||e.children[0];const Q=tr(F)?N.querySelectorAll(F):F;E=[].slice.call(Q||N.children)}function $(U){const F=my(e,N,E,o,r,U,c);if(U.loop&&!F.slideLooper.canLoop()){const W=Object.assign({},U,{loop:!1});return $(W)}return F}function O(U,F){w||(_=l(_,U),y=f(_),v=F||v,k(),x=$(y),u([_,...v.map(({options:W})=>W)]).forEach(W=>a.add(W,"change",P)),y.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(Z),x.eventHandler.init(Z),x.resizeHandler.init(Z),x.slidesHandler.init(Z),x.options.loop&&x.slideLooper.loop(),N.offsetParent&&E.length&&x.dragHandler.init(Z),S=s.init(Z,v)))}function P(U,F){const W=H();j(),O(l({startIndex:W},U),F),c.emit("reInit")}function j(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),s.destroy(),a.clear()}function D(){w||(w=!0,a.clear(),j(),c.emit("destroy"),c.clear())}function b(U,F,W){!y.active||w||(x.scrollBody.useBaseFriction().useDuration(F===!0?0:y.duration),x.scrollTo.index(U,W||0))}function A(U){const F=x.index.add(1).get();b(F,U,-1)}function C(U){const F=x.index.add(-1).get();b(F,U,1)}function L(){return x.index.add(1).get()!==H()}function M(){return x.index.add(-1).get()!==H()}function T(){return x.scrollSnapList}function R(){return x.scrollProgress.get(x.offsetLocation.get())}function H(){return x.index.get()}function B(){return x.indexPrevious.get()}function X(){return x.slidesInView.get()}function Y(){return x.slidesInView.get(!1)}function q(){return S}function K(){return x}function V(){return e}function z(){return N}function G(){return E}const Z={canScrollNext:L,canScrollPrev:M,containerNode:z,internalEngine:K,destroy:D,off:g,on:d,emit:p,plugins:q,previousScrollSnap:B,reInit:m,rootNode:V,scrollNext:A,scrollPrev:C,scrollProgress:R,scrollSnapList:T,scrollTo:b,selectedScrollSnap:H,slideNodes:G,slidesInView:X,slidesNotInView:Y};return O(t,n),setTimeout(()=>c.emit("init"),0),Z}Un.globalOptions=void 0;function Tr(e={},t=[]){const n=I.useRef(e),o=I.useRef(t),[r,i]=I.useState(),[s,a]=I.useState(),c=I.useCallback(()=>{r&&r.reInit(n.current,o.current)},[r]);return I.useEffect(()=>{Sr(n.current,e)||(n.current=e,c())},[e,c]),I.useEffect(()=>{Ox(o.current,t)||(o.current=t,c())},[t,c]),I.useEffect(()=>{if(zx()&&s){Un.globalOptions=Tr.globalOptions;const l=Un(s,n.current,o.current);return i(l),()=>l.destroy()}else i(void 0)},[s,i]),[a,r]}Tr.globalOptions=void 0;const Ho="img/testimonials",vy=[{photoSrc:`${Ho}/Denis.webp`,coworkerName:"Denis Dyagilev",coworkerPosition:"frontend developer",text:h.jsxs(h.Fragment,{children:["I am a frontend developer. I would like to share my experience of working with Natalia. During my work at Cinimex, I worked with Natalia on the same project. It was comfortable to work, and I was pleased that Natalia helps the rest of the team members.",h.jsx("br",{}),"The code is written thoughtfully and at the same time readable. I think that Natalia is an excellent developer and I would gladly agree to work together again."]}),telegram:"purpleleech",linkedIn:"https://www.linkedin.com/in/denis-dyagilev-63b562168",instagram:"purpleleech"},{photoSrc:`${Ho}/Masha.webp`,coworkerName:"Maria Condaurova",coworkerPosition:"frontend developer",text:h.jsxs(h.Fragment,{children:["I've been working with Natalia in Cinimex for about half a year. Natalia appeared to be a responsible developer. She responded appropriately to the code-review, made suggestions to tasks solution.",h.jsx("br",{}),"She might want to speak louder on meet-ups :)",h.jsx("br",{}),"I got a positive impression of working with Natalia :)"]}),linkedIn:"https://www.linkedin.com/mwlite/in/Ð¼Ð°Ñ€Ð¸Ñ-ÐºÐ¾Ð½Ð´Ð°ÑƒÑ€Ð¾Ð²Ð°-6610a7217",habr:"https://career.habr.com/momomash"},{photoSrc:`${Ho}/Sveta.webp`,coworkerName:"Svetlana Pedan",coworkerPosition:"senior QA",text:h.jsx(h.Fragment,{children:"I like that Natalia tests her tasks on stands. Before her, developers have almost never done that, and now they took that as a rule. It's good that she isn't afraid to ask questions. They're problems with estimation of tasks, but I think it'll go away with the dive in. Communication with Natalia is very comfortable."})}],kn=({href:e,icon:t})=>h.jsx(h.Fragment,{children:e&&h.jsx("a",{href:e,target:"_blank",rel:"noreferrer","aria-label":e,children:t})}),_y="_Testimonial_1vdhg_1",by="_Photo_1vdhg_16",Sy="_CoworkerName_1vdhg_27",Ny="_CoworkerPosition_1vdhg_33",Ey="_Line_1vdhg_40",Cy="_Review_1vdhg_48",Ty="_IconsSocial_1vdhg_54",ky="_SiHabr_1vdhg_63",My="_TiSocialLinkedinCircular_1vdhg_67",Iy="_ImTelegram_1vdhg_71",Te={Testimonial:_y,Photo:by,CoworkerName:Sy,CoworkerPosition:Ny,Line:Ey,Review:Cy,IconsSocial:Ty,SiHabr:ky,TiSocialLinkedinCircular:My,ImTelegram:Iy},jy=({photoSrc:e,coworkerName:t,coworkerPosition:n,text:o,telegram:r,linkedIn:i,habr:s,instagram:a})=>h.jsxs(fe.div,{initial:{opacity:0,filter:"blur(20px)"},whileInView:{opacity:1,filter:"none"},transition:{duration:.2},className:Te.Testimonial,children:[h.jsx("img",{src:e,width:72,height:72,alt:"coworker's photo",className:Te.Photo}),h.jsx("div",{className:Te.CoworkerName,children:t}),h.jsx("div",{className:Te.CoworkerPosition,children:n}),h.jsx("span",{className:Te.Line}),h.jsx("article",{className:Te.Review,children:o}),h.jsxs("div",{className:Te.IconsSocial,children:[h.jsx(kn,{href:r&&`https://t.me/${r}`,icon:h.jsx(ll,{className:Te.ImTelegram,size:"22"})}),h.jsx(kn,{href:i,icon:h.jsx(ul,{className:Te.TiSocialLinkedinCircular,size:"30"})}),h.jsx(kn,{href:`https://instagram.com/${a}`,icon:h.jsx(dl,{size:"20"})}),h.jsx(kn,{href:s,icon:h.jsx(fl,{size:"24",className:Te.SiHabr})})]})]}),$y="_embla_1yvzl_1",Ay="_embla__viewport_1yvzl_8",Py="_embla__container_1yvzl_11",Ly="_embla__slide_1yvzl_16",Dy="_embla__controls_1yvzl_33",Ry="_embla__buttons_1yvzl_38",By="_embla__button_1yvzl_38",Hy="_embla__button__svg_1yvzl_69",xe={embla:$y,embla__viewport:Ay,embla__container:Py,embla__slide:Ly,embla__controls:Dy,embla__buttons:Ry,embla__button:By,embla__button__svg:Hy},Fy=e=>{const[t,n]=I.useState(!0),[o,r]=I.useState(!0),i=I.useCallback(()=>{e&&e.scrollPrev()},[e]),s=I.useCallback(()=>{e&&e.scrollNext()},[e]),a=I.useCallback(c=>{n(!c.canScrollPrev()),r(!c.canScrollNext())},[]);return I.useEffect(()=>{e&&(a(e),e.on("reInit",a).on("select",a))},[e,a]),{prevBtnDisabled:t,nextBtnDisabled:o,onPrevButtonClick:i,onNextButtonClick:s}},zy=e=>{const{children:t,...n}=e;return h.jsxs("button",{className:`${xe.embla__button} ${xe["embla__button--prev"]}`,type:"button",...n,children:[h.jsx("svg",{className:xe.embla__button__svg,viewBox:"0 0 532 532",children:h.jsx("path",{fill:"currentColor",d:"M355.66 11.354c13.793-13.805 36.208-13.805 50.001 0 13.785 13.804 13.785 36.238 0 50.034L201.22 266l204.442 204.61c13.785 13.805 13.785 36.239 0 50.044-13.793 13.796-36.208 13.796-50.002 0a5994246.277 5994246.277 0 0 0-229.332-229.454 35.065 35.065 0 0 1-10.326-25.126c0-9.2 3.393-18.26 10.326-25.2C172.192 194.973 332.731 34.31 355.66 11.354Z"})}),t]})},Oy=e=>{const{children:t,...n}=e;return h.jsxs("button",{className:`${xe.embla__button} ${xe["embla__button--next"]}`,type:"button",...n,children:[h.jsx("svg",{className:xe.embla__button__svg,viewBox:"0 0 532 532",children:h.jsx("path",{fill:"currentColor",d:"M176.34 520.646c-13.793 13.805-36.208 13.805-50.001 0-13.785-13.804-13.785-36.238 0-50.034L330.78 266 126.34 61.391c-13.785-13.805-13.785-36.239 0-50.044 13.793-13.796 36.208-13.796 50.002 0 22.928 22.947 206.395 206.507 229.332 229.454a35.065 35.065 0 0 1 10.326 25.126c0 9.2-3.393 18.26-10.326 25.2-45.865 45.901-206.404 206.564-229.332 229.52Z"})}),t]})},Vy=({slides:e,options:t})=>{const[n,o]=Tr({loop:!0}),{prevBtnDisabled:r,nextBtnDisabled:i,onPrevButtonClick:s,onNextButtonClick:a}=Fy(o);return h.jsxs("article",{className:xe.embla,children:[h.jsx("div",{className:xe.embla__viewport,ref:n,children:h.jsx("div",{className:xe.embla__container,children:vy.map((c,l)=>h.jsx("div",{className:xe.embla__slide,children:h.jsx(jy,{...c})},l))})}),h.jsx("div",{className:xe.embla__controls,children:h.jsxs("div",{className:xe.embla__buttons,children:[h.jsx(zy,{onClick:s,disabled:r}),h.jsx(Oy,{onClick:a,disabled:i})]})})]})},Yy=()=>h.jsxs("section",{id:"testimonials","aria-label":"testimonials",children:[h.jsx(at,{name:"Testimonials",icon:h.jsx(hl,{className:"icon"}),textSecondary:"what my colleagues say"}),h.jsx(Vy,{})]}),Wy=()=>{const e=I.useRef(null);return h.jsxs("main",{className:Pr.Container,id:"container",children:[h.jsxs("div",{ref:e,className:Pr.Container,style:{position:"relative"},children:[h.jsx(He,{minWidth:1024,children:h.jsx(Ml,{refAboutSection:e})}),h.jsx(ru,{}),h.jsx(Hx,{})]}),h.jsx(nd,{}),h.jsx(Yy,{}),h.jsx(Su,{}),h.jsx(fd,{}),h.jsx(zu,{})]})},Xy="_Menu_po44o_1",Gy="_MenuClosing_po44o_26",Uy="_ToggleButton_po44o_36",Fo={Menu:Xy,MenuClosing:Gy,ToggleButton:Uy},ac="ContactÂ me",qy=[{name:"Stack",anchor:"#stack"},{name:"Timeline",anchor:"#experience"},{name:"Testimonials",anchor:"#testimonials"},{name:"BugÂ Hunt",anchor:"#bug-hunt"},{name:"RandomÂ Fact",anchor:"#random-fact"},{name:ac,anchor:"#contact-me"}],Ky="_ToggleThemeButton_abehe_2",Zy={ToggleThemeButton:Ky},Qy=()=>{const{theme:e,toggleTheme:t}=I.use(ao);return h.jsx("button",{onClick:t,className:Zy.ToggleThemeButton,children:e==="dark"?h.jsx(gl,{size:"20"}):h.jsx(ml,{size:"20"})})},Jy="_HashLinks_1uule_1",ew="_li_1uule_11",tw="_ContactMe_1uule_22",nw="_HashLink_1uule_1",ow="_UserProgress_1uule_88",rw="_HidingLinks_1uule_105",Ke={HashLinks:Jy,li:ew,ContactMe:tw,HashLink:nw,UserProgress:ow,HidingLinks:rw},iw=()=>{const[e,t]=Qt(Zt,[]),n=De(r=>r.openTooltip),o=()=>{if(e.length>0)return;const r={id:ue.FIRST_VISIT};t(c=>c.length>0?c:[...c,r]);const{img:i,subtitle:s,title:a}=Rt(ue.FIRST_VISIT);n({img:i,subtitle:s,title:a})};I.useEffect(()=>(document.addEventListener("click",o,{once:!0,capture:!0}),()=>document.removeEventListener("click",o)),[])},sw="_Bar_ldk42_9",aw="_ProgressLevel_ldk42_22",ss={Bar:sw,ProgressLevel:aw},cw=({progress:e})=>{const t=bl(e),n=ds(t,i=>`${i*100}%`),[o,r]=hs();return I.useEffect(()=>{const i=r(t,e,{duration:1.3,ease:"easeInOut"});return()=>i.stop()},[e]),h.jsx(fe.div,{className:ss.Bar,children:h.jsx(fe.div,{className:`${ss.ProgressLevel}`,style:{width:n}})})},lw="_ProgressContainer_gghkn_1",uw="_CloseButton_gghkn_5",dw="_Plate_gghkn_12",fw="_PlateHeader_gghkn_25",hw="_List_gghkn_33",gw="_Li_gghkn_33",Je={ProgressContainer:lw,CloseButton:uw,Plate:dw,PlateHeader:fw,List:hw,Li:gw},cc=()=>{const[e]=Qt(Zt,[]),[t,n]=I.useState(!1);iw();const o=rr.size;return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>n(!0),className:Je.ProgressContainer,children:h.jsx(cw,{progress:e.length/o})}),h.jsx(ys,{isOpen:t,onClose:()=>n(!1),disablePlateClick:!0,children:h.jsxs("div",{className:Je.Plate,children:[h.jsx("button",{onClick:()=>n(!1),className:Je.CloseButton,children:"â¨¯"}),h.jsxs("h3",{className:Je.PlateHeader,children:["Achievements",h.jsx(pl,{})]}),h.jsx("ul",{className:Je.List,children:e==null?void 0:e.map(r=>h.jsx(mw,{achievement:r},r.id))})]})})]})},mw=({achievement:e})=>{const t=rr.get(e.id),n=t==null?void 0:t.img,o=t==null?void 0:t.subtitle,r=t==null?void 0:t.title;return h.jsxs("li",{className:Je.Li,children:[h.jsx("strong",{children:n}),h.jsxs("div",{children:[h.jsx("strong",{children:r}),h.jsx("div",{className:Je.Subtitle,children:`${o} ${zl(e)}`})]})]})},pw=({isMenuOpen:e,closeMenu:t})=>{const n=`${Ke.HashLinks} ${!e&&Ke.HidingLinks}`;return h.jsxs("ul",{className:n,children:[qy.map(({name:o,anchor:r})=>h.jsx("li",{className:Ke.li,children:h.jsx(ls,{onClick:t,to:r,"data-replace":o,smooth:!0,className:o===ac?Ke.ContactMe:Ke.HashLink,children:h.jsx("span",{children:o})})},o)),h.jsx("div",{className:Ke.li,children:h.jsx(Qy,{})}),h.jsx(He,{minWidth:1024,children:h.jsx("div",{className:`${Ke.UserProgress}`,children:h.jsx(cc,{})})})]})},xw=()=>{const e=or({query:"(max-width: 1024px)"}),[t,n]=I.useState(!e),o=()=>n(a=>!a),r=()=>n(!1),i=`${Fo.Menu} ${!t&&Fo.MenuClosing}`,s=h.jsx("button",{className:Fo.ToggleButton,onClick:o,"aria-label":"open/close menu",children:t?h.jsx(xl,{size:23}):h.jsx(yl,{size:23})});return h.jsxs(h.Fragment,{children:[h.jsxs("nav",{className:i,children:[h.jsx(pw,{closeMenu:r,isMenuOpen:t})," ",s,h.jsx(He,{maxWidth:1024,children:s})]}),h.jsx(He,{maxWidth:1024,children:h.jsx(cc,{})})]})},yw="_Tooltip_o91oz_1",ww="_Text_o91oz_17",as={Tooltip:yw,Text:ww},vw=e=>{const t=new Audio(e);t.volume=.4,t.play().catch(n=>{console.error("Error playing audio:",n)})},_w=()=>{const e=De(i=>i.closeTooltip),t=De(i=>{var s;return(s=i.tooltipData)==null?void 0:s.img}),n=De(i=>{var s;return(s=i.tooltipData)==null?void 0:s.title}),o=De(i=>{var s;return(s=i.tooltipData)==null?void 0:s.subtitle}),r=De(i=>i.needShowTooltip);return I.useEffect(()=>{if(!r)return;vw("/resume/audio/achievement.mp3");const i=setTimeout(()=>{e()},4e3);return()=>{clearTimeout(i)}},[r]),h.jsx(fs,{children:r&&h.jsxs(fe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:as.Tooltip,onClick:e,children:[h.jsx("span",{children:t}),h.jsxs("div",{children:[h.jsx("span",{children:n}),h.jsx("p",{className:as.Text,children:o})]})]},"tooltip")})},bw=()=>{const{theme:e}=I.useContext(ao);return h.jsx("div",{"data-theme":e,id:"root_",children:h.jsxs("div",{className:Nl.Wave,children:[h.jsx(xw,{}),h.jsx(Wy,{}),h.jsx(_w,{})]})})};wl.createRoot(document.getElementById("root")).render(h.jsx(I.StrictMode,{children:h.jsx(vl,{basename:"/resume",children:h.jsx(Ax,{children:h.jsx(bw,{})})})}));
