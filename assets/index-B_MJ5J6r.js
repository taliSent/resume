import{r as L,j as h,H as xc,a as Ri,A as yc,B as wc,M as vc,F as bc,b as _c,c as Sc,d as Nc,e as Ec,f as ut,g as Cc,h as kc,i as Hi,k as Mc,R as Et,G as Tc,I as Ic,T as jc,l as $c,S as Ac,m as Pc,L as Lc,n as Dc,N as Fi,o as zc,p as Bc,u as Rc,q as Hc,s as Fc,t as Oc,v as Vc}from"./react-vendor-CNJDrptH.js";import{m as _e,A as Yc,u as Xc,a as Wc,b as qc}from"./framer-motion-vendor-CzbnZqMT.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const Gc="_Wave_tin8s_1",Uc={Wave:Gc},Kc="_About_19nby_1",Zc="_Text_19nby_12",Qc="_PhotoContainer_19nby_20",Jc="_Photo_19nby_20",el="_PhotoFrame_19nby_41",tl="_Profession_19nby_57",nl="_Stack_19nby_84",We={About:Kc,Text:Zc,PhotoContainer:Qc,Photo:Jc,PhotoFrame:el,Profession:tl,Stack:nl},ol="_ButtonContainer_1wwv8_1",rl="_FollowTheCursor_1wwv8_6",il="_Button_1wwv8_1",co={ButtonContainer:ol,FollowTheCursor:rl,Button:il},sl="https://drive.google.com/file/d/1Fr7spdFnohyxuAoMEubrhpCjyb_jhFwT/view?usp=sharing",al=()=>{const e=L.useRef(null),t=L.useRef(null);return L.useEffect(()=>{const n=o=>{if(!e.current||!t.current)return;const r=t.current.getBoundingClientRect();!o.clientX||!o.clientY||(e.current.style.left=o.clientX-r.left-12.5+"px",e.current.style.top=o.clientY-r.top-12.5+"px")};return window.addEventListener("mousemove",n),()=>window.removeEventListener("mousemove",n)},[]),h.jsx("div",{className:co.ButtonContainer,children:h.jsx("a",{href:sl,target:"_blank",download:!0,rel:"noreferrer",children:h.jsxs("button",{className:co.Button,ref:t,children:["Open CV ",h.jsx(xc,{}),h.jsx("div",{className:co.FollowTheCursor,ref:e})]})})})},cl="_Description_14gzm_1",ll="_Underline_14gzm_27",ul="_Arrow_14gzm_35",dl="_HashLink_14gzm_45",Ce={Description:cl,Underline:ll,Arrow:ul,HashLink:dl},fl=()=>h.jsxs("div",{className:Ce.Description,children:["I started as QA, worked as a designer, and made my way to the frontend development.",h.jsx("br",{}),"Today I create ",h.jsx("span",{className:Ce.Underline,children:"complex"})," React applications, such as video editor, or a whole application, designed for configuring and signing bank documents. I work as a"," ",h.jsx("span",{className:Ce.Underline,children:"sole developer"})," and"," ",h.jsx("span",{className:Ce.Underline,children:"in a team"}),".",h.jsx("br",{}),"I worked with various libraries and technologies, such as"," ",h.jsx("span",{className:Ce.Underline,children:"TypeScript"}),", Redux, Node.js, Strorybook, Thrifts, Sass, BEM, Styled Components, material-ui, etc."," ",h.jsx("br",{})," I'm passionate to","  ",h.jsx("span",{className:Ce.Underline,children:"study"})," the new and break through my comfort zone.",h.jsx("br",{}),h.jsx("span",{className:Ce.Underline,children:"Code quality"})," is important to me, so I adhere to KISS, DRY & SOLID.",h.jsx("br",{}),'Most often, colleagues describe me as a "nice to communicate with" : )'," ",h.jsx("div",{className:Ce.LinkContainer,children:h.jsxs(Ri,{className:Ce.HashLink,to:"#contact-me",smooth:!0,children:["Communicate?"," ",h.jsx(yc,{size:"15",className:Ce.Arrow})]})})]}),hl="_NumberContainer_vgzlg_1",gl="_Text_vgzlg_21",cn={NumberContainer:hl,Number:"_Number_vgzlg_1",Text:gl},lo=({number:e,text:t,className:n,withPlus:o=!1})=>h.jsxs("div",{className:`${cn.NumberContainer} ${cn[n]}`,children:[h.jsx("div",{className:cn.Number,children:`${e}${o?"+":""}`}),h.jsx("div",{className:cn.Text,children:t})]}),ml="_Numbers_6nhf3_1",pl={Numbers:ml},xl=()=>h.jsxs("div",{className:pl.Numbers,children:[h.jsx(lo,{number:4,withPlus:!0,text:"years of experience",className:"One"}),h.jsx(lo,{number:7,withPlus:!0,text:"projects",className:"Two"}),h.jsx(lo,{number:3,text:"specialties",className:"Three"})]}),yl=()=>h.jsxs("section",{id:"about","aria-label":"about me",children:[h.jsxs("div",{className:We.About,children:[h.jsxs(_e.div,{className:We.PhotoContainer,children:[h.jsx(_e.img,{src:"img/TaliPurple.png",alt:"Tali's picture",initial:{opacity:0,filter:"blur(10px)"},whileInView:{opacity:1,filter:"none"},className:We.Photo}),h.jsx("div",{className:We.PhotoFrame})]}),h.jsxs("div",{className:We.Text,children:[h.jsx("div",{className:We.Profession,children:"Frontend developer"}),h.jsx("div",{className:We.Stack,children:"React.js, Typescript"}),h.jsx(al,{})]})]}),h.jsx(xl,{}),h.jsx(fl,{})]}),wl="_Header_n7h6m_1",vl="_TextSecondary_n7h6m_11",yr={Header:wl,TextSecondary:vl},nt=({name:e,icon:t,textSecondary:n})=>{const o=h.jsxs(h.Fragment,{children:[h.jsx("span",{children:e}),t]}),r=h.jsx(h.Fragment,{children:n&&h.jsx("div",{className:yr.TextSecondary,children:n})});return h.jsx("header",{className:yr.Header,children:h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:o}),r]})})},bl="_LinkToTheTop_898sz_1",_l={LinkToTheTop:bl},Sl="https://t.me/TaliSent",Nl="ns.sent@yandex.ru",wr="0552576608",El=[{href:Sl,textPrimary:"Text me",textSecondary:"TaliSent",icon:h.jsx(wc,{size:"30"})},{href:`mailto: ${Nl}`,textPrimary:"Email me",textSecondary:"ns.sent@yandex.ru",icon:h.jsx(vc,{size:"30"})},{href:`tel: ${wr}`,textPrimary:"Call me",textSecondary:wr,icon:h.jsx(bc,{size:"30"})}],Cl="_Contact_1hn1e_1",kl="_TextContainer_1hn1e_7",Ml="_TextPrimary_1hn1e_13",Tl="_TextSecondary_1hn1e_37",ln={Contact:Cl,TextContainer:kl,TextPrimary:Ml,TextSecondary:Tl},Il=({href:e,textPrimary:t,textSecondary:n,icon:o})=>h.jsx("li",{children:h.jsxs("a",{href:e,className:ln.Contact,"aria-label":n,children:[o,h.jsxs("div",{className:ln.TextContainer,children:[h.jsx("div",{className:ln.TextPrimary,children:t}),h.jsx("div",{className:ln.TextSecondary,children:n})]})]})}),jl="_Contacts_rrem9_1",$l={Contacts:jl},Al=()=>h.jsx("ul",{className:$l.Contacts,children:El.map(({href:e,textPrimary:t,textSecondary:n,icon:o})=>h.jsx(Il,{href:e,textPrimary:t,textSecondary:n,icon:o},e))}),Pl="_Links_1rg30_1",un={Links:Pl},Ll="https://github.com/taliSent/",Dl="https://www.linkedin.com/in/natalya-sentemova/",zl=()=>{const e="#5D59D9";return h.jsxs("div",{className:un.Links,children:[h.jsx(_e.div,{className:un.Link,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},whileHover:{y:-10},transition:{ease:"easeInOut",duration:.4},children:h.jsx("div",{children:h.jsx("a",{href:Ll,target:"_blank",rel:"noreferrer","aria-label":"link to github",children:h.jsx(_c,{size:"45",color:e})})})}),h.jsx("div",{children:h.jsx(_e.div,{className:un.Link,initial:{opacity:0,y:35},whileInView:{opacity:1,y:0},whileHover:{y:-10},transition:{ease:"easeInOut",duration:.4},children:h.jsx("a",{href:Dl,className:un.Link,target:"_blank",rel:"noreferrer","aria-label":"link to linkedin",children:h.jsx(Sc,{size:"45",color:e})})})})]})},Bl=()=>h.jsxs("section",{id:"contact-me","aria-label":"contact me",children:[h.jsx(nt,{name:"Contact me",icon:h.jsx(Nc,{className:"icon",size:"28"}),textSecondary:"Natalia Sentemova"}),h.jsxs("div",{children:[h.jsx(Al,{}),h.jsx(zl,{})]}),h.jsx(Ri,{to:"#top",smooth:!0,className:_l.LinkToTheTop,"aria-label":"to the top of the page",children:h.jsx(Ec,{size:"22"})})]}),Rl=[{name:"Frontend developer",place:"Mystify",years:"2025",achievement:"Implemented the best practises to the developement process, which saved days and weeks of developement",isMirrored:!0},{name:"Frontend developer",place:"Spirit me",years:"2023-2024",achievement:"Developed an AI-powered video editor",isMirrored:!0},{name:"Frontend developer",place:"Cinimex",years:"2019-2022",achievement:"Developed a bank application that allows user to configure, watch as PDF and sign documents",isMirrored:!0},{name:"SQL Developer",place:"AT Consulting",achievement:"Developed a 30-pages printed form with around 50 SQL queries, each with complex business logic.",years:"2019",isMirrored:!0},{name:"QA Engineer",place:"AT Consulting",achievement:"Fixed critical bugs in autotests.",years:"2018-2019",isMirrored:!0},{name:"Researcher",place:"MSU",years:"2014-2016",isLast:!0,achievement:"Predicted electron fluxes AI, proccesed with Python & Numpy",isMirrored:!0}],Hl=[{name:"Advanced state management",place:"Frontend masters",achievement:"Learnt the best practises of the state management from a founder of stately.ai",years:"2025"},{name:"React Marathon",place:"Zar Zacharov",achievement:"A month of intense work on a card game.",years:"2021"},{name:"Learn React Part II Course",place:"Codeacademy",achievement:"Built several educational React applications",years:"2021"},{name:"Learn React Course",place:"Codeacademy",years:"2021"},{name:"Bachelor of Physics",place:"MSU",years:"2012-2016",isLast:!0}],Fl="_Unit_1irhj_1",Ol="_Name_1irhj_10",Vl="_Achievement_1irhj_16",Yl="_Years_1irhj_22",Xl="_isMirrored_1irhj_27",Wl="_isMirroredText_1irhj_35",ql="_TimePoint_1irhj_39",Gl="_TimeLine_1irhj_51",me={Unit:Fl,Name:Ol,Achievement:Vl,Years:Yl,isMirrored:Xl,isMirroredText:Wl,TimePoint:ql,TimeLine:Gl},Oi=({name:e,place:t,years:n,achievement:o,isLast:r,isMirrored:i})=>h.jsxs(_e.div,{initial:{opacity:0,filter:"blur(10px)"},whileInView:{opacity:1,filter:"none"},className:`${me.Unit} ${i&&me.isMirrored}`,children:[h.jsxs("div",{className:me.Time,children:[h.jsx("div",{className:me.TimePoint}),!r&&h.jsx("div",{className:me.TimeLine})]}),h.jsxs("div",{className:`${me.Text} ${i&&me.isMirroredText}`,children:[h.jsx("strong",{className:me.Name,children:e}),h.jsx("div",{className:me.Years,children:n}),h.jsx("div",{className:me.Years,children:t}),h.jsx("div",{className:me.Achievement,children:o})]})]}),vr=()=>h.jsx("div",{children:Hl.map(({name:e,place:t,years:n,achievement:o,isLast:r,isMirrored:i})=>h.jsx(Oi,{name:e,place:t,achievement:o,years:n,isLast:r,isMirrored:i},`${e} ${t}`))}),br=({className:e})=>h.jsx("div",{children:Rl.map(({name:t,place:n,years:o,achievement:r,isLast:i,isMirrored:s})=>h.jsx(Oi,{name:t,place:n,achievement:r,years:o,isLast:i,isMirrored:s},`${t} ${n}`))}),Ul="_Headers_e5iiq_1",Kl="_XP_e5iiq_7",Zl="_Experience_e5iiq_13",uo={Headers:Ul,XP:Kl,Experience:Zl},_r=()=>h.jsx(nt,{name:"Education",icon:h.jsx(Cc,{className:"icon",size:"36"})}),Sr=()=>h.jsx(nt,{name:"Experience",icon:h.jsx(kc,{className:"icon",size:"28"})}),Ql=()=>h.jsxs("section",{id:"experience","aria-label":"my experience",children:[h.jsxs(ut,{minWidth:849,children:[h.jsxs("div",{className:uo.Headers,children:[h.jsx(_r,{}),h.jsx(Sr,{})]}),h.jsxs("div",{className:uo.XP,children:[h.jsx(vr,{}),h.jsx(br,{})]})]}),h.jsxs(ut,{maxWidth:847,children:[h.jsx(Sr,{}),h.jsx(br,{className:uo.Experience}),h.jsx(_r,{}),h.jsx(vr,{})]})]});function ae(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=ae(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Jl={value:()=>{}};function Hn(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new _n(n)}function _n(e){this._=e}function eu(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}_n.prototype=Hn.prototype={constructor:_n,on:function(e,t){var n=this._,o=eu(e+"",n),r,i=-1,s=o.length;if(arguments.length<2){for(;++i<s;)if((r=(e=o[i]).type)&&(r=tu(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(r=(e=o[i]).type)n[r]=Nr(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Nr(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _n(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function tu(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Nr(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Jl,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var ko="http://www.w3.org/1999/xhtml";const Er={svg:"http://www.w3.org/2000/svg",xhtml:ko,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Er.hasOwnProperty(t)?{space:Er[t],local:e}:e}function nu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ko&&t.documentElement.namespaceURI===ko?t.createElement(e):t.createElementNS(n,e)}}function ou(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vi(e){var t=Fn(e);return(t.local?ou:nu)(t)}function ru(){}function Vo(e){return e==null?ru:function(){return this.querySelector(e)}}function iu(e){typeof e!="function"&&(e=Vo(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=new Array(s),c,l,f=0;f<s;++f)(c=i[f])&&(l=e.call(c,c.__data__,f,i))&&("__data__"in c&&(l.__data__=c.__data__),a[f]=l);return new fe(o,this._parents)}function su(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function au(){return[]}function Yi(e){return e==null?au:function(){return this.querySelectorAll(e)}}function cu(e){return function(){return su(e.apply(this,arguments))}}function lu(e){typeof e=="function"?e=cu(e):e=Yi(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var s=t[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(o.push(e.call(c,c.__data__,l,s)),r.push(c));return new fe(o,r)}function Xi(e){return function(){return this.matches(e)}}function Wi(e){return function(t){return t.matches(e)}}var uu=Array.prototype.find;function du(e){return function(){return uu.call(this.children,e)}}function fu(){return this.firstElementChild}function hu(e){return this.select(e==null?fu:du(typeof e=="function"?e:Wi(e)))}var gu=Array.prototype.filter;function mu(){return Array.from(this.children)}function pu(e){return function(){return gu.call(this.children,e)}}function xu(e){return this.selectAll(e==null?mu:pu(typeof e=="function"?e:Wi(e)))}function yu(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new fe(o,this._parents)}function qi(e){return new Array(e.length)}function wu(){return new fe(this._enter||this._groups.map(qi),this._parents)}function kn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}kn.prototype={constructor:kn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vu(e){return function(){return e}}function bu(e,t,n,o,r,i){for(var s=0,a,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],o[s]=a):n[s]=new kn(e,i[s]);for(;s<c;++s)(a=t[s])&&(r[s]=a)}function _u(e,t,n,o,r,i,s){var a,c,l=new Map,f=t.length,u=i.length,d=new Array(f),m;for(a=0;a<f;++a)(c=t[a])&&(d[a]=m=s.call(c,c.__data__,a,t)+"",l.has(m)?r[a]=c:l.set(m,c));for(a=0;a<u;++a)m=s.call(e,i[a],a,i)+"",(c=l.get(m))?(o[a]=c,c.__data__=i[a],l.delete(m)):n[a]=new kn(e,i[a]);for(a=0;a<f;++a)(c=t[a])&&l.get(d[a])===c&&(r[a]=c)}function Su(e){return e.__data__}function Nu(e,t){if(!arguments.length)return Array.from(this,Su);var n=t?_u:bu,o=this._parents,r=this._groups;typeof e!="function"&&(e=vu(e));for(var i=r.length,s=new Array(i),a=new Array(i),c=new Array(i),l=0;l<i;++l){var f=o[l],u=r[l],d=u.length,m=Eu(e.call(f,f&&f.__data__,l,o)),y=m.length,g=a[l]=new Array(y),w=s[l]=new Array(y),p=c[l]=new Array(d);n(f,u,g,w,p,m,t);for(var b=0,x=0,v,N;b<y;++b)if(v=g[b]){for(b>=x&&(x=b+1);!(N=w[x])&&++x<y;);v._next=N||null}}return s=new fe(s,o),s._enter=a,s._exit=c,s}function Eu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cu(){return new fe(this._exit||this._groups.map(qi),this._parents)}function ku(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Mu(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,s=Math.min(r,i),a=new Array(r),c=0;c<s;++c)for(var l=n[c],f=o[c],u=l.length,d=a[c]=new Array(u),m,y=0;y<u;++y)(m=l[y]||f[y])&&(d[y]=m);for(;c<r;++c)a[c]=n[c];return new fe(a,this._parents)}function Tu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],s;--r>=0;)(s=o[r])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Iu(e){e||(e=ju);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var s=n[i],a=s.length,c=r[i]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(c[f]=l);c.sort(t)}return new fe(r,this._parents).order()}function ju(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $u(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Au(){return Array.from(this)}function Pu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var s=o[r];if(s)return s}return null}function Lu(){let e=0;for(const t of this)++e;return e}function Du(){return!this.node()}function zu(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,s=r.length,a;i<s;++i)(a=r[i])&&e.call(a,a.__data__,i,r);return this}function Bu(e){return function(){this.removeAttribute(e)}}function Ru(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hu(e,t){return function(){this.setAttribute(e,t)}}function Fu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ou(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Vu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Yu(e,t){var n=Fn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Ru:Bu:typeof t=="function"?n.local?Vu:Ou:n.local?Fu:Hu)(n,t))}function Gi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Xu(e){return function(){this.style.removeProperty(e)}}function Wu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qu(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Gu(e,t,n){return arguments.length>1?this.each((t==null?Xu:typeof t=="function"?qu:Wu)(e,t,n??"")):dt(this.node(),e)}function dt(e,t){return e.style.getPropertyValue(t)||Gi(e).getComputedStyle(e,null).getPropertyValue(t)}function Uu(e){return function(){delete this[e]}}function Ku(e,t){return function(){this[e]=t}}function Zu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Qu(e,t){return arguments.length>1?this.each((t==null?Uu:typeof t=="function"?Zu:Ku)(e,t)):this.node()[e]}function Ui(e){return e.trim().split(/^|\s+/)}function Yo(e){return e.classList||new Ki(e)}function Ki(e){this._node=e,this._names=Ui(e.getAttribute("class")||"")}Ki.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zi(e,t){for(var n=Yo(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Qi(e,t){for(var n=Yo(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Ju(e){return function(){Zi(this,e)}}function ed(e){return function(){Qi(this,e)}}function td(e,t){return function(){(t.apply(this,arguments)?Zi:Qi)(this,e)}}function nd(e,t){var n=Ui(e+"");if(arguments.length<2){for(var o=Yo(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?td:t?Ju:ed)(n,t))}function od(){this.textContent=""}function rd(e){return function(){this.textContent=e}}function id(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sd(e){return arguments.length?this.each(e==null?od:(typeof e=="function"?id:rd)(e)):this.node().textContent}function ad(){this.innerHTML=""}function cd(e){return function(){this.innerHTML=e}}function ld(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ud(e){return arguments.length?this.each(e==null?ad:(typeof e=="function"?ld:cd)(e)):this.node().innerHTML}function dd(){this.nextSibling&&this.parentNode.appendChild(this)}function fd(){return this.each(dd)}function hd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gd(){return this.each(hd)}function md(e){var t=typeof e=="function"?e:Vi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function pd(){return null}function xd(e,t){var n=typeof e=="function"?e:Vi(e),o=t==null?pd:typeof t=="function"?t:Vo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function yd(){var e=this.parentNode;e&&e.removeChild(this)}function wd(){return this.each(yd)}function vd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _d(e){return this.select(e?bd:vd)}function Sd(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Nd(e){return function(t){e.call(this,t,this.__data__)}}function Ed(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Cd(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function kd(e,t,n){return function(){var o=this.__on,r,i=Nd(t);if(o){for(var s=0,a=o.length;s<a;++s)if((r=o[s]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Md(e,t,n){var o=Ed(e+""),r,i=o.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,f;c<l;++c)for(r=0,f=a[c];r<i;++r)if((s=o[r]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?kd:Cd,r=0;r<i;++r)this.each(a(o[r],t,n));return this}function Ji(e,t,n){var o=Gi(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Td(e,t){return function(){return Ji(this,e,t)}}function Id(e,t){return function(){return Ji(this,e,t.apply(this,arguments))}}function jd(e,t){return this.each((typeof t=="function"?Id:Td)(e,t))}function*$d(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,s;r<i;++r)(s=o[r])&&(yield s)}var es=[null];function fe(e,t){this._groups=e,this._parents=t}function Wt(){return new fe([[document.documentElement]],es)}function Ad(){return this}fe.prototype=Wt.prototype={constructor:fe,select:iu,selectAll:lu,selectChild:hu,selectChildren:xu,filter:yu,data:Nu,enter:wu,exit:Cu,join:ku,merge:Mu,selection:Ad,order:Tu,sort:Iu,call:$u,nodes:Au,node:Pu,size:Lu,empty:Du,each:zu,attr:Yu,style:Gu,property:Qu,classed:nd,text:sd,html:ud,raise:fd,lower:gd,append:md,insert:xd,remove:wd,clone:_d,datum:Sd,on:Md,dispatch:jd,[Symbol.iterator]:$d};function de(e){return typeof e=="string"?new fe([[document.querySelector(e)]],[document.documentElement]):new fe([[e]],es)}function Pd(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xe(e,t){if(e=Pd(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ld={passive:!1},At={capture:!0,passive:!1};function fo(e){e.stopImmediatePropagation()}function ct(e){e.preventDefault(),e.stopImmediatePropagation()}function ts(e){var t=e.document.documentElement,n=de(e).on("dragstart.drag",ct,At);"onselectstart"in t?n.on("selectstart.drag",ct,At):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ns(e,t){var n=e.document.documentElement,o=de(e).on("dragstart.drag",null);t&&(o.on("click.drag",ct,At),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const dn=e=>()=>e;function Mo(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:s,y:a,dx:c,dy:l,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:f}})}Mo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Dd(e){return!e.ctrlKey&&!e.button}function zd(){return this.parentNode}function Bd(e,t){return t??{x:e.x,y:e.y}}function Rd(){return navigator.maxTouchPoints||"ontouchstart"in this}function os(){var e=Dd,t=zd,n=Bd,o=Rd,r={},i=Hn("start","drag","end"),s=0,a,c,l,f,u=0;function d(v){v.on("mousedown.drag",m).filter(o).on("touchstart.drag",w).on("touchmove.drag",p,Ld).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(v,N){if(!(f||!e.call(this,v,N))){var S=x(this,t.call(this,v,N),v,N,"mouse");S&&(de(v.view).on("mousemove.drag",y,At).on("mouseup.drag",g,At),ts(v.view),fo(v),l=!1,a=v.clientX,c=v.clientY,S("start",v))}}function y(v){if(ct(v),!l){var N=v.clientX-a,S=v.clientY-c;l=N*N+S*S>u}r.mouse("drag",v)}function g(v){de(v.view).on("mousemove.drag mouseup.drag",null),ns(v.view,l),ct(v),r.mouse("end",v)}function w(v,N){if(e.call(this,v,N)){var S=v.changedTouches,E=t.call(this,v,N),M=S.length,j,F;for(j=0;j<M;++j)(F=x(this,E,v,N,S[j].identifier,S[j]))&&(fo(v),F("start",v,S[j]))}}function p(v){var N=v.changedTouches,S=N.length,E,M;for(E=0;E<S;++E)(M=r[N[E].identifier])&&(ct(v),M("drag",v,N[E]))}function b(v){var N=v.changedTouches,S=N.length,E,M;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),E=0;E<S;++E)(M=r[N[E].identifier])&&(fo(v),M("end",v,N[E]))}function x(v,N,S,E,M,j){var F=i.copy(),$=xe(j||S,N),A,z,_;if((_=n.call(v,new Mo("beforestart",{sourceEvent:S,target:d,identifier:M,active:s,x:$[0],y:$[1],dx:0,dy:0,dispatch:F}),E))!=null)return A=_.x-$[0]||0,z=_.y-$[1]||0,function I(k,P,T){var C=$,D;switch(k){case"start":r[M]=I,D=s++;break;case"end":delete r[M],--s;case"drag":$=xe(T||P,N),D=s;break}F.call(k,v,new Mo(k,{sourceEvent:P,subject:_,target:d,identifier:M,active:D,x:$[0]+A,y:$[1]+z,dx:$[0]-C[0],dy:$[1]-C[1],dispatch:F}),E)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:dn(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:dn(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:dn(v),d):n},d.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:dn(!!v),d):o},d.on=function(){var v=i.on.apply(i,arguments);return v===i?d:v},d.clickDistance=function(v){return arguments.length?(u=(v=+v)*v,d):Math.sqrt(u)},d}function Xo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rs(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function qt(){}var Pt=.7,Mn=1/Pt,lt="\\s*([+-]?\\d+)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hd=/^#([0-9a-f]{3,8})$/,Fd=new RegExp(`^rgb\\(${lt},${lt},${lt}\\)$`),Od=new RegExp(`^rgb\\(${Te},${Te},${Te}\\)$`),Vd=new RegExp(`^rgba\\(${lt},${lt},${lt},${Lt}\\)$`),Yd=new RegExp(`^rgba\\(${Te},${Te},${Te},${Lt}\\)$`),Xd=new RegExp(`^hsl\\(${Lt},${Te},${Te}\\)$`),Wd=new RegExp(`^hsla\\(${Lt},${Te},${Te},${Lt}\\)$`),Cr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xo(qt,Qe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kr,formatHex:kr,formatHex8:qd,formatHsl:Gd,formatRgb:Mr,toString:Mr});function kr(){return this.rgb().formatHex()}function qd(){return this.rgb().formatHex8()}function Gd(){return is(this).formatHsl()}function Mr(){return this.rgb().formatRgb()}function Qe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Hd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tr(t):n===3?new ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fd.exec(e))?new ue(t[1],t[2],t[3],1):(t=Od.exec(e))?new ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vd.exec(e))?fn(t[1],t[2],t[3],t[4]):(t=Yd.exec(e))?fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xd.exec(e))?$r(t[1],t[2]/100,t[3]/100,1):(t=Wd.exec(e))?$r(t[1],t[2]/100,t[3]/100,t[4]):Cr.hasOwnProperty(e)?Tr(Cr[e]):e==="transparent"?new ue(NaN,NaN,NaN,0):null}function Tr(e){return new ue(e>>16&255,e>>8&255,e&255,1)}function fn(e,t,n,o){return o<=0&&(e=t=n=NaN),new ue(e,t,n,o)}function Ud(e){return e instanceof qt||(e=Qe(e)),e?(e=e.rgb(),new ue(e.r,e.g,e.b,e.opacity)):new ue}function To(e,t,n,o){return arguments.length===1?Ud(e):new ue(e,t,n,o??1)}function ue(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Xo(ue,To,rs(qt,{brighter(e){return e=e==null?Mn:Math.pow(Mn,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pt:Math.pow(Pt,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ue(Ke(this.r),Ke(this.g),Ke(this.b),Tn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ir,formatHex:Ir,formatHex8:Kd,formatRgb:jr,toString:jr}));function Ir(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}`}function Kd(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}${Ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function jr(){const e=Tn(this.opacity);return`${e===1?"rgb(":"rgba("}${Ke(this.r)}, ${Ke(this.g)}, ${Ke(this.b)}${e===1?")":`, ${e})`}`}function Tn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ke(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ue(e){return e=Ke(e),(e<16?"0":"")+e.toString(16)}function $r(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ye(e,t,n,o)}function is(e){if(e instanceof ye)return new ye(e.h,e.s,e.l,e.opacity);if(e instanceof qt||(e=Qe(e)),!e)return new ye;if(e instanceof ye)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),s=NaN,a=i-r,c=(i+r)/2;return a?(t===i?s=(n-o)/a+(n<o)*6:n===i?s=(o-t)/a+2:s=(t-n)/a+4,a/=c<.5?i+r:2-i-r,s*=60):a=c>0&&c<1?0:s,new ye(s,a,c,e.opacity)}function Zd(e,t,n,o){return arguments.length===1?is(e):new ye(e,t,n,o??1)}function ye(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Xo(ye,Zd,rs(qt,{brighter(e){return e=e==null?Mn:Math.pow(Mn,e),new ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pt:Math.pow(Pt,e),new ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new ue(ho(e>=240?e-240:e+120,r,o),ho(e,r,o),ho(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new ye(Ar(this.h),hn(this.s),hn(this.l),Tn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tn(this.opacity);return`${e===1?"hsl(":"hsla("}${Ar(this.h)}, ${hn(this.s)*100}%, ${hn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ar(e){return e=(e||0)%360,e<0?e+360:e}function hn(e){return Math.max(0,Math.min(1,e||0))}function ho(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Wo=e=>()=>e;function Qd(e,t){return function(n){return e+n*t}}function Jd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function ef(e){return(e=+e)==1?ss:function(t,n){return n-t?Jd(t,n,e):Wo(isNaN(t)?n:t)}}function ss(e,t){var n=t-e;return n?Qd(e,n):Wo(isNaN(e)?t:e)}const In=(function e(t){var n=ef(t);function o(r,i){var s=n((r=To(r)).r,(i=To(i)).r),a=n(r.g,i.g),c=n(r.b,i.b),l=ss(r.opacity,i.opacity);return function(f){return r.r=s(f),r.g=a(f),r.b=c(f),r.opacity=l(f),r+""}}return o.gamma=e,o})(1);function tf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(i){for(r=0;r<n;++r)o[r]=e[r]*(1-i)+t[r]*i;return o}}function nf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function of(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),i=new Array(n),s;for(s=0;s<o;++s)r[s]=It(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(a){for(s=0;s<o;++s)i[s]=r[s](a);return i}}function rf(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Me(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sf(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=It(e[r],t[r]):o[r]=t[r];return function(i){for(r in n)o[r]=n[r](i);return o}}var Io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(Io.source,"g");function af(e){return function(){return e}}function cf(e){return function(t){return e(t)+""}}function as(e,t){var n=Io.lastIndex=go.lastIndex=0,o,r,i,s=-1,a=[],c=[];for(e=e+"",t=t+"";(o=Io.exec(e))&&(r=go.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(o=o[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:Me(o,r)})),n=go.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?cf(c[0].x):af(t):(t=c.length,function(l){for(var f=0,u;f<t;++f)a[(u=c[f]).i]=u.x(l);return a.join("")})}function It(e,t){var n=typeof t,o;return t==null||n==="boolean"?Wo(t):(n==="number"?Me:n==="string"?(o=Qe(t))?(t=o,In):as:t instanceof Qe?In:t instanceof Date?rf:nf(t)?tf:Array.isArray(t)?of:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sf:Me)(e,t)}var Pr=180/Math.PI,jo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cs(e,t,n,o,r,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,c/=a),e*o<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Pr,skewX:Math.atan(c)*Pr,scaleX:s,scaleY:a}}var gn;function lf(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jo:cs(t.a,t.b,t.c,t.d,t.e,t.f)}function uf(e){return e==null||(gn||(gn=document.createElementNS("http://www.w3.org/2000/svg","g")),gn.setAttribute("transform",e),!(e=gn.transform.baseVal.consolidate()))?jo:(e=e.matrix,cs(e.a,e.b,e.c,e.d,e.e,e.f))}function ls(e,t,n,o){function r(l){return l.length?l.pop()+" ":""}function i(l,f,u,d,m,y){if(l!==u||f!==d){var g=m.push("translate(",null,t,null,n);y.push({i:g-4,x:Me(l,u)},{i:g-2,x:Me(f,d)})}else(u||d)&&m.push("translate("+u+t+d+n)}function s(l,f,u,d){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),d.push({i:u.push(r(u)+"rotate(",null,o)-2,x:Me(l,f)})):f&&u.push(r(u)+"rotate("+f+o)}function a(l,f,u,d){l!==f?d.push({i:u.push(r(u)+"skewX(",null,o)-2,x:Me(l,f)}):f&&u.push(r(u)+"skewX("+f+o)}function c(l,f,u,d,m,y){if(l!==u||f!==d){var g=m.push(r(m)+"scale(",null,",",null,")");y.push({i:g-4,x:Me(l,u)},{i:g-2,x:Me(f,d)})}else(u!==1||d!==1)&&m.push(r(m)+"scale("+u+","+d+")")}return function(l,f){var u=[],d=[];return l=e(l),f=e(f),i(l.translateX,l.translateY,f.translateX,f.translateY,u,d),s(l.rotate,f.rotate,u,d),a(l.skewX,f.skewX,u,d),c(l.scaleX,l.scaleY,f.scaleX,f.scaleY,u,d),l=f=null,function(m){for(var y=-1,g=d.length,w;++y<g;)u[(w=d[y]).i]=w.x(m);return u.join("")}}}var df=ls(lf,"px, ","px)","deg)"),ff=ls(uf,", ",")",")"),hf=1e-12;function Lr(e){return((e=Math.exp(e))+1/e)/2}function gf(e){return((e=Math.exp(e))-1/e)/2}function mf(e){return((e=Math.exp(2*e))-1)/(e+1)}const Sn=(function e(t,n,o){function r(i,s){var a=i[0],c=i[1],l=i[2],f=s[0],u=s[1],d=s[2],m=f-a,y=u-c,g=m*m+y*y,w,p;if(g<hf)p=Math.log(d/l)/t,w=function(E){return[a+E*m,c+E*y,l*Math.exp(t*E*p)]};else{var b=Math.sqrt(g),x=(d*d-l*l+o*g)/(2*l*n*b),v=(d*d-l*l-o*g)/(2*d*n*b),N=Math.log(Math.sqrt(x*x+1)-x),S=Math.log(Math.sqrt(v*v+1)-v);p=(S-N)/t,w=function(E){var M=E*p,j=Lr(N),F=l/(n*b)*(j*mf(t*M+N)-gf(N));return[a+F*m,c+F*y,l*j/Lr(t*M+N)]}}return w.duration=p*1e3*t/Math.SQRT2,w}return r.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},r})(Math.SQRT2,2,4);var ft=0,Ct=0,bt=0,us=1e3,jn,kt,$n=0,Je=0,On=0,Dt=typeof performance=="object"&&performance.now?performance:Date,ds=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qo(){return Je||(ds(pf),Je=Dt.now()+On)}function pf(){Je=0}function An(){this._call=this._time=this._next=null}An.prototype=fs.prototype={constructor:An,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?qo():+n)+(t==null?0:+t),!this._next&&kt!==this&&(kt?kt._next=this:jn=this,kt=this),this._call=e,this._time=n,$o()},stop:function(){this._call&&(this._call=null,this._time=1/0,$o())}};function fs(e,t,n){var o=new An;return o.restart(e,t,n),o}function xf(){qo(),++ft;for(var e=jn,t;e;)(t=Je-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ft}function Dr(){Je=($n=Dt.now())+On,ft=Ct=0;try{xf()}finally{ft=0,wf(),Je=0}}function yf(){var e=Dt.now(),t=e-$n;t>us&&(On-=t,$n=e)}function wf(){for(var e,t=jn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jn=n);kt=e,$o(o)}function $o(e){if(!ft){Ct&&(Ct=clearTimeout(Ct));var t=e-Je;t>24?(e<1/0&&(Ct=setTimeout(Dr,e-Dt.now()-On)),bt&&(bt=clearInterval(bt))):(bt||($n=Dt.now(),bt=setInterval(yf,us)),ft=1,ds(Dr))}}function zr(e,t,n){var o=new An;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var vf=Hn("start","end","cancel","interrupt"),bf=[],hs=0,Br=1,Ao=2,Nn=3,Rr=4,Po=5,En=6;function Vn(e,t,n,o,r,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;_f(e,n,{name:t,index:o,group:r,on:vf,tween:bf,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:hs})}function Go(e,t){var n=Se(e,t);if(n.state>hs)throw new Error("too late; already scheduled");return n}function je(e,t){var n=Se(e,t);if(n.state>Nn)throw new Error("too late; already running");return n}function Se(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function _f(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=fs(i,0,n.time);function i(l){n.state=Br,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var f,u,d,m;if(n.state!==Br)return c();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Nn)return zr(s);m.state===Rr?(m.state=En,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete o[f]):+f<t&&(m.state=En,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete o[f])}if(zr(function(){n.state===Nn&&(n.state=Rr,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Ao,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ao){for(n.state=Nn,r=new Array(d=n.tween.length),f=0,u=-1;f<d;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=m);r.length=u+1}}function a(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Po,1),u=-1,d=r.length;++u<d;)r[u].call(e,f);n.state===Po&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=En,n.timer.stop(),delete o[t];for(var l in o)return;delete e.__transition}}function Cn(e,t){var n=e.__transition,o,r,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((o=n[s]).name!==t){i=!1;continue}r=o.state>Ao&&o.state<Po,o.state=En,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[s]}i&&delete e.__transition}}function Sf(e){return this.each(function(){Cn(this,e)})}function Nf(e,t){var n,o;return function(){var r=je(this,e),i=r.tween;if(i!==n){o=n=i;for(var s=0,a=o.length;s<a;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}r.tween=o}}function Ef(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=je(this,e),s=i.tween;if(s!==o){r=(o=s).slice();for(var a={name:t,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===t){r[c]=a;break}c===l&&r.push(a)}i.tween=r}}function Cf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Se(this.node(),n).tween,r=0,i=o.length,s;r<i;++r)if((s=o[r]).name===e)return s.value;return null}return this.each((t==null?Nf:Ef)(n,e,t))}function Uo(e,t,n){var o=e._id;return e.each(function(){var r=je(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Se(r,o).value[t]}}function gs(e,t){var n;return(typeof t=="number"?Me:t instanceof Qe?In:(n=Qe(t))?(t=n,In):as)(e,t)}function kf(e){return function(){this.removeAttribute(e)}}function Mf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tf(e,t,n){var o,r=n+"",i;return function(){var s=this.getAttribute(e);return s===r?null:s===o?i:i=t(o=s,n)}}function If(e,t,n){var o,r=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===o?i:i=t(o=s,n)}}function jf(e,t,n){var o,r,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===o&&c===r?i:(r=c,i=t(o=s,a)))}}function $f(e,t,n){var o,r,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===o&&c===r?i:(r=c,i=t(o=s,a)))}}function Af(e,t){var n=Fn(e),o=n==="transform"?ff:gs;return this.attrTween(e,typeof t=="function"?(n.local?$f:jf)(n,o,Uo(this,"attr."+e,t)):t==null?(n.local?Mf:kf)(n):(n.local?If:Tf)(n,o,t))}function Pf(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Lf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Df(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Lf(e,i)),n}return r._value=t,r}function zf(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Pf(e,i)),n}return r._value=t,r}function Bf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Fn(e);return this.tween(n,(o.local?Df:zf)(o,t))}function Rf(e,t){return function(){Go(this,e).delay=+t.apply(this,arguments)}}function Hf(e,t){return t=+t,function(){Go(this,e).delay=t}}function Ff(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Rf:Hf)(t,e)):Se(this.node(),t).delay}function Of(e,t){return function(){je(this,e).duration=+t.apply(this,arguments)}}function Vf(e,t){return t=+t,function(){je(this,e).duration=t}}function Yf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Of:Vf)(t,e)):Se(this.node(),t).duration}function Xf(e,t){if(typeof t!="function")throw new Error;return function(){je(this,e).ease=t}}function Wf(e){var t=this._id;return arguments.length?this.each(Xf(t,e)):Se(this.node(),t).ease}function qf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;je(this,e).ease=n}}function Gf(e){if(typeof e!="function")throw new Error;return this.each(qf(this._id,e))}function Uf(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new ze(o,this._parents,this._name,this._id)}function Kf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),s=new Array(o),a=0;a<i;++a)for(var c=t[a],l=n[a],f=c.length,u=s[a]=new Array(f),d,m=0;m<f;++m)(d=c[m]||l[m])&&(u[m]=d);for(;a<o;++a)s[a]=t[a];return new ze(s,this._parents,this._name,this._id)}function Zf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Qf(e,t,n){var o,r,i=Zf(t)?Go:je;return function(){var s=i(this,e),a=s.on;a!==o&&(r=(o=a).copy()).on(t,n),s.on=r}}function Jf(e,t){var n=this._id;return arguments.length<2?Se(this.node(),n).on.on(e):this.each(Qf(n,e,t))}function eh(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function th(){return this.on("end.remove",eh(this._id))}function nh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vo(e));for(var o=this._groups,r=o.length,i=new Array(r),s=0;s<r;++s)for(var a=o[s],c=a.length,l=i[s]=new Array(c),f,u,d=0;d<c;++d)(f=a[d])&&(u=e.call(f,f.__data__,d,a))&&("__data__"in f&&(u.__data__=f.__data__),l[d]=u,Vn(l[d],t,n,d,l,Se(f,n)));return new ze(i,this._parents,t,n)}function oh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Yi(e));for(var o=this._groups,r=o.length,i=[],s=[],a=0;a<r;++a)for(var c=o[a],l=c.length,f,u=0;u<l;++u)if(f=c[u]){for(var d=e.call(f,f.__data__,u,c),m,y=Se(f,n),g=0,w=d.length;g<w;++g)(m=d[g])&&Vn(m,t,n,g,d,y);i.push(d),s.push(f)}return new ze(i,s,t,n)}var rh=Wt.prototype.constructor;function ih(){return new rh(this._groups,this._parents)}function sh(e,t){var n,o,r;return function(){var i=dt(this,e),s=(this.style.removeProperty(e),dt(this,e));return i===s?null:i===n&&s===o?r:r=t(n=i,o=s)}}function ms(e){return function(){this.style.removeProperty(e)}}function ah(e,t,n){var o,r=n+"",i;return function(){var s=dt(this,e);return s===r?null:s===o?i:i=t(o=s,n)}}function ch(e,t,n){var o,r,i;return function(){var s=dt(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),dt(this,e))),s===c?null:s===o&&c===r?i:(r=c,i=t(o=s,a))}}function lh(e,t){var n,o,r,i="style."+t,s="end."+i,a;return function(){var c=je(this,e),l=c.on,f=c.value[i]==null?a||(a=ms(t)):void 0;(l!==n||r!==f)&&(o=(n=l).copy()).on(s,r=f),c.on=o}}function uh(e,t,n){var o=(e+="")=="transform"?df:gs;return t==null?this.styleTween(e,sh(e,o)).on("end.style."+e,ms(e)):typeof t=="function"?this.styleTween(e,ch(e,o,Uo(this,"style."+e,t))).each(lh(this._id,e)):this.styleTween(e,ah(e,o,t),n).on("end.style."+e,null)}function dh(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function fh(e,t,n){var o,r;function i(){var s=t.apply(this,arguments);return s!==r&&(o=(r=s)&&dh(e,s,n)),o}return i._value=t,i}function hh(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,fh(e,t,n??""))}function gh(e){return function(){this.textContent=e}}function mh(e){return function(){var t=e(this);this.textContent=t??""}}function ph(e){return this.tween("text",typeof e=="function"?mh(Uo(this,"text",e)):gh(e==null?"":e+""))}function xh(e){return function(t){this.textContent=e.call(this,t)}}function yh(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&xh(r)),t}return o._value=e,o}function wh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yh(e))}function vh(){for(var e=this._name,t=this._id,n=ps(),o=this._groups,r=o.length,i=0;i<r;++i)for(var s=o[i],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var f=Se(c,t);Vn(c,e,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ze(o,this._parents,e,n)}function bh(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--r===0&&i()}};n.each(function(){var l=je(this,o),f=l.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),r===0&&i()})}var _h=0;function ze(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ps(){return++_h}var Pe=Wt.prototype;ze.prototype={constructor:ze,select:nh,selectAll:oh,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:Uf,merge:Kf,selection:ih,transition:vh,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:Jf,attr:Af,attrTween:Bf,style:uh,styleTween:hh,text:ph,textTween:wh,remove:th,tween:Cf,delay:Ff,duration:Yf,ease:Wf,easeVarying:Gf,end:bh,[Symbol.iterator]:Pe[Symbol.iterator]};function Sh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Nh={time:null,delay:0,duration:250,ease:Sh};function Eh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ch(e){var t,n;e instanceof ze?(t=e._id,e=e._name):(t=ps(),(n=Nh).time=qo(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var s=o[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&Vn(c,e,t,l,s,n||Eh(c,t));return new ze(o,this._parents,e,t)}Wt.prototype.interrupt=Sf;Wt.prototype.transition=Ch;const mn=e=>()=>e;function kh(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Le(e,t,n){this.k=e,this.x=t,this.y=n}Le.prototype={constructor:Le,scale:function(e){return e===1?this:new Le(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Le(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yn=new Le(1,0,0);xs.prototype=Le.prototype;function xs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Yn;return e.__zoom}function mo(e){e.stopImmediatePropagation()}function _t(e){e.preventDefault(),e.stopImmediatePropagation()}function Mh(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Th(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hr(){return this.__zoom||Yn}function Ih(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function jh(){return navigator.maxTouchPoints||"ontouchstart"in this}function $h(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function ys(){var e=Mh,t=Th,n=$h,o=Ih,r=jh,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Sn,l=Hn("start","zoom","end"),f,u,d,m=500,y=150,g=0,w=10;function p(_){_.property("__zoom",Hr).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",F).filter(r).on("touchstart.zoom",$).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(_,I,k,P){var T=_.selection?_.selection():_;T.property("__zoom",Hr),_!==T?N(_,I,k,P):T.interrupt().each(function(){S(this,arguments).event(P).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},p.scaleBy=function(_,I,k,P){p.scaleTo(_,function(){var T=this.__zoom.k,C=typeof I=="function"?I.apply(this,arguments):I;return T*C},k,P)},p.scaleTo=function(_,I,k,P){p.transform(_,function(){var T=t.apply(this,arguments),C=this.__zoom,D=k==null?v(T):typeof k=="function"?k.apply(this,arguments):k,H=C.invert(D),R=typeof I=="function"?I.apply(this,arguments):I;return n(x(b(C,R),D,H),T,s)},k,P)},p.translateBy=function(_,I,k,P){p.transform(_,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),s)},null,P)},p.translateTo=function(_,I,k,P,T){p.transform(_,function(){var C=t.apply(this,arguments),D=this.__zoom,H=P==null?v(C):typeof P=="function"?P.apply(this,arguments):P;return n(Yn.translate(H[0],H[1]).scale(D.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof k=="function"?-k.apply(this,arguments):-k),C,s)},P,T)};function b(_,I){return I=Math.max(i[0],Math.min(i[1],I)),I===_.k?_:new Le(I,_.x,_.y)}function x(_,I,k){var P=I[0]-k[0]*_.k,T=I[1]-k[1]*_.k;return P===_.x&&T===_.y?_:new Le(_.k,P,T)}function v(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function N(_,I,k,P){_.on("start.zoom",function(){S(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(P).end()}).tween("zoom",function(){var T=this,C=arguments,D=S(T,C).event(P),H=t.apply(T,C),R=k==null?v(H):typeof k=="function"?k.apply(T,C):k,X=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),Y=T.__zoom,U=typeof I=="function"?I.apply(T,C):I,K=c(Y.invert(R).concat(X/Y.k),U.invert(R).concat(X/U.k));return function(q){if(q===1)q=U;else{var O=K(q),G=X/O[2];q=new Le(G,R[0]-O[0]*G,R[1]-O[1]*G)}D.zoom(null,q)}})}function S(_,I,k){return!k&&_.__zooming||new E(_,I)}function E(_,I){this.that=_,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,I),this.taps=0}E.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,I){return this.mouse&&_!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var I=de(this.that).datum();l.call(_,this.that,new kh(_,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:l}),I)}};function M(_,...I){if(!e.apply(this,arguments))return;var k=S(this,I).event(_),P=this.__zoom,T=Math.max(i[0],Math.min(i[1],P.k*Math.pow(2,o.apply(this,arguments)))),C=xe(_);if(k.wheel)(k.mouse[0][0]!==C[0]||k.mouse[0][1]!==C[1])&&(k.mouse[1]=P.invert(k.mouse[0]=C)),clearTimeout(k.wheel);else{if(P.k===T)return;k.mouse=[C,P.invert(C)],Cn(this),k.start()}_t(_),k.wheel=setTimeout(D,y),k.zoom("mouse",n(x(b(P,T),k.mouse[0],k.mouse[1]),k.extent,s));function D(){k.wheel=null,k.end()}}function j(_,...I){if(d||!e.apply(this,arguments))return;var k=_.currentTarget,P=S(this,I,!0).event(_),T=de(_.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",X,!0),C=xe(_,k),D=_.clientX,H=_.clientY;ts(_.view),mo(_),P.mouse=[C,this.__zoom.invert(C)],Cn(this),P.start();function R(Y){if(_t(Y),!P.moved){var U=Y.clientX-D,K=Y.clientY-H;P.moved=U*U+K*K>g}P.event(Y).zoom("mouse",n(x(P.that.__zoom,P.mouse[0]=xe(Y,k),P.mouse[1]),P.extent,s))}function X(Y){T.on("mousemove.zoom mouseup.zoom",null),ns(Y.view,P.moved),_t(Y),P.event(Y).end()}}function F(_,...I){if(e.apply(this,arguments)){var k=this.__zoom,P=xe(_.changedTouches?_.changedTouches[0]:_,this),T=k.invert(P),C=k.k*(_.shiftKey?.5:2),D=n(x(b(k,C),P,T),t.apply(this,I),s);_t(_),a>0?de(this).transition().duration(a).call(N,D,P,_):de(this).call(p.transform,D,P,_)}}function $(_,...I){if(e.apply(this,arguments)){var k=_.touches,P=k.length,T=S(this,I,_.changedTouches.length===P).event(_),C,D,H,R;for(mo(_),D=0;D<P;++D)H=k[D],R=xe(H,this),R=[R,this.__zoom.invert(R),H.identifier],T.touch0?!T.touch1&&T.touch0[2]!==R[2]&&(T.touch1=R,T.taps=0):(T.touch0=R,C=!0,T.taps=1+!!f);f&&(f=clearTimeout(f)),C&&(T.taps<2&&(u=R[0],f=setTimeout(function(){f=null},m)),Cn(this),T.start())}}function A(_,...I){if(this.__zooming){var k=S(this,I).event(_),P=_.changedTouches,T=P.length,C,D,H,R;for(_t(_),C=0;C<T;++C)D=P[C],H=xe(D,this),k.touch0&&k.touch0[2]===D.identifier?k.touch0[0]=H:k.touch1&&k.touch1[2]===D.identifier&&(k.touch1[0]=H);if(D=k.that.__zoom,k.touch1){var X=k.touch0[0],Y=k.touch0[1],U=k.touch1[0],K=k.touch1[1],q=(q=U[0]-X[0])*q+(q=U[1]-X[1])*q,O=(O=K[0]-Y[0])*O+(O=K[1]-Y[1])*O;D=b(D,Math.sqrt(q/O)),H=[(X[0]+U[0])/2,(X[1]+U[1])/2],R=[(Y[0]+K[0])/2,(Y[1]+K[1])/2]}else if(k.touch0)H=k.touch0[0],R=k.touch0[1];else return;k.zoom("touch",n(x(D,H,R),k.extent,s))}}function z(_,...I){if(this.__zooming){var k=S(this,I).event(_),P=_.changedTouches,T=P.length,C,D;for(mo(_),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),C=0;C<T;++C)D=P[C],k.touch0&&k.touch0[2]===D.identifier?delete k.touch0:k.touch1&&k.touch1[2]===D.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(D=xe(D,this),Math.hypot(u[0]-D[0],u[1]-D[1])<w)){var H=de(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return p.wheelDelta=function(_){return arguments.length?(o=typeof _=="function"?_:mn(+_),p):o},p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:mn(!!_),p):e},p.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:mn(!!_),p):r},p.extent=function(_){return arguments.length?(t=typeof _=="function"?_:mn([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),p):t},p.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],p):[i[0],i[1]]},p.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(_){return arguments.length?(n=_,p):n},p.duration=function(_){return arguments.length?(a=+_,p):a},p.interpolate=function(_){return arguments.length?(c=_,p):c},p.on=function(){var _=l.on.apply(l,arguments);return _===l?p:_},p.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,p):Math.sqrt(g)},p.tapDistance=function(_){return arguments.length?(w=+_,p):w},p}const Ie={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},zt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ws=["Enter"," ","Escape"],vs={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ht;(function(e){e.Strict="strict",e.Loose="loose"})(ht||(ht={}));var Ze;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ze||(Ze={}));var Bt;(function(e){e.Partial="partial",e.Full="full"})(Bt||(Bt={}));const bs={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Ve;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ve||(Ve={}));var Pn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Pn||(Pn={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));const Fr={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top};function _s(e){return e===null?null:e?"valid":"invalid"}const Ss=e=>"id"in e&&"source"in e&&"target"in e,Ah=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ko=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Gt=(e,t=[0,0])=>{const{width:n,height:o}=Be(e),r=e.origin??t,i=n*r[0],s=o*r[1];return{x:e.position.x-i,y:e.position.y-s}},Ph=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,r)=>{const i=typeof r=="string";let s=!t.nodeLookup&&!i?r:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(r):Ko(r)?r:t.nodeLookup.get(r.id));const a=s?Ln(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Xn(o,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Wn(n)},Ut=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(r=>{(t.filter===void 0||t.filter(r))&&(n=Xn(n,Ln(r)),o=!0)}),o?Wn(n):{x:0,y:0,width:0,height:0}},Zo=(e,t,[n,o,r]=[0,0,1],i=!1,s=!1)=>{const a={...Zt(t,[n,o,r]),width:t.width/r,height:t.height/r},c=[];for(const l of e.values()){const{measured:f,selectable:u=!0,hidden:d=!1}=l;if(s&&!u||d)continue;const m=f.width??l.width??l.initialWidth??null,y=f.height??l.height??l.initialHeight??null,g=Rt(a,mt(l)),w=(m??0)*(y??0),p=i&&g>0;(!l.internals.handleBounds||p||g>=w||l.dragging)&&c.push(l)}return c},Lh=(e,t)=>{const n=new Set;return e.forEach(o=>{n.add(o.id)}),t.filter(o=>n.has(o.source)||n.has(o.target))};function Dh(e,t){const n=new Map,o=t!=null&&t.nodes?new Set(t.nodes.map(r=>r.id)):null;return e.forEach(r=>{r.measured.width&&r.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!r.hidden)&&(!o||o.has(r.id))&&n.set(r.id,r)}),n}async function zh({nodes:e,width:t,height:n,panZoom:o,minZoom:r,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const a=Dh(e,s),c=Ut(a),l=Qo(c,t,n,(s==null?void 0:s.minZoom)??r,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await o.setViewport(l,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Ns({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:r,onError:i}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:l}=a?a.internals.positionAbsolute:{x:0,y:0},f=s.origin??o;let u=s.extent||r;if(s.extent==="parent"&&!s.expandParent)if(!a)i==null||i("005",Ie.error005());else{const m=a.measured.width,y=a.measured.height;m&&y&&(u=[[c,l],[c+m,l+y]])}else a&&pt(s.extent)&&(u=[[s.extent[0][0]+c,s.extent[0][1]+l],[s.extent[1][0]+c,s.extent[1][1]+l]]);const d=pt(u)?et(t,u,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Ie.error015())),{position:{x:d.x-c+(s.measured.width??0)*f[0],y:d.y-l+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function Bh({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:r}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const m=i.has(d.id),y=!m&&d.parentId&&s.find(g=>g.id===d.parentId);(m||y)&&s.push(d)}const a=new Set(t.map(d=>d.id)),c=o.filter(d=>d.deletable!==!1),f=Lh(s,c);for(const d of c)a.has(d.id)&&!f.find(y=>y.id===d.id)&&f.push(d);if(!r)return{edges:f,nodes:s};const u=await r({nodes:s,edges:f});return typeof u=="boolean"?u?{edges:f,nodes:s}:{edges:[],nodes:[]}:u}const gt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),et=(e={x:0,y:0},t,n)=>({x:gt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:gt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Es(e,t,n){const{width:o,height:r}=Be(n),{x:i,y:s}=n.internals.positionAbsolute;return et(e,[[i,s],[i+o,s+r]],t)}const Or=(e,t,n)=>e<t?gt(Math.abs(e-t),1,t)/t:e>n?-gt(Math.abs(e-n),1,t)/t:0,Cs=(e,t,n=15,o=40)=>{const r=Or(e.x,o,t.width-o)*n,i=Or(e.y,o,t.height-o)*n;return[r,i]},Xn=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Lo=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Wn=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),mt=(e,t=[0,0])=>{var r,i;const{x:n,y:o}=Ko(e)?e.internals.positionAbsolute:Gt(e,t);return{x:n,y:o,width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Ln=(e,t=[0,0])=>{var r,i;const{x:n,y:o}=Ko(e)?e.internals.positionAbsolute:Gt(e,t);return{x:n,y:o,x2:n+(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0),y2:o+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},ks=(e,t)=>Wn(Xn(Lo(e),Lo(t))),Rt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},Vr=e=>we(e.width)&&we(e.height)&&we(e.x)&&we(e.y),we=e=>!isNaN(e)&&isFinite(e),Rh=(e,t)=>{},Kt=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Zt=({x:e,y:t},[n,o,r],i=!1,s=[1,1])=>{const a={x:(e-n)/r,y:(t-o)/r};return i?Kt(a,s):a},Dn=({x:e,y:t},[n,o,r])=>({x:e*r+n,y:t*r+o});function it(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Hh(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=it(e,n),r=it(e,t);return{top:o,right:r,bottom:o,left:r,x:r*2,y:o*2}}if(typeof e=="object"){const o=it(e.top??e.y??0,n),r=it(e.bottom??e.y??0,n),i=it(e.left??e.x??0,t),s=it(e.right??e.x??0,t);return{top:o,right:s,bottom:r,left:i,x:i+s,y:o+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Fh(e,t,n,o,r,i){const{x:s,y:a}=Dn(e,[t,n,o]),{x:c,y:l}=Dn({x:e.x+e.width,y:e.y+e.height},[t,n,o]),f=r-c,u=i-l;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(u)}}const Qo=(e,t,n,o,r,i)=>{const s=Hh(i,t,n),a=(t-s.x)/e.width,c=(n-s.y)/e.height,l=Math.min(a,c),f=gt(l,o,r),u=e.x+e.width/2,d=e.y+e.height/2,m=t/2-u*f,y=n/2-d*f,g=Fh(e,m,y,f,t,n),w={left:Math.min(g.left-s.left,0),top:Math.min(g.top-s.top,0),right:Math.min(g.right-s.right,0),bottom:Math.min(g.bottom-s.bottom,0)};return{x:m-w.left+w.right,y:y-w.top+w.bottom,zoom:f}},Ht=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function pt(e){return e!=null&&e!=="parent"}function Be(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Ms(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Ts(e,t={width:0,height:0},n,o,r){const i={...e},s=o.get(n);if(s){const a=s.origin||r;i.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function Yr(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Oh(){let e,t;return{promise:new Promise((o,r)=>{e=o,t=r}),resolve:e,reject:t}}function Vh(e){return{...vs,...e||{}}}function jt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:r}){const{x:i,y:s}=ve(e),a=Zt({x:i-((r==null?void 0:r.left)??0),y:s-((r==null?void 0:r.top)??0)},o),{x:c,y:l}=n?Kt(a,t):a;return{xSnapped:c,ySnapped:l,...a}}const Jo=e=>({width:e.offsetWidth,height:e.offsetHeight}),Is=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Yh=["INPUT","SELECT","TEXTAREA"];function js(e){var o,r;const t=((r=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:r[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Yh.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const $s=e=>"clientX"in e,ve=(e,t)=>{var i,s;const n=$s(e),o=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},Xr=(e,t,n,o,r)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:r,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...Jo(s)}})};function As({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:s,targetControlY:a}){const c=e*.125+r*.375+s*.375+n*.125,l=t*.125+i*.375+a*.375+o*.125,f=Math.abs(c-e),u=Math.abs(l-t);return[c,l,f,u]}function pn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Wr({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){switch(e){case Q.Left:return[t-pn(t-o,i),n];case Q.Right:return[t+pn(o-t,i),n];case Q.Top:return[t,n-pn(n-r,i)];case Q.Bottom:return[t,n+pn(r-n,i)]}}function Ps({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:o,targetY:r,targetPosition:i=Q.Top,curvature:s=.25}){const[a,c]=Wr({pos:n,x1:e,y1:t,x2:o,y2:r,c:s}),[l,f]=Wr({pos:i,x1:o,y1:r,x2:e,y2:t,c:s}),[u,d,m,y]=As({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:f});return[`M${e},${t} C${a},${c} ${l},${f} ${o},${r}`,u,d,m,y]}function Ls({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,s=Math.abs(o-t)/2,a=o<t?o+s:o-s;return[i,a,r,s]}function Xh({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o,elevateOnSelect:r=!1}){if(o!==void 0)return o;const i=r&&n?1e3:0,s=Math.max(e.parentId||r&&e.selected?e.internals.z:0,t.parentId||r&&t.selected?t.internals.z:0);return i+s}function Wh({sourceNode:e,targetNode:t,width:n,height:o,transform:r}){const i=Xn(Ln(e),Ln(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:o/r[2]};return Rt(s,Wn(i))>0}const qh=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,Gh=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Uh=(e,t)=>{if(!e.source||!e.target)return t;let n;return Ss(e)?n={...e}:n={...e,id:qh(e)},Gh(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Ds({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[r,i,s,a]=Ls({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,i,s,a]}const qr={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},Kh=({source:e,sourcePosition:t=Q.Bottom,target:n})=>t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Gr=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Zh({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:o=Q.Top,center:r,offset:i,stepPosition:s}){const a=qr[t],c=qr[o],l={x:e.x+a.x*i,y:e.y+a.y*i},f={x:n.x+c.x*i,y:n.y+c.y*i},u=Kh({source:l,sourcePosition:t,target:f}),d=u.x!==0?"x":"y",m=u[d];let y=[],g,w;const p={x:0,y:0},b={x:0,y:0},[,,x,v]=Ls({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*c[d]===-1){d==="x"?(g=r.x??l.x+(f.x-l.x)*s,w=r.y??(l.y+f.y)/2):(g=r.x??(l.x+f.x)/2,w=r.y??l.y+(f.y-l.y)*s);const S=[{x:g,y:l.y},{x:g,y:f.y}],E=[{x:l.x,y:w},{x:f.x,y:w}];a[d]===m?y=d==="x"?S:E:y=d==="x"?E:S}else{const S=[{x:l.x,y:f.y}],E=[{x:f.x,y:l.y}];if(d==="x"?y=a.x===m?E:S:y=a.y===m?S:E,t===o){const A=Math.abs(e[d]-n[d]);if(A<=i){const z=Math.min(i-1,i-A);a[d]===m?p[d]=(l[d]>e[d]?-1:1)*z:b[d]=(f[d]>n[d]?-1:1)*z}}if(t!==o){const A=d==="x"?"y":"x",z=a[d]===c[A],_=l[A]>f[A],I=l[A]<f[A];(a[d]===1&&(!z&&_||z&&I)||a[d]!==1&&(!z&&I||z&&_))&&(y=d==="x"?S:E)}const M={x:l.x+p.x,y:l.y+p.y},j={x:f.x+b.x,y:f.y+b.y},F=Math.max(Math.abs(M.x-y[0].x),Math.abs(j.x-y[0].x)),$=Math.max(Math.abs(M.y-y[0].y),Math.abs(j.y-y[0].y));F>=$?(g=(M.x+j.x)/2,w=y[0].y):(g=y[0].x,w=(M.y+j.y)/2)}return[[e,{x:l.x+p.x,y:l.y+p.y},...y,{x:f.x+b.x,y:f.y+b.y},n],g,w,x,v]}function Qh(e,t,n,o){const r=Math.min(Gr(e,t)/2,Gr(t,n)/2,o),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+r*l},${s}Q ${i},${s} ${i},${s+r*f}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+r*c}Q ${i},${s} ${i+r*a},${s}`}function Do({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:o,targetY:r,targetPosition:i=Q.Top,borderRadius:s=5,centerX:a,centerY:c,offset:l=20,stepPosition:f=.5}){const[u,d,m,y,g]=Zh({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:i,center:{x:a,y:c},offset:l,stepPosition:f});return[u.reduce((p,b,x)=>{let v="";return x>0&&x<u.length-1?v=Qh(u[x-1],b,u[x+1],s):v=`${x===0?"M":"L"}${b.x} ${b.y}`,p+=v,p},""),d,m,y,g]}function Ur(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Jh(e){var u;const{sourceNode:t,targetNode:n}=e;if(!Ur(t)||!Ur(n))return null;const o=t.internals.handleBounds||Kr(t.handles),r=n.internals.handleBounds||Kr(n.handles),i=Zr((o==null?void 0:o.source)??[],e.sourceHandle),s=Zr(e.connectionMode===ht.Strict?(r==null?void 0:r.target)??[]:((r==null?void 0:r.target)??[]).concat((r==null?void 0:r.source)??[]),e.targetHandle);if(!i||!s)return(u=e.onError)==null||u.call(e,"008",Ie.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||Q.Bottom,c=(s==null?void 0:s.position)||Q.Top,l=Ft(t,i,a),f=Ft(n,s,c);return{sourceX:l.x,sourceY:l.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:c}}function Kr(e){if(!e)return null;const t=[],n=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function Ft(e,t,n=Q.Left,o=!1){const r=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Be(e);if(o)return{x:r+s/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case Q.Top:return{x:r+s/2,y:i};case Q.Right:return{x:r+s,y:i+a/2};case Q.Bottom:return{x:r+s/2,y:i+a};case Q.Left:return{x:r,y:i+a/2}}}function Zr(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function zo(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function eg(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:r}){const i=new Set;return e.reduce((s,a)=>([a.markerStart||o,a.markerEnd||r].forEach(c=>{if(c&&typeof c=="object"){const l=zo(c,t);i.has(l)||(s.push({id:l,color:c.color||n,...c}),i.add(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const zs=1e3,tg=10,er={nodeOrigin:[0,0],nodeExtent:zt,elevateNodesOnSelect:!0,defaults:{}},ng={...er,checkEquality:!0};function tr(e,t){const n={...e};for(const o in t)t[o]!==void 0&&(n[o]=t[o]);return n}function og(e,t,n){const o=tr(er,n);for(const r of e.values())if(r.parentId)nr(r,e,t,o);else{const i=Gt(r,o.nodeOrigin),s=pt(r.extent)?r.extent:o.nodeExtent,a=et(i,s,Be(r));r.internals.positionAbsolute=a}}function rg(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],o=[];for(const r of e.handles){const i={id:r.id,width:r.width??1,height:r.height??1,nodeId:e.id,x:r.x,y:r.y,position:r.position,type:r.type};r.type==="source"?n.push(i):r.type==="target"&&o.push(i)}return{source:n,target:o}}function Bo(e,t,n,o){var l,f;const r=tr(ng,o);let i={i:-1},s=e.length>0;const a=new Map(t),c=r!=null&&r.elevateNodesOnSelect?zs:0;t.clear(),n.clear();for(const u of e){let d=a.get(u.id);if(r.checkEquality&&u===(d==null?void 0:d.internals.userNode))t.set(u.id,d);else{const m=Gt(u,r.nodeOrigin),y=pt(u.extent)?u.extent:r.nodeExtent,g=et(m,y,Be(u));d={...r.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(f=u.measured)==null?void 0:f.height},internals:{positionAbsolute:g,handleBounds:rg(u,d),z:Bs(u,c),userNode:u}},t.set(u.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(s=!1),u.parentId&&nr(d,t,n,o,i)}return s}function ig(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function nr(e,t,n,o,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:a}=tr(er,o),c=e.parentId,l=t.get(c);if(!l){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ig(e,n),r&&!l.parentId&&l.internals.rootParentIndex===void 0&&(l.internals.rootParentIndex=++r.i,l.internals.z=l.internals.z+r.i*tg),r&&l.internals.rootParentIndex!==void 0&&(r.i=l.internals.rootParentIndex);const f=i?zs:0,{x:u,y:d,z:m}=sg(e,l,s,a,f),{positionAbsolute:y}=e.internals,g=u!==y.x||d!==y.y;(g||m!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:d}:y,z:m}})}function Bs(e,t){return(we(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function sg(e,t,n,o,r){const{x:i,y:s}=t.internals.positionAbsolute,a=Be(e),c=Gt(e,n),l=pt(e.extent)?et(c,e.extent,a):c;let f=et({x:i+l.x,y:s+l.y},o,a);e.extent==="parent"&&(f=Es(f,a,t));const u=Bs(e,r),d=t.internals.z??0;return{x:f.x,y:f.y,z:d>=u?d+1:u}}function or(e,t,n,o=[0,0]){var s;const r=[],i=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const l=((s=i.get(a.parentId))==null?void 0:s.expandedRect)??mt(c),f=ks(l,a.rect);i.set(a.parentId,{expandedRect:f,parent:c})}return i.size>0&&i.forEach(({expandedRect:a,parent:c},l)=>{var x;const f=c.internals.positionAbsolute,u=Be(c),d=c.origin??o,m=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,y=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,g=Math.max(u.width,Math.round(a.width)),w=Math.max(u.height,Math.round(a.height)),p=(g-u.width)*d[0],b=(w-u.height)*d[1];(m>0||y>0||p||b)&&(r.push({id:l,type:"position",position:{x:c.position.x-m+p,y:c.position.y-y+b}}),(x=n.get(l))==null||x.forEach(v=>{e.some(N=>N.id===v.id)||r.push({id:v.id,type:"position",position:{x:v.position.x+m,y:v.position.y+y}})})),(u.width<a.width||u.height<a.height||m||y)&&r.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(m?d[0]*m-p:0),height:w+(y?d[1]*y-b:0)}})}),r}function ag(e,t,n,o,r,i){const s=o==null?void 0:o.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const c=[],l=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(l.transform),u=[];for(const d of e.values()){const m=t.get(d.id);if(!m)continue;if(m.hidden){t.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),a=!0;continue}const y=Jo(d.nodeElement),g=m.measured.width!==y.width||m.measured.height!==y.height;if(!!(y.width&&y.height&&(g||!m.internals.handleBounds||d.force))){const p=d.nodeElement.getBoundingClientRect(),b=pt(m.extent)?m.extent:i;let{positionAbsolute:x}=m.internals;m.parentId&&m.extent==="parent"?x=Es(x,y,t.get(m.parentId)):b&&(x=et(x,b,y));const v={...m,measured:y,internals:{...m.internals,positionAbsolute:x,handleBounds:{source:Xr("source",d.nodeElement,p,f,m.id),target:Xr("target",d.nodeElement,p,f,m.id)}}};t.set(m.id,v),m.parentId&&nr(v,t,n,{nodeOrigin:r}),a=!0,g&&(c.push({id:m.id,type:"dimensions",dimensions:y}),m.expandParent&&m.parentId&&u.push({id:m.id,parentId:m.parentId,rect:mt(v,r)}))}}if(u.length>0){const d=or(u,t,n,r);c.push(...d)}return{changes:c,updatedInternals:a}}async function cg({delta:e,panZoom:t,transform:n,translateExtent:o,width:r,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,i]],o),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Qr(e,t,n,o,r,i){let s=r;const a=o.get(s)||new Map;o.set(s,a.set(n,t)),s=`${r}-${e}`;const c=o.get(s)||new Map;if(o.set(s,c.set(n,t)),i){s=`${r}-${e}-${i}`;const l=o.get(s)||new Map;o.set(s,l.set(n,t))}}function Rs(e,t,n){e.clear(),t.clear();for(const o of n){const{source:r,target:i,sourceHandle:s=null,targetHandle:a=null}=o,c={edgeId:o.id,source:r,target:i,sourceHandle:s,targetHandle:a},l=`${r}-${s}--${i}-${a}`,f=`${i}-${a}--${r}-${s}`;Qr("source",c,f,e,r,s),Qr("target",c,l,e,i,a),t.set(o.id,o)}}function Hs(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Hs(n,t):!1}function Jr(e,t,n){var r;let o=e;do{if((r=o==null?void 0:o.matches)!=null&&r.call(o,t))return!0;if(o===n)return!1;o=o==null?void 0:o.parentElement}while(o);return!1}function lg(e,t,n,o){const r=new Map;for(const[i,s]of e)if((s.selected||s.id===o)&&(!s.parentId||!Hs(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(i);a&&r.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return r}function po({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){var s,a,c;const r=[];for(const[l,f]of t){const u=(s=n.get(l))==null?void 0:s.internals.userNode;u&&r.push({...u,position:f.position,dragging:o})}if(!e)return[r[0],r];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:o}:r[0],r]}function ug({dragItems:e,snapGrid:t,x:n,y:o}){const r=e.values().next().value;if(!r)return null;const i={x:n-r.distance.x,y:o-r.distance.y},s=Kt(i,t);return{x:s.x-i.x,y:s.y-i.y}}function dg({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:r}){let i={x:null,y:null},s=0,a=new Map,c=!1,l={x:0,y:0},f=null,u=!1,d=null,m=!1,y=!1,g=null;function w({noDragClassName:b,handleSelector:x,domNode:v,isSelectable:N,nodeId:S,nodeClickDistance:E=0}){d=de(v);function M({x:A,y:z}){const{nodeLookup:_,nodeExtent:I,snapGrid:k,snapToGrid:P,nodeOrigin:T,onNodeDrag:C,onSelectionDrag:D,onError:H,updateNodePositions:R}=t();i={x:A,y:z};let X=!1;const Y=a.size>1,U=Y&&I?Lo(Ut(a)):null,K=Y&&P?ug({dragItems:a,snapGrid:k,x:A,y:z}):null;for(const[q,O]of a){if(!_.has(q))continue;let G={x:A-O.distance.x,y:z-O.distance.y};P&&(G=K?{x:Math.round(G.x+K.x),y:Math.round(G.y+K.y)}:Kt(G,k));let J=null;if(Y&&I&&!O.extent&&U){const{positionAbsolute:V}=O.internals,Z=V.x-U.x+I[0][0],te=V.x+O.measured.width-U.x2+I[1][0],ee=V.y-U.y+I[0][1],oe=V.y+O.measured.height-U.y2+I[1][1];J=[[Z,ee],[te,oe]]}const{position:W,positionAbsolute:B}=Ns({nodeId:q,nextPosition:G,nodeLookup:_,nodeExtent:J||I,nodeOrigin:T,onError:H});X=X||O.position.x!==W.x||O.position.y!==W.y,O.position=W,O.internals.positionAbsolute=B}if(y=y||X,!!X&&(R(a,!0),g&&(o||C||!S&&D))){const[q,O]=po({nodeId:S,dragItems:a,nodeLookup:_});o==null||o(g,a,q,O),C==null||C(g,q,O),S||D==null||D(g,O)}}async function j(){if(!f)return;const{transform:A,panBy:z,autoPanSpeed:_,autoPanOnNodeDrag:I}=t();if(!I){c=!1,cancelAnimationFrame(s);return}const[k,P]=Cs(l,f,_);(k!==0||P!==0)&&(i.x=(i.x??0)-k/A[2],i.y=(i.y??0)-P/A[2],await z({x:k,y:P})&&M(i)),s=requestAnimationFrame(j)}function F(A){var Y;const{nodeLookup:z,multiSelectionActive:_,nodesDraggable:I,transform:k,snapGrid:P,snapToGrid:T,selectNodesOnDrag:C,onNodeDragStart:D,onSelectionDragStart:H,unselectNodesAndEdges:R}=t();u=!0,(!C||!N)&&!_&&S&&((Y=z.get(S))!=null&&Y.selected||R()),N&&C&&S&&(e==null||e(S));const X=jt(A.sourceEvent,{transform:k,snapGrid:P,snapToGrid:T,containerBounds:f});if(i=X,a=lg(z,I,X,S),a.size>0&&(n||D||!S&&H)){const[U,K]=po({nodeId:S,dragItems:a,nodeLookup:z});n==null||n(A.sourceEvent,a,U,K),D==null||D(A.sourceEvent,U,K),S||H==null||H(A.sourceEvent,K)}}const $=os().clickDistance(E).on("start",A=>{const{domNode:z,nodeDragThreshold:_,transform:I,snapGrid:k,snapToGrid:P}=t();f=(z==null?void 0:z.getBoundingClientRect())||null,m=!1,y=!1,g=A.sourceEvent,_===0&&F(A),i=jt(A.sourceEvent,{transform:I,snapGrid:k,snapToGrid:P,containerBounds:f}),l=ve(A.sourceEvent,f)}).on("drag",A=>{const{autoPanOnNodeDrag:z,transform:_,snapGrid:I,snapToGrid:k,nodeDragThreshold:P,nodeLookup:T}=t(),C=jt(A.sourceEvent,{transform:_,snapGrid:I,snapToGrid:k,containerBounds:f});if(g=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||S&&!T.has(S))&&(m=!0),!m){if(!c&&z&&u&&(c=!0,j()),!u){const D=ve(A.sourceEvent,f),H=D.x-l.x,R=D.y-l.y;Math.sqrt(H*H+R*R)>P&&F(A)}(i.x!==C.xSnapped||i.y!==C.ySnapped)&&a&&u&&(l=ve(A.sourceEvent,f),M(C))}}).on("end",A=>{if(!(!u||m)&&(c=!1,u=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:z,updateNodePositions:_,onNodeDragStop:I,onSelectionDragStop:k}=t();if(y&&(_(a,!1),y=!1),r||I||!S&&k){const[P,T]=po({nodeId:S,dragItems:a,nodeLookup:z,dragging:!1});r==null||r(A.sourceEvent,a,P,T),I==null||I(A.sourceEvent,P,T),S||k==null||k(A.sourceEvent,T)}}}).filter(A=>{const z=A.target;return!A.button&&(!b||!Jr(z,`.${b}`,v))&&(!x||Jr(z,x,v))});d.call($)}function p(){d==null||d.on(".drag",null)}return{update:w,destroy:p}}function fg(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Rt(r,mt(i))>0&&o.push(i);return o}const hg=250;function gg(e,t,n,o){var a,c;let r=[],i=1/0;const s=fg(e,n,t+hg);for(const l of s){const f=[...((a=l.internals.handleBounds)==null?void 0:a.source)??[],...((c=l.internals.handleBounds)==null?void 0:c.target)??[]];for(const u of f){if(o.nodeId===u.nodeId&&o.type===u.type&&o.id===u.id)continue;const{x:d,y:m}=Ft(l,u,u.position,!0),y=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(m-e.y,2));y>t||(y<i?(r=[{...u,x:d,y:m}],i=y):y===i&&r.push({...u,x:d,y:m}))}}if(!r.length)return null;if(r.length>1){const l=o.type==="source"?"target":"source";return r.find(f=>f.type===l)??r[0]}return r[0]}function Fs(e,t,n,o,r,i=!1){var l,f,u;const s=o.get(e);if(!s)return null;const a=r==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((u=s.internals.handleBounds)==null?void 0:u.target)??[]],c=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return c&&i?{...c,...Ft(s,c,c.position,!0)}:c}function Os(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function mg(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Vs=()=>!0;function pg(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:r,edgeUpdaterType:i,isTarget:s,domNode:a,nodeLookup:c,lib:l,autoPanOnConnect:f,flowId:u,panBy:d,cancelConnection:m,onConnectStart:y,onConnect:g,onConnectEnd:w,isValidConnection:p=Vs,onReconnectEnd:b,updateConnection:x,getTransform:v,getFromHandle:N,autoPanSpeed:S,dragThreshold:E=1,handleDomNode:M}){const j=Is(e.target);let F=0,$;const{x:A,y:z}=ve(e),_=Os(i,M),I=a==null?void 0:a.getBoundingClientRect();let k=!1;if(!I||!_)return;const P=Fs(r,_,o,c,t);if(!P)return;let T=ve(e,I),C=!1,D=null,H=!1,R=null;function X(){if(!f||!I)return;const[W,B]=Cs(T,I,S);d({x:W,y:B}),F=requestAnimationFrame(X)}const Y={...P,nodeId:r,type:_,position:P.position},U=c.get(r);let q={inProgress:!0,isValid:null,from:Ft(U,Y,Q.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:U,to:T,toHandle:null,toPosition:Fr[Y.position],toNode:null,pointer:T};function O(){k=!0,x(q),y==null||y(e,{nodeId:r,handleId:o,handleType:_})}E===0&&O();function G(W){if(!k){const{x:te,y:ee}=ve(W),oe=te-A,ce=ee-z;if(!(oe*oe+ce*ce>E*E))return;O()}if(!N()||!Y){J(W);return}const B=v();T=ve(W,I),$=gg(Zt(T,B,!1,[1,1]),n,c,Y),C||(X(),C=!0);const V=Ys(W,{handle:$,connectionMode:t,fromNodeId:r,fromHandleId:o,fromType:s?"target":"source",isValidConnection:p,doc:j,lib:l,flowId:u,nodeLookup:c});R=V.handleDomNode,D=V.connection,H=mg(!!$,V.isValid);const Z={...q,isValid:H,to:V.toHandle&&H?Dn({x:V.toHandle.x,y:V.toHandle.y},B):T,toHandle:V.toHandle,toPosition:H&&V.toHandle?V.toHandle.position:Fr[Y.position],toNode:V.toHandle?c.get(V.toHandle.nodeId):null,pointer:T};x(Z),q=Z}function J(W){if(!("touches"in W&&W.touches.length>0)){if(k){($||R)&&D&&H&&(g==null||g(D));const{inProgress:B,...V}=q,Z={...V,toPosition:q.toHandle?q.toPosition:null};w==null||w(W,Z),i&&(b==null||b(W,Z))}m(),cancelAnimationFrame(F),C=!1,H=!1,D=null,R=null,j.removeEventListener("mousemove",G),j.removeEventListener("mouseup",J),j.removeEventListener("touchmove",G),j.removeEventListener("touchend",J)}}j.addEventListener("mousemove",G),j.addEventListener("mouseup",J),j.addEventListener("touchmove",G),j.addEventListener("touchend",J)}function Ys(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:i,doc:s,lib:a,flowId:c,isValidConnection:l=Vs,nodeLookup:f}){const u=i==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y}=ve(e),g=s.elementFromPoint(m,y),w=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:d,p={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const b=Os(void 0,w),x=w.getAttribute("data-nodeid"),v=w.getAttribute("data-handleid"),N=w.classList.contains("connectable"),S=w.classList.contains("connectableend");if(!x||!b)return p;const E={source:u?x:o,sourceHandle:u?v:r,target:u?o:x,targetHandle:u?r:v};p.connection=E;const j=N&&S&&(n===ht.Strict?u&&b==="source"||!u&&b==="target":x!==o||v!==r);p.isValid=j&&l(E),p.toHandle=Fs(x,b,v,f,n,!0)}return p}const Ro={onPointerDown:pg,isValid:Ys};function xg({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){const r=de(e);function i({translateExtent:a,width:c,height:l,zoomStep:f=1,pannable:u=!0,zoomable:d=!0,inversePan:m=!1}){const y=x=>{if(x.sourceEvent.type!=="wheel"||!t)return;const v=n(),N=x.sourceEvent.ctrlKey&&Ht()?10:1,S=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*f,E=v[2]*Math.pow(2,S*N);t.scaleTo(E)};let g=[0,0];const w=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(g=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},p=x=>{const v=n();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!t)return;const N=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],S=[N[0]-g[0],N[1]-g[1]];g=N;const E=o()*Math.max(v[2],Math.log(v[2]))*(m?-1:1),M={x:v[0]-S[0]*E,y:v[1]-S[1]*E},j=[[0,0],[c,l]];t.setViewportConstrained({x:M.x,y:M.y,zoom:v[2]},j,a)},b=ys().on("start",w).on("zoom",u?p:null).on("zoom.wheel",d?y:null);r.call(b,{})}function s(){r.on("zoom",null)}return{update:i,destroy:s,pointer:xe}}const qn=e=>({x:e.x,y:e.y,zoom:e.k}),xo=({x:e,y:t,zoom:n})=>Yn.translate(e,t).scale(n),st=(e,t)=>e.target.closest(`.${t}`),Xs=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),yg=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,yo=(e,t=0,n=yg,o=()=>{})=>{const r=typeof t=="number"&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e},Ws=e=>{const t=e.ctrlKey&&Ht()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function wg({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:r,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:l}){return f=>{if(st(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const u=n.property("__zoom").k||1;if(f.ctrlKey&&s){const w=xe(f),p=Ws(f),b=u*Math.pow(2,p);o.scaleTo(n,b,w,f);return}const d=f.deltaMode===1?20:1;let m=r===Ze.Vertical?0:f.deltaX*d,y=r===Ze.Horizontal?0:f.deltaY*d;!Ht()&&f.shiftKey&&r!==Ze.Vertical&&(m=f.deltaY*d,y=0),o.translateBy(n,-(m/u)*i,-(y/u)*i,{internal:!0});const g=qn(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(f,g),e.panScrollTimeout=setTimeout(()=>{l==null||l(f,g),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(f,g))}}function vg({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,r){const i=o.type==="wheel",s=!t&&i&&!o.ctrlKey,a=st(o,e);if(o.ctrlKey&&i&&a&&o.preventDefault(),s||a)return null;o.preventDefault(),n.call(this,o,r)}}function bg({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{var i,s,a;if((i=o.sourceEvent)!=null&&i.internal)return;const r=qn(o.transform);e.mouseButton=((s=o.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=r,((a=o.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(o.sourceEvent,r))}}function _g({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:r}){return i=>{var s,a;e.usedRightMouseButton=!!(n&&Xs(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||o([i.transform.x,i.transform.y,i.transform.k]),r&&!((a=i.sourceEvent)!=null&&a.internal)&&(r==null||r(i.sourceEvent,qn(i.transform)))}}function Sg({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:r,onPaneContextMenu:i}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&Xs(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,o(!1),r)){const c=qn(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{r==null||r(s.sourceEvent,c)},n?150:0)}}}function Ng({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:r,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:l,connectionInProgress:f}){return u=>{var w;const d=e||t,m=n&&u.ctrlKey,y=u.type==="wheel";if(u.button===1&&u.type==="mousedown"&&(st(u,`${l}-flow__node`)||st(u,`${l}-flow__edge`)))return!0;if(!o&&!d&&!r&&!i&&!n||s||f&&!y||st(u,a)&&y||st(u,c)&&(!y||r&&y&&!e)||!n&&u.ctrlKey&&y)return!1;if(!n&&u.type==="touchstart"&&((w=u.touches)==null?void 0:w.length)>1)return u.preventDefault(),!1;if(!d&&!r&&!m&&y||!o&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(o)&&!o.includes(u.button)&&u.type==="mousedown")return!1;const g=Array.isArray(o)&&o.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||y)&&g}}function Eg({domNode:e,minZoom:t,maxZoom:n,translateExtent:o,viewport:r,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:c}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),u=ys().scaleExtent([t,n]).translateExtent(o),d=de(e).call(u);b({x:r.x,y:r.y,zoom:gt(r.zoom,t,n)},[[0,0],[f.width,f.height]],o);const m=d.on("wheel.zoom"),y=d.on("dblclick.zoom");u.wheelDelta(Ws);function g($,A){return d?new Promise(z=>{u==null||u.interpolate((A==null?void 0:A.interpolate)==="linear"?It:Sn).transform(yo(d,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>z(!0)),$)}):Promise.resolve(!1)}function w({noWheelClassName:$,noPanClassName:A,onPaneContextMenu:z,userSelectionActive:_,panOnScroll:I,panOnDrag:k,panOnScrollMode:P,panOnScrollSpeed:T,preventScrolling:C,zoomOnPinch:D,zoomOnScroll:H,zoomOnDoubleClick:R,zoomActivationKeyPressed:X,lib:Y,onTransformChange:U,connectionInProgress:K,paneClickDistance:q,selectionOnDrag:O}){_&&!l.isZoomingOrPanning&&p();const G=I&&!X&&!_;u.clickDistance(O?1/0:!we(q)||q<0?0:q);const J=G?wg({zoomPanValues:l,noWheelClassName:$,d3Selection:d,d3Zoom:u,panOnScrollMode:P,panOnScrollSpeed:T,zoomOnPinch:D,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:a}):vg({noWheelClassName:$,preventScrolling:C,d3ZoomHandler:m});if(d.on("wheel.zoom",J,{passive:!1}),!_){const B=bg({zoomPanValues:l,onDraggingChange:c,onPanZoomStart:s});u.on("start",B);const V=_g({zoomPanValues:l,panOnDrag:k,onPaneContextMenu:!!z,onPanZoom:i,onTransformChange:U});u.on("zoom",V);const Z=Sg({zoomPanValues:l,panOnDrag:k,panOnScroll:I,onPaneContextMenu:z,onPanZoomEnd:a,onDraggingChange:c});u.on("end",Z)}const W=Ng({zoomActivationKeyPressed:X,panOnDrag:k,zoomOnScroll:H,panOnScroll:I,zoomOnDoubleClick:R,zoomOnPinch:D,userSelectionActive:_,noPanClassName:A,noWheelClassName:$,lib:Y,connectionInProgress:K});u.filter(W),R?d.on("dblclick.zoom",y):d.on("dblclick.zoom",null)}function p(){u.on("zoom",null)}async function b($,A,z){const _=xo($),I=u==null?void 0:u.constrain()(_,A,z);return I&&await g(I),new Promise(k=>k(I))}async function x($,A){const z=xo($);return await g(z,A),new Promise(_=>_(z))}function v($){if(d){const A=xo($),z=d.property("__zoom");(z.k!==$.zoom||z.x!==$.x||z.y!==$.y)&&(u==null||u.transform(d,A,null,{sync:!0}))}}function N(){const $=d?xs(d.node()):{x:0,y:0,k:1};return{x:$.x,y:$.y,zoom:$.k}}function S($,A){return d?new Promise(z=>{u==null||u.interpolate((A==null?void 0:A.interpolate)==="linear"?It:Sn).scaleTo(yo(d,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>z(!0)),$)}):Promise.resolve(!1)}function E($,A){return d?new Promise(z=>{u==null||u.interpolate((A==null?void 0:A.interpolate)==="linear"?It:Sn).scaleBy(yo(d,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>z(!0)),$)}):Promise.resolve(!1)}function M($){u==null||u.scaleExtent($)}function j($){u==null||u.translateExtent($)}function F($){const A=!we($)||$<0?0:$;u==null||u.clickDistance(A)}return{update:w,destroy:p,setViewport:x,setViewportConstrained:b,getViewport:N,scaleTo:S,scaleBy:E,setScaleExtent:M,setTranslateExtent:j,syncViewport:v,setClickDistance:F}}var xt;(function(e){e.Line="line",e.Handle="handle"})(xt||(xt={}));function Cg({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:r,affectsY:i}){const s=e-t,a=n-o,c=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&r&&(c[0]=c[0]*-1),a&&i&&(c[1]=c[1]*-1),c}function ei(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),o=e.includes("left"),r=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:o,affectsY:r}}function Fe(e,t){return Math.max(0,t-e)}function Oe(e,t){return Math.max(0,e-t)}function xn(e,t,n){return Math.max(0,t-e,e-n)}function ti(e,t){return e?!t:t}function kg(e,t,n,o,r,i,s,a){let{affectsX:c,affectsY:l}=t;const{isHorizontal:f,isVertical:u}=t,d=f&&u,{xSnapped:m,ySnapped:y}=n,{minWidth:g,maxWidth:w,minHeight:p,maxHeight:b}=o,{x,y:v,width:N,height:S,aspectRatio:E}=e;let M=Math.floor(f?m-e.pointerX:0),j=Math.floor(u?y-e.pointerY:0);const F=N+(c?-M:M),$=S+(l?-j:j),A=-i[0]*N,z=-i[1]*S;let _=xn(F,g,w),I=xn($,p,b);if(s){let T=0,C=0;c&&M<0?T=Fe(x+M+A,s[0][0]):!c&&M>0&&(T=Oe(x+F+A,s[1][0])),l&&j<0?C=Fe(v+j+z,s[0][1]):!l&&j>0&&(C=Oe(v+$+z,s[1][1])),_=Math.max(_,T),I=Math.max(I,C)}if(a){let T=0,C=0;c&&M>0?T=Oe(x+M,a[0][0]):!c&&M<0&&(T=Fe(x+F,a[1][0])),l&&j>0?C=Oe(v+j,a[0][1]):!l&&j<0&&(C=Fe(v+$,a[1][1])),_=Math.max(_,T),I=Math.max(I,C)}if(r){if(f){const T=xn(F/E,p,b)*E;if(_=Math.max(_,T),s){let C=0;!c&&!l||c&&!l&&d?C=Oe(v+z+F/E,s[1][1])*E:C=Fe(v+z+(c?M:-M)/E,s[0][1])*E,_=Math.max(_,C)}if(a){let C=0;!c&&!l||c&&!l&&d?C=Fe(v+F/E,a[1][1])*E:C=Oe(v+(c?M:-M)/E,a[0][1])*E,_=Math.max(_,C)}}if(u){const T=xn($*E,g,w)/E;if(I=Math.max(I,T),s){let C=0;!c&&!l||l&&!c&&d?C=Oe(x+$*E+A,s[1][0])/E:C=Fe(x+(l?j:-j)*E+A,s[0][0])/E,I=Math.max(I,C)}if(a){let C=0;!c&&!l||l&&!c&&d?C=Fe(x+$*E,a[1][0])/E:C=Oe(x+(l?j:-j)*E,a[0][0])/E,I=Math.max(I,C)}}}j=j+(j<0?I:-I),M=M+(M<0?_:-_),r&&(d?F>$*E?j=(ti(c,l)?-M:M)/E:M=(ti(c,l)?-j:j)*E:f?(j=M/E,l=c):(M=j*E,c=l));const k=c?x+M:x,P=l?v+j:v;return{width:N+(c?-M:M),height:S+(l?-j:j),x:i[0]*M*(c?-1:1)+k,y:i[1]*j*(l?-1:1)+P}}const qs={width:0,height:0,x:0,y:0},Mg={...qs,pointerX:0,pointerY:0,aspectRatio:1};function Tg(e){return[[0,0],[e.measured.width,e.measured.height]]}function Ig(e,t,n){const o=t.position.x+e.position.x,r=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,a=n[0]*i,c=n[1]*s;return[[o-a,r-c],[o+i-a,r+s-c]]}function jg({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:r}){const i=de(e);let s={controlDirection:ei("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:l,boundaries:f,keepAspectRatio:u,resizeDirection:d,onResizeStart:m,onResize:y,onResizeEnd:g,shouldResize:w}){let p={...qs},b={...Mg};s={boundaries:f,resizeDirection:d,keepAspectRatio:u,controlDirection:ei(l)};let x,v=null,N=[],S,E,M,j=!1;const F=os().on("start",$=>{const{nodeLookup:A,transform:z,snapGrid:_,snapToGrid:I,nodeOrigin:k,paneDomNode:P}=n();if(x=A.get(t),!x)return;v=(P==null?void 0:P.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:C}=jt($.sourceEvent,{transform:z,snapGrid:_,snapToGrid:I,containerBounds:v});p={width:x.measured.width??0,height:x.measured.height??0,x:x.position.x??0,y:x.position.y??0},b={...p,pointerX:T,pointerY:C,aspectRatio:p.width/p.height},S=void 0,x.parentId&&(x.extent==="parent"||x.expandParent)&&(S=A.get(x.parentId),E=S&&x.extent==="parent"?Tg(S):void 0),N=[],M=void 0;for(const[D,H]of A)if(H.parentId===t&&(N.push({id:D,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const R=Ig(H,x,H.origin??k);M?M=[[Math.min(R[0][0],M[0][0]),Math.min(R[0][1],M[0][1])],[Math.max(R[1][0],M[1][0]),Math.max(R[1][1],M[1][1])]]:M=R}m==null||m($,{...p})}).on("drag",$=>{const{transform:A,snapGrid:z,snapToGrid:_,nodeOrigin:I}=n(),k=jt($.sourceEvent,{transform:A,snapGrid:z,snapToGrid:_,containerBounds:v}),P=[];if(!x)return;const{x:T,y:C,width:D,height:H}=p,R={},X=x.origin??I,{width:Y,height:U,x:K,y:q}=kg(b,s.controlDirection,k,s.boundaries,s.keepAspectRatio,X,E,M),O=Y!==D,G=U!==H,J=K!==T&&O,W=q!==C&&G;if(!J&&!W&&!O&&!G)return;if((J||W||X[0]===1||X[1]===1)&&(R.x=J?K:p.x,R.y=W?q:p.y,p.x=R.x,p.y=R.y,N.length>0)){const te=K-T,ee=q-C;for(const oe of N)oe.position={x:oe.position.x-te+X[0]*(Y-D),y:oe.position.y-ee+X[1]*(U-H)},P.push(oe)}if((O||G)&&(R.width=O&&(!s.resizeDirection||s.resizeDirection==="horizontal")?Y:p.width,R.height=G&&(!s.resizeDirection||s.resizeDirection==="vertical")?U:p.height,p.width=R.width,p.height=R.height),S&&x.expandParent){const te=X[0]*(R.width??0);R.x&&R.x<te&&(p.x=te,b.x=b.x-(R.x-te));const ee=X[1]*(R.height??0);R.y&&R.y<ee&&(p.y=ee,b.y=b.y-(R.y-ee))}const B=Cg({width:p.width,prevWidth:D,height:p.height,prevHeight:H,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),V={...p,direction:B};(w==null?void 0:w($,V))!==!1&&(j=!0,y==null||y($,V),o(R,P))}).on("end",$=>{j&&(g==null||g($,{...p}),r==null||r({...p}),j=!1)});i.call(F)}function c(){i.on(".drag",null)}return{update:a,destroy:c}}var wo={exports:{}},vo={},bo={exports:{}},_o={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni;function $g(){if(ni)return _o;ni=1;var e=Hi();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,r=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(u,d){var m=d(),y=o({inst:{value:m,getSnapshot:d}}),g=y[0].inst,w=y[1];return i(function(){g.value=m,g.getSnapshot=d,c(g)&&w({inst:g})},[u,m,d]),r(function(){return c(g)&&w({inst:g}),u(function(){c(g)&&w({inst:g})})},[u]),s(m),m}function c(u){var d=u.getSnapshot;u=u.value;try{var m=d();return!n(u,m)}catch{return!0}}function l(u,d){return d()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return _o.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,_o}var oi;function Ag(){return oi||(oi=1,bo.exports=$g()),bo.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri;function Pg(){if(ri)return vo;ri=1;var e=Hi(),t=Ag();function n(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var o=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return vo.useSyncExternalStoreWithSelector=function(l,f,u,d,m){var y=i(null);if(y.current===null){var g={hasValue:!1,value:null};y.current=g}else g=y.current;y=a(function(){function p(S){if(!b){if(b=!0,x=S,S=d(S),m!==void 0&&g.hasValue){var E=g.value;if(m(E,S))return v=E}return v=S}if(E=v,o(x,S))return E;var M=d(S);return m!==void 0&&m(E,M)?(x=S,E):(x=S,v=M)}var b=!1,x,v,N=u===void 0?null:u;return[function(){return p(f())},N===null?void 0:function(){return p(N())}]},[f,u,d,m]);var w=r(l,y[0],y[1]);return s(function(){g.hasValue=!0,g.value=w},[w]),c(w),w},vo}var ii;function Lg(){return ii||(ii=1,wo.exports=Pg()),wo.exports}var Dg=Lg();const zg=Mc(Dg),Bg={},si=e=>{let t;const n=new Set,o=(f,u)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const m=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,m))}},r=()=>t,c={setState:o,getState:r,getInitialState:()=>l,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Bg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(o,r,c);return c},Rg=e=>e?si(e):si,{useDebugValue:Hg}=Et,{useSyncExternalStoreWithSelector:Fg}=zg,Og=e=>e;function Gs(e,t=Og,n){const o=Fg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Hg(o),o}const ai=(e,t)=>{const n=Rg(e),o=(r,i=t)=>Gs(n,r,i);return Object.assign(o,n),o},Vg=(e,t)=>e?ai(e,t):ai;function se(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,r]of e)if(!Object.is(r,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}const Gn=L.createContext(null),Yg=Gn.Provider,Us=Ie.error001();function ne(e,t){const n=L.useContext(Gn);if(n===null)throw new Error(Us);return Gs(n,e,t)}function re(){const e=L.useContext(Gn);if(e===null)throw new Error(Us);return L.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const ci={display:"none"},Xg={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ks="react-flow__node-desc",Zs="react-flow__edge-desc",Wg="react-flow__aria-live",qg=e=>e.ariaLiveMessage,Gg=e=>e.ariaLabelConfig;function Ug({rfId:e}){const t=ne(qg);return h.jsx("div",{id:`${Wg}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Xg,children:t})}function Kg({rfId:e,disableKeyboardA11y:t}){const n=ne(Gg);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${Ks}-${e}`,style:ci,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${Zs}-${e}`,style:ci,children:n["edge.a11yDescription.default"]}),!t&&h.jsx(Ug,{rfId:e})]})}const Un=L.forwardRef(({position:e="top-left",children:t,className:n,style:o,...r},i)=>{const s=`${e}`.split("-");return h.jsx("div",{className:ae(["react-flow__panel",n,...s]),style:o,ref:i,...r,children:t})});Un.displayName="Panel";function Zg({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:h.jsx(Un,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Qg=e=>{const t=[],n=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&n.push(o);return{selectedNodes:t,selectedEdges:n}},yn=e=>e.id;function Jg(e,t){return se(e.selectedNodes.map(yn),t.selectedNodes.map(yn))&&se(e.selectedEdges.map(yn),t.selectedEdges.map(yn))}function em({onSelectionChange:e}){const t=re(),{selectedNodes:n,selectedEdges:o}=ne(Qg,Jg);return L.useEffect(()=>{const r={nodes:n,edges:o};e==null||e(r),t.getState().onSelectionChangeHandlers.forEach(i=>i(r))},[n,o,e]),null}const tm=e=>!!e.onSelectionChangeHandlers;function nm({onSelectionChange:e}){const t=ne(tm);return e||t?h.jsx(em,{onSelectionChange:e}):null}const Qs=[0,0],om={x:0,y:0,zoom:1},rm=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],li=[...rm,"rfId"],im=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),ui={translateExtent:zt,nodeOrigin:Qs,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function sm(e){const{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:r,setTranslateExtent:i,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:c}=ne(im,se),l=re();L.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=ui,a()}),[]);const f=L.useRef(ui);return L.useEffect(()=>{for(const u of li){const d=e[u],m=f.current[u];d!==m&&(typeof e[u]>"u"||(u==="nodes"?t(d):u==="edges"?n(d):u==="minZoom"?o(d):u==="maxZoom"?r(d):u==="translateExtent"?i(d):u==="nodeExtent"?s(d):u==="ariaLabelConfig"?l.setState({ariaLabelConfig:Vh(d)}):u==="fitView"?l.setState({fitViewQueued:d}):u==="fitViewOptions"?l.setState({fitViewOptions:d}):l.setState({[u]:d})))}f.current=e},li.map(u=>e[u])),null}function di(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function am(e){var o;const[t,n]=L.useState(e==="system"?null:e);return L.useEffect(()=>{if(e!=="system"){n(e);return}const r=di(),i=()=>n(r!=null&&r.matches?"dark":"light");return i(),r==null||r.addEventListener("change",i),()=>{r==null||r.removeEventListener("change",i)}},[e]),t!==null?t:(o=di())!=null&&o.matches?"dark":"light"}const fi=typeof document<"u"?document:null;function Ot(e=null,t={target:fi,actInsideInputWithModifier:!0}){const[n,o]=L.useState(!1),r=L.useRef(!1),i=L.useRef(new Set([])),[s,a]=L.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(u=>typeof u=="string").map(u=>u.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=l.reduce((u,d)=>u.concat(...d),[]);return[l,f]}return[[],[]]},[e]);return L.useEffect(()=>{const c=(t==null?void 0:t.target)??fi,l=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=m=>{var w,p;if(r.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!r.current||r.current&&!l)&&js(m))return!1;const g=gi(m.code,a);if(i.current.add(m[g]),hi(s,i.current,!1)){const b=((p=(w=m.composedPath)==null?void 0:w.call(m))==null?void 0:p[0])||m.target,x=(b==null?void 0:b.nodeName)==="BUTTON"||(b==null?void 0:b.nodeName)==="A";t.preventDefault!==!1&&(r.current||!x)&&m.preventDefault(),o(!0)}},u=m=>{const y=gi(m.code,a);hi(s,i.current,!0)?(o(!1),i.current.clear()):i.current.delete(m[y]),m.key==="Meta"&&i.current.clear(),r.current=!1},d=()=>{i.current.clear(),o(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,o]),n}function hi(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(r=>t.has(r)))}function gi(e,t){return t.includes(e)?"code":"key"}const cm=()=>{const e=re();return L.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[o,r,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??o,y:t.y??r,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},setCenter:async(t,n,o)=>e.getState().setCenter(t,n,o),fitBounds:async(t,n)=>{const{width:o,height:r,minZoom:i,maxZoom:s,panZoom:a}=e.getState(),c=Qo(t,o,r,i,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:o,snapGrid:r,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:a,y:c}=s.getBoundingClientRect(),l={x:t.x-a,y:t.y-c},f=n.snapGrid??r,u=n.snapToGrid??i;return Zt(l,o,u,f)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:r,y:i}=o.getBoundingClientRect(),s=Dn(t,n);return{x:s.x+r,y:s.y+i}}}),[])};function Js(e,t){const n=[],o=new Map,r=[];for(const i of e)if(i.type==="add"){r.push(i);continue}else if(i.type==="remove"||i.type==="replace")o.set(i.id,[i]);else{const s=o.get(i.id);s?s.push(i):o.set(i.id,[i])}for(const i of t){const s=o.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...i};for(const c of s)lm(c,a);n.push(a)}return r.length&&r.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function lm(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function um(e,t){return Js(e,t)}function dm(e,t){return Js(e,t)}function qe(e,t){return{id:e,type:"select",selected:t}}function at(e,t=new Set,n=!1){const o=[];for(const[r,i]of e){const s=t.has(r);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),o.push(qe(i.id,s)))}return o}function mi({items:e=[],lookup:t}){var r;const n=[],o=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const a=t.get(s.id),c=((r=a==null?void 0:a.internals)==null?void 0:r.userNode)??a;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)o.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function pi(e){return{id:e.id,type:"remove"}}const xi=e=>Ah(e),fm=e=>Ss(e);function ea(e){return L.forwardRef(e)}const hm=typeof window<"u"?L.useLayoutEffect:L.useEffect;function yi(e){const[t,n]=L.useState(BigInt(0)),[o]=L.useState(()=>gm(()=>n(r=>r+BigInt(1))));return hm(()=>{const r=o.get();r.length&&(e(r),o.reset())},[t]),o}function gm(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const ta=L.createContext(null);function mm({children:e}){const t=re(),n=L.useCallback(a=>{const{nodes:c=[],setNodes:l,hasDefaultNodes:f,onNodesChange:u,nodeLookup:d,fitViewQueued:m}=t.getState();let y=c;for(const w of a)y=typeof w=="function"?w(y):w;const g=mi({items:y,lookup:d});f&&l(y),g.length>0?u==null||u(g):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:p,setNodes:b}=t.getState();w&&b(p)})},[]),o=yi(n),r=L.useCallback(a=>{const{edges:c=[],setEdges:l,hasDefaultEdges:f,onEdgesChange:u,edgeLookup:d}=t.getState();let m=c;for(const y of a)m=typeof y=="function"?y(m):y;f?l(m):u&&u(mi({items:m,lookup:d}))},[]),i=yi(r),s=L.useMemo(()=>({nodeQueue:o,edgeQueue:i}),[]);return h.jsx(ta.Provider,{value:s,children:e})}function pm(){const e=L.useContext(ta);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const xm=e=>!!e.panZoom;function rr(){const e=cm(),t=re(),n=pm(),o=ne(xm),r=L.useMemo(()=>{const i=u=>t.getState().nodeLookup.get(u),s=u=>{n.nodeQueue.push(u)},a=u=>{n.edgeQueue.push(u)},c=u=>{var p,b;const{nodeLookup:d,nodeOrigin:m}=t.getState(),y=xi(u)?u:d.get(u.id),g=y.parentId?Ts(y.position,y.measured,y.parentId,d,m):y.position,w={...y,position:g,width:((p=y.measured)==null?void 0:p.width)??y.width,height:((b=y.measured)==null?void 0:b.height)??y.height};return mt(w)},l=(u,d,m={replace:!1})=>{s(y=>y.map(g=>{if(g.id===u){const w=typeof d=="function"?d(g):d;return m.replace&&xi(w)?w:{...g,...w}}return g}))},f=(u,d,m={replace:!1})=>{a(y=>y.map(g=>{if(g.id===u){const w=typeof d=="function"?d(g):d;return m.replace&&fm(w)?w:{...g,...w}}return g}))};return{getNodes:()=>t.getState().nodes.map(u=>({...u})),getNode:u=>{var d;return(d=i(u))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:u=[]}=t.getState();return u.map(d=>({...d}))},getEdge:u=>t.getState().edgeLookup.get(u),setNodes:s,setEdges:a,addNodes:u=>{const d=Array.isArray(u)?u:[u];n.nodeQueue.push(m=>[...m,...d])},addEdges:u=>{const d=Array.isArray(u)?u:[u];n.edgeQueue.push(m=>[...m,...d])},toObject:()=>{const{nodes:u=[],edges:d=[],transform:m}=t.getState(),[y,g,w]=m;return{nodes:u.map(p=>({...p})),edges:d.map(p=>({...p})),viewport:{x:y,y:g,zoom:w}}},deleteElements:async({nodes:u=[],edges:d=[]})=>{const{nodes:m,edges:y,onNodesDelete:g,onEdgesDelete:w,triggerNodeChanges:p,triggerEdgeChanges:b,onDelete:x,onBeforeDelete:v}=t.getState(),{nodes:N,edges:S}=await Bh({nodesToRemove:u,edgesToRemove:d,nodes:m,edges:y,onBeforeDelete:v}),E=S.length>0,M=N.length>0;if(E){const j=S.map(pi);w==null||w(S),b(j)}if(M){const j=N.map(pi);g==null||g(N),p(j)}return(M||E)&&(x==null||x({nodes:N,edges:S})),{deletedNodes:N,deletedEdges:S}},getIntersectingNodes:(u,d=!0,m)=>{const y=Vr(u),g=y?u:c(u),w=m!==void 0;return g?(m||t.getState().nodes).filter(p=>{const b=t.getState().nodeLookup.get(p.id);if(b&&!y&&(p.id===u.id||!b.internals.positionAbsolute))return!1;const x=mt(w?p:b),v=Rt(x,g);return d&&v>0||v>=x.width*x.height||v>=g.width*g.height}):[]},isNodeIntersecting:(u,d,m=!0)=>{const g=Vr(u)?u:c(u);if(!g)return!1;const w=Rt(g,d);return m&&w>0||w>=d.width*d.height||w>=g.width*g.height},updateNode:l,updateNodeData:(u,d,m={replace:!1})=>{l(u,y=>{const g=typeof d=="function"?d(y):d;return m.replace?{...y,data:g}:{...y,data:{...y.data,...g}}},m)},updateEdge:f,updateEdgeData:(u,d,m={replace:!1})=>{f(u,y=>{const g=typeof d=="function"?d(y):d;return m.replace?{...y,data:g}:{...y,data:{...y.data,...g}}},m)},getNodesBounds:u=>{const{nodeLookup:d,nodeOrigin:m}=t.getState();return Ph(u,{nodeLookup:d,nodeOrigin:m})},getHandleConnections:({type:u,id:d,nodeId:m})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${m}-${u}${d?`-${d}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:u,handleId:d,nodeId:m})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${m}${u?d?`-${u}-${d}`:`-${u}`:""}`))==null?void 0:y.values())??[])},fitView:async u=>{const d=t.getState().fitViewResolver??Oh();return t.setState({fitViewQueued:!0,fitViewOptions:u,fitViewResolver:d}),n.nodeQueue.push(m=>[...m]),d.promise}}},[]);return L.useMemo(()=>({...r,...e,viewportInitialized:o}),[o])}const wi=e=>e.selected,ym=typeof window<"u"?window:void 0;function wm({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=re(),{deleteElements:o}=rr(),r=Ot(e,{actInsideInputWithModifier:!1}),i=Ot(t,{target:ym});L.useEffect(()=>{if(r){const{edges:s,nodes:a}=n.getState();o({nodes:a.filter(wi),edges:s.filter(wi)}),n.setState({nodesSelectionActive:!1})}},[r]),L.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function vm(e){const t=re();L.useEffect(()=>{const n=()=>{var r,i,s,a;if(!e.current||!(((i=(r=e.current).checkVisibility)==null?void 0:i.call(r))??!0))return!1;const o=Jo(e.current);(o.height===0||o.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",Ie.error004())),t.setState({width:o.width||500,height:o.height||500})};if(e.current){n(),window.addEventListener("resize",n);const o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}const Kn={position:"absolute",width:"100%",height:"100%",top:0,left:0},bm=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function _m({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:r=.5,panOnScrollMode:i=Ze.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:l,minZoom:f,maxZoom:u,zoomActivationKeyCode:d,preventScrolling:m=!0,children:y,noWheelClassName:g,noPanClassName:w,onViewportChange:p,isControlledViewport:b,paneClickDistance:x,selectionOnDrag:v}){const N=re(),S=L.useRef(null),{userSelectionActive:E,lib:M,connectionInProgress:j}=ne(bm,se),F=Ot(d),$=L.useRef();vm(S);const A=L.useCallback(z=>{p==null||p({x:z[0],y:z[1],zoom:z[2]}),b||N.setState({transform:z})},[p,b]);return L.useEffect(()=>{if(S.current){$.current=Eg({domNode:S.current,minZoom:f,maxZoom:u,translateExtent:l,viewport:c,onDraggingChange:k=>N.setState({paneDragging:k}),onPanZoomStart:(k,P)=>{const{onViewportChangeStart:T,onMoveStart:C}=N.getState();C==null||C(k,P),T==null||T(P)},onPanZoom:(k,P)=>{const{onViewportChange:T,onMove:C}=N.getState();C==null||C(k,P),T==null||T(P)},onPanZoomEnd:(k,P)=>{const{onViewportChangeEnd:T,onMoveEnd:C}=N.getState();C==null||C(k,P),T==null||T(P)}});const{x:z,y:_,zoom:I}=$.current.getViewport();return N.setState({panZoom:$.current,transform:[z,_,I],domNode:S.current.closest(".react-flow")}),()=>{var k;(k=$.current)==null||k.destroy()}}},[]),L.useEffect(()=>{var z;(z=$.current)==null||z.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:r,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:F,preventScrolling:m,noPanClassName:w,userSelectionActive:E,noWheelClassName:g,lib:M,onTransformChange:A,connectionInProgress:j,selectionOnDrag:v,paneClickDistance:x})},[e,t,n,o,r,i,s,a,F,m,w,E,g,M,A,j,v,x]),h.jsx("div",{className:"react-flow__renderer",ref:S,style:Kn,children:y})}const Sm=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Nm(){const{userSelectionActive:e,userSelectionRect:t}=ne(Sm,se);return e&&t?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const So=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Em=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Cm({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Bt.Full,panOnDrag:o,paneClickDistance:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:l,onPaneScroll:f,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:m,children:y}){const g=re(),{userSelectionActive:w,elementsSelectable:p,dragging:b,connectionInProgress:x}=ne(Em,se),v=p&&(e||w),N=L.useRef(null),S=L.useRef(),E=L.useRef(new Set),M=L.useRef(new Set),j=L.useRef(!1),F=T=>{if(j.current||x){j.current=!1;return}c==null||c(T),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},$=T=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){T.preventDefault();return}l==null||l(T)},A=f?T=>f(T):void 0,z=T=>{j.current&&(T.stopPropagation(),j.current=!1)},_=T=>{var U,K;const{domNode:C}=g.getState();if(S.current=C==null?void 0:C.getBoundingClientRect(),!S.current)return;const D=T.target===N.current;if(!D&&!!T.target.closest(".nokey")||!e||!(i&&D||t)||T.button!==0||!T.isPrimary)return;(K=(U=T.target)==null?void 0:U.setPointerCapture)==null||K.call(U,T.pointerId),j.current=!1;const{x:X,y:Y}=ve(T.nativeEvent,S.current);g.setState({userSelectionRect:{width:0,height:0,startX:X,startY:Y,x:X,y:Y}}),D||(T.stopPropagation(),T.preventDefault())},I=T=>{const{userSelectionRect:C,transform:D,nodeLookup:H,edgeLookup:R,connectionLookup:X,triggerNodeChanges:Y,triggerEdgeChanges:U,defaultEdgeOptions:K,resetSelectedElements:q}=g.getState();if(!S.current||!C)return;const{x:O,y:G}=ve(T.nativeEvent,S.current),{startX:J,startY:W}=C;if(!j.current){const ee=t?0:r;if(Math.hypot(O-J,G-W)<=ee)return;q(),s==null||s(T)}j.current=!0;const B={startX:J,startY:W,x:O<J?O:J,y:G<W?G:W,width:Math.abs(O-J),height:Math.abs(G-W)},V=E.current,Z=M.current;E.current=new Set(Zo(H,B,D,n===Bt.Partial,!0).map(ee=>ee.id)),M.current=new Set;const te=(K==null?void 0:K.selectable)??!0;for(const ee of E.current){const oe=X.get(ee);if(oe)for(const{edgeId:ce}of oe.values()){const le=R.get(ce);le&&(le.selectable??te)&&M.current.add(ce)}}if(!Yr(V,E.current)){const ee=at(H,E.current,!0);Y(ee)}if(!Yr(Z,M.current)){const ee=at(R,M.current);U(ee)}g.setState({userSelectionRect:B,userSelectionActive:!0,nodesSelectionActive:!1})},k=T=>{var C,D;T.button===0&&((D=(C=T.target)==null?void 0:C.releasePointerCapture)==null||D.call(C,T.pointerId),!w&&T.target===N.current&&g.getState().userSelectionRect&&(F==null||F(T)),g.setState({userSelectionActive:!1,userSelectionRect:null}),j.current&&(a==null||a(T),g.setState({nodesSelectionActive:E.current.size>0})))},P=o===!0||Array.isArray(o)&&o.includes(0);return h.jsxs("div",{className:ae(["react-flow__pane",{draggable:P,dragging:b,selection:e}]),onClick:v?void 0:So(F,N),onContextMenu:So($,N),onWheel:So(A,N),onPointerEnter:v?void 0:u,onPointerMove:v?I:d,onPointerUp:v?k:void 0,onPointerDownCapture:v?_:void 0,onClickCapture:v?z:void 0,onPointerLeave:m,ref:N,style:Kn,children:[y,h.jsx(Nm,{})]})}function Ho({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:a,onError:c}=t.getState(),l=a.get(e);if(!l){c==null||c("012",Ie.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var f;return(f=o==null?void 0:o.current)==null?void 0:f.blur()})):r([e])}function na({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:r,isSelectable:i,nodeClickDistance:s}){const a=re(),[c,l]=L.useState(!1),f=L.useRef();return L.useEffect(()=>{f.current=dg({getStoreItems:()=>a.getState(),onNodeMouseDown:u=>{Ho({id:u,store:a,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),L.useEffect(()=>{var u,d;if(t)(u=f.current)==null||u.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:i,nodeId:r,nodeClickDistance:s}),()=>{var m;(m=f.current)==null||m.destroy()}},[n,o,t,i,e,r]),c}const km=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function oa(){const e=re();return L.useCallback(n=>{const{nodeExtent:o,snapToGrid:r,snapGrid:i,nodesDraggable:s,onError:a,updateNodePositions:c,nodeLookup:l,nodeOrigin:f}=e.getState(),u=new Map,d=km(s),m=r?i[0]:5,y=r?i[1]:5,g=n.direction.x*m*n.factor,w=n.direction.y*y*n.factor;for(const[,p]of l){if(!d(p))continue;let b={x:p.internals.positionAbsolute.x+g,y:p.internals.positionAbsolute.y+w};r&&(b=Kt(b,i));const{position:x,positionAbsolute:v}=Ns({nodeId:p.id,nextPosition:b,nodeLookup:l,nodeExtent:o,nodeOrigin:f,onError:a});p.position=x,p.internals.positionAbsolute=v,u.set(p.id,p)}c(u)},[])}const ir=L.createContext(null),Mm=ir.Provider;ir.Consumer;const ra=()=>L.useContext(ir),Tm=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Im=(e,t,n)=>o=>{const{connectionClickStartHandle:r,connectionMode:i,connection:s}=o,{fromHandle:a,toHandle:c,isValid:l}=s,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.id)===t&&(r==null?void 0:r.type)===n,isPossibleEndHandle:i===ht.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!r,valid:f&&l}};function jm({type:e="source",position:t=Q.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:s,onConnect:a,children:c,className:l,onMouseDown:f,onTouchStart:u,...d},m){var I,k;const y=s||null,g=e==="target",w=re(),p=ra(),{connectOnClick:b,noPanClassName:x,rfId:v}=ne(Tm,se),{connectingFrom:N,connectingTo:S,clickConnecting:E,isPossibleEndHandle:M,connectionInProcess:j,clickConnectionInProcess:F,valid:$}=ne(Im(p,y,e),se);p||(k=(I=w.getState()).onError)==null||k.call(I,"010",Ie.error010());const A=P=>{const{defaultEdgeOptions:T,onConnect:C,hasDefaultEdges:D}=w.getState(),H={...T,...P};if(D){const{edges:R,setEdges:X}=w.getState();X(Uh(H,R))}C==null||C(H),a==null||a(H)},z=P=>{if(!p)return;const T=$s(P.nativeEvent);if(r&&(T&&P.button===0||!T)){const C=w.getState();Ro.onPointerDown(P.nativeEvent,{handleDomNode:P.currentTarget,autoPanOnConnect:C.autoPanOnConnect,connectionMode:C.connectionMode,connectionRadius:C.connectionRadius,domNode:C.domNode,nodeLookup:C.nodeLookup,lib:C.lib,isTarget:g,handleId:y,nodeId:p,flowId:C.rfId,panBy:C.panBy,cancelConnection:C.cancelConnection,onConnectStart:C.onConnectStart,onConnectEnd:C.onConnectEnd,updateConnection:C.updateConnection,onConnect:A,isValidConnection:n||C.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:C.autoPanSpeed,dragThreshold:C.connectionDragThreshold})}T?f==null||f(P):u==null||u(P)},_=P=>{const{onClickConnectStart:T,onClickConnectEnd:C,connectionClickStartHandle:D,connectionMode:H,isValidConnection:R,lib:X,rfId:Y,nodeLookup:U,connection:K}=w.getState();if(!p||!D&&!r)return;if(!D){T==null||T(P.nativeEvent,{nodeId:p,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:p,type:e,id:y}});return}const q=Is(P.target),O=n||R,{connection:G,isValid:J}=Ro.isValid(P.nativeEvent,{handle:{nodeId:p,id:y,type:e},connectionMode:H,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:O,flowId:Y,doc:q,lib:X,nodeLookup:U});J&&G&&A(G);const W=structuredClone(K);delete W.inProgress,W.toPosition=W.toHandle?W.toHandle.position:null,C==null||C(P,W),w.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":y,"data-nodeid":p,"data-handlepos":t,"data-id":`${v}-${p}-${y}-${e}`,className:ae(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,l,{source:!g,target:g,connectable:o,connectablestart:r,connectableend:i,clickconnecting:E,connectingfrom:N,connectingto:S,valid:$,connectionindicator:o&&(!j||M)&&(j||F?i:r)}]),onMouseDown:z,onTouchStart:z,onClick:b?_:void 0,ref:m,...d,children:c})}const zn=L.memo(ea(jm));function $m({data:e,isConnectable:t,sourcePosition:n=Q.Bottom}){return h.jsxs(h.Fragment,{children:[e==null?void 0:e.label,h.jsx(zn,{type:"source",position:n,isConnectable:t})]})}function Am({data:e,isConnectable:t,targetPosition:n=Q.Top,sourcePosition:o=Q.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(zn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,h.jsx(zn,{type:"source",position:o,isConnectable:t})]})}function Pm(){return null}function Lm({data:e,isConnectable:t,targetPosition:n=Q.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(zn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Bn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},vi={input:$m,default:Am,output:Lm,group:Pm};function Dm(e){var t,n,o,r;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((o=e.style)==null?void 0:o.width),height:e.height??((r=e.style)==null?void 0:r.height)}}const zm=e=>{const{width:t,height:n,x:o,y:r}=Ut(e.nodeLookup,{filter:i=>!!i.selected});return{width:we(t)?t:null,height:we(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${r}px)`}};function Bm({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=re(),{width:r,height:i,transformString:s,userSelectionActive:a}=ne(zm,se),c=oa(),l=L.useRef(null);if(L.useEffect(()=>{var d;n||(d=l.current)==null||d.focus({preventScroll:!0})},[n]),na({nodeRef:l}),a||!r||!i)return null;const f=e?d=>{const m=o.getState().nodes.filter(y=>y.selected);e(d,m)}:void 0,u=d=>{Object.prototype.hasOwnProperty.call(Bn,d.key)&&(d.preventDefault(),c({direction:Bn[d.key],factor:d.shiftKey?4:1}))};return h.jsx("div",{className:ae(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:h.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:u,style:{width:r,height:i}})})}const bi=typeof window<"u"?window:void 0,Rm=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function ia({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:l,selectionOnDrag:f,selectionMode:u,onSelectionStart:d,onSelectionEnd:m,multiSelectionKeyCode:y,panActivationKeyCode:g,zoomActivationKeyCode:w,elementsSelectable:p,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:v,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:M,defaultViewport:j,translateExtent:F,minZoom:$,maxZoom:A,preventScrolling:z,onSelectionContextMenu:_,noWheelClassName:I,noPanClassName:k,disableKeyboardA11y:P,onViewportChange:T,isControlledViewport:C}){const{nodesSelectionActive:D,userSelectionActive:H}=ne(Rm),R=Ot(l,{target:bi}),X=Ot(g,{target:bi}),Y=X||M,U=X||v,K=f&&Y!==!0,q=R||H||K;return wm({deleteKeyCode:c,multiSelectionKeyCode:y}),h.jsx(_m,{onPaneContextMenu:i,elementsSelectable:p,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:U,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:!R&&Y,defaultViewport:j,translateExtent:F,minZoom:$,maxZoom:A,zoomActivationKeyCode:w,preventScrolling:z,noWheelClassName:I,noPanClassName:k,onViewportChange:T,isControlledViewport:C,paneClickDistance:a,selectionOnDrag:K,children:h.jsxs(Cm,{onSelectionStart:d,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:Y,isSelecting:!!q,selectionMode:u,selectionKeyPressed:R,paneClickDistance:a,selectionOnDrag:K,children:[e,D&&h.jsx(Bm,{onSelectionContextMenu:_,noPanClassName:k,disableKeyboardA11y:P})]})})}ia.displayName="FlowRenderer";const Hm=L.memo(ia),Fm=e=>t=>e?Zo(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Om(e){return ne(L.useCallback(Fm(e),[e]),se)}const Vm=e=>e.updateNodeInternals;function Ym(){const e=ne(Vm),[t]=L.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const o=new Map;n.forEach(r=>{const i=r.target.getAttribute("data-id");o.set(i,{id:i,nodeElement:r.target,force:!0})}),e(o)}));return L.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Xm({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){const r=re(),i=L.useRef(null),s=L.useRef(null),a=L.useRef(e.sourcePosition),c=L.useRef(e.targetPosition),l=L.useRef(t),f=n&&!!e.internals.handleBounds;return L.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(o==null||o.unobserve(s.current)),o==null||o.observe(i.current),s.current=i.current)},[f,e.hidden]),L.useEffect(()=>()=>{s.current&&(o==null||o.unobserve(s.current),s.current=null)},[]),L.useEffect(()=>{if(i.current){const u=l.current!==t,d=a.current!==e.sourcePosition,m=c.current!==e.targetPosition;(u||d||m)&&(l.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,r.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function Wm({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:r,onContextMenu:i,onDoubleClick:s,nodesDraggable:a,elementsSelectable:c,nodesConnectable:l,nodesFocusable:f,resizeObserver:u,noDragClassName:d,noPanClassName:m,disableKeyboardA11y:y,rfId:g,nodeTypes:w,nodeClickDistance:p,onError:b}){const{node:x,internals:v,isParent:N}=ne(O=>{const G=O.nodeLookup.get(e),J=O.parentLookup.has(e);return{node:G,internals:G.internals,isParent:J}},se);let S=x.type||"default",E=(w==null?void 0:w[S])||vi[S];E===void 0&&(b==null||b("003",Ie.error003(S)),S="default",E=(w==null?void 0:w.default)||vi.default);const M=!!(x.draggable||a&&typeof x.draggable>"u"),j=!!(x.selectable||c&&typeof x.selectable>"u"),F=!!(x.connectable||l&&typeof x.connectable>"u"),$=!!(x.focusable||f&&typeof x.focusable>"u"),A=re(),z=Ms(x),_=Xm({node:x,nodeType:S,hasDimensions:z,resizeObserver:u}),I=na({nodeRef:_,disabled:x.hidden||!M,noDragClassName:d,handleSelector:x.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:p}),k=oa();if(x.hidden)return null;const P=Be(x),T=Dm(x),C=j||M||t||n||o||r,D=n?O=>n(O,{...v.userNode}):void 0,H=o?O=>o(O,{...v.userNode}):void 0,R=r?O=>r(O,{...v.userNode}):void 0,X=i?O=>i(O,{...v.userNode}):void 0,Y=s?O=>s(O,{...v.userNode}):void 0,U=O=>{const{selectNodesOnDrag:G,nodeDragThreshold:J}=A.getState();j&&(!G||!M||J>0)&&Ho({id:e,store:A,nodeRef:_}),t&&t(O,{...v.userNode})},K=O=>{if(!(js(O.nativeEvent)||y)){if(ws.includes(O.key)&&j){const G=O.key==="Escape";Ho({id:e,store:A,unselect:G,nodeRef:_})}else if(M&&x.selected&&Object.prototype.hasOwnProperty.call(Bn,O.key)){O.preventDefault();const{ariaLabelConfig:G}=A.getState();A.setState({ariaLiveMessage:G["node.a11yDescription.ariaLiveMessage"]({direction:O.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),k({direction:Bn[O.key],factor:O.shiftKey?4:1})}}},q=()=>{var Z;if(y||!((Z=_.current)!=null&&Z.matches(":focus-visible")))return;const{transform:O,width:G,height:J,autoPanOnNodeFocus:W,setCenter:B}=A.getState();if(!W)return;Zo(new Map([[e,x]]),{x:0,y:0,width:G,height:J},O,!0).length>0||B(x.position.x+P.width/2,x.position.y+P.height/2,{zoom:O[2]})};return h.jsx("div",{className:ae(["react-flow__node",`react-flow__node-${S}`,{[m]:M},x.className,{selected:x.selected,selectable:j,parent:N,draggable:M,dragging:I}]),ref:_,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:C?"all":"none",visibility:z?"visible":"hidden",...x.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:D,onMouseMove:H,onMouseLeave:R,onContextMenu:X,onClick:U,onDoubleClick:Y,onKeyDown:$?K:void 0,tabIndex:$?0:void 0,onFocus:$?q:void 0,role:x.ariaRole??($?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${Ks}-${g}`,"aria-label":x.ariaLabel,...x.domAttributes,children:h.jsx(Mm,{value:e,children:h.jsx(E,{id:e,data:x.data,type:S,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:x.selected??!1,selectable:j,draggable:M,deletable:x.deletable??!0,isConnectable:F,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:I,dragHandle:x.dragHandle,zIndex:v.z,parentId:x.parentId,...P})})})}var qm=L.memo(Wm);const Gm=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function sa(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:r,onError:i}=ne(Gm,se),s=Om(e.onlyRenderVisibleElements),a=Ym();return h.jsx("div",{className:"react-flow__nodes",style:Kn,children:s.map(c=>h.jsx(qm,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:r,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}sa.displayName="NodeRenderer";const Um=L.memo(sa);function Km(e){return ne(L.useCallback(n=>{if(!e)return n.edges.map(r=>r.id);const o=[];if(n.width&&n.height)for(const r of n.edges){const i=n.nodeLookup.get(r.source),s=n.nodeLookup.get(r.target);i&&s&&Wh({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&o.push(r.id)}return o},[e]),se)}const Zm=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return h.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Qm=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return h.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},_i={[Pn.Arrow]:Zm,[Pn.ArrowClosed]:Qm};function Jm(e){const t=re();return L.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(_i,e)?_i[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Ie.error009(e)),null)},[e])}const ep=({id:e,type:t,color:n,width:o=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const c=Jm(t);return c?h.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:h.jsx(c,{color:n,strokeWidth:s})}):null},aa=({defaultColor:e,rfId:t})=>{const n=ne(i=>i.edges),o=ne(i=>i.defaultEdgeOptions),r=L.useMemo(()=>eg(n,{id:t,defaultColor:e,defaultMarkerStart:o==null?void 0:o.markerStart,defaultMarkerEnd:o==null?void 0:o.markerEnd}),[n,o,t,e]);return r.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:r.map(i=>h.jsx(ep,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};aa.displayName="MarkerDefinitions";var tp=L.memo(aa);function ca({x:e,y:t,label:n,labelStyle:o,labelShowBg:r=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:c,className:l,...f}){const[u,d]=L.useState({x:1,y:0,width:0,height:0}),m=ae(["react-flow__edge-textwrapper",l]),y=L.useRef(null);return L.useEffect(()=>{if(y.current){const g=y.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?h.jsxs("g",{transform:`translate(${e-u.width/2} ${t-u.height/2})`,className:m,visibility:u.width?"visible":"hidden",...f,children:[r&&h.jsx("rect",{width:u.width+2*s[0],x:-s[0],y:-s[1],height:u.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),h.jsx("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:y,style:o,children:n}),c]}):null}ca.displayName="EdgeText";const np=L.memo(ca);function Zn({path:e,labelX:t,labelY:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:l=20,...f}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...f,d:e,fill:"none",className:ae(["react-flow__edge-path",f.className])}),l?h.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}):null,o&&we(t)&&we(n)?h.jsx(np,{x:t,y:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function Si({pos:e,x1:t,y1:n,x2:o,y2:r}){return e===Q.Left||e===Q.Right?[.5*(t+o),n]:[t,.5*(n+r)]}function la({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:o,targetY:r,targetPosition:i=Q.Top}){const[s,a]=Si({pos:n,x1:e,y1:t,x2:o,y2:r}),[c,l]=Si({pos:i,x1:o,y1:r,x2:e,y2:t}),[f,u,d,m]=As({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${a} ${c},${l} ${o},${r}`,f,u,d,m]}function ua(e){return L.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:s,targetPosition:a,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:w,interactionWidth:p})=>{const[b,x,v]=la({sourceX:n,sourceY:o,sourcePosition:s,targetX:r,targetY:i,targetPosition:a}),N=e.isInternal?void 0:t;return h.jsx(Zn,{id:N,path:b,labelX:x,labelY:v,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:w,interactionWidth:p})})}const op=ua({isInternal:!1}),da=ua({isInternal:!0});op.displayName="SimpleBezierEdge";da.displayName="SimpleBezierEdgeInternal";function fa(e){return L.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,sourcePosition:m=Q.Bottom,targetPosition:y=Q.Top,markerEnd:g,markerStart:w,pathOptions:p,interactionWidth:b})=>{const[x,v,N]=Do({sourceX:n,sourceY:o,sourcePosition:m,targetX:r,targetY:i,targetPosition:y,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),S=e.isInternal?void 0:t;return h.jsx(Zn,{id:S,path:x,labelX:v,labelY:N,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:w,interactionWidth:b})})}const ha=fa({isInternal:!1}),ga=fa({isInternal:!0});ha.displayName="SmoothStepEdge";ga.displayName="SmoothStepEdgeInternal";function ma(e){return L.memo(({id:t,...n})=>{var r;const o=e.isInternal?void 0:t;return h.jsx(ha,{...n,id:o,pathOptions:L.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(r=n.pathOptions)==null?void 0:r.offset])})})}const rp=ma({isInternal:!1}),pa=ma({isInternal:!0});rp.displayName="StepEdge";pa.displayName="StepEdgeInternal";function xa(e){return L.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:g})=>{const[w,p,b]=Ds({sourceX:n,sourceY:o,targetX:r,targetY:i}),x=e.isInternal?void 0:t;return h.jsx(Zn,{id:x,path:w,labelX:p,labelY:b,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:g})})}const ip=xa({isInternal:!1}),ya=xa({isInternal:!0});ip.displayName="StraightEdge";ya.displayName="StraightEdgeInternal";function wa(e){return L.memo(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:s=Q.Bottom,targetPosition:a=Q.Top,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:w,pathOptions:p,interactionWidth:b})=>{const[x,v,N]=Ps({sourceX:n,sourceY:o,sourcePosition:s,targetX:r,targetY:i,targetPosition:a,curvature:p==null?void 0:p.curvature}),S=e.isInternal?void 0:t;return h.jsx(Zn,{id:S,path:x,labelX:v,labelY:N,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:w,interactionWidth:b})})}const sp=wa({isInternal:!1}),va=wa({isInternal:!0});sp.displayName="BezierEdge";va.displayName="BezierEdgeInternal";const Ni={default:va,straight:ya,step:pa,smoothstep:ga,simplebezier:da},Ei={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ap=(e,t,n)=>n===Q.Left?e-t:n===Q.Right?e+t:e,cp=(e,t,n)=>n===Q.Top?e-t:n===Q.Bottom?e+t:e,Ci="react-flow__edgeupdater";function ki({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:r,onMouseEnter:i,onMouseOut:s,type:a}){return h.jsx("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:s,className:ae([Ci,`${Ci}-${a}`]),cx:ap(t,o,e),cy:cp(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function lp({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:r,targetX:i,targetY:s,sourcePosition:a,targetPosition:c,onReconnect:l,onReconnectStart:f,onReconnectEnd:u,setReconnecting:d,setUpdateHover:m}){const y=re(),g=(v,N)=>{if(v.button!==0)return;const{autoPanOnConnect:S,domNode:E,isValidConnection:M,connectionMode:j,connectionRadius:F,lib:$,onConnectStart:A,onConnectEnd:z,cancelConnection:_,nodeLookup:I,rfId:k,panBy:P,updateConnection:T}=y.getState(),C=N.type==="target",D=(X,Y)=>{d(!1),u==null||u(X,n,N.type,Y)},H=X=>l==null?void 0:l(n,X),R=(X,Y)=>{d(!0),f==null||f(v,n,N.type),A==null||A(X,Y)};Ro.onPointerDown(v.nativeEvent,{autoPanOnConnect:S,connectionMode:j,connectionRadius:F,domNode:E,handleId:N.id,nodeId:N.nodeId,nodeLookup:I,isTarget:C,edgeUpdaterType:N.type,lib:$,flowId:k,cancelConnection:_,panBy:P,isValidConnection:M,onConnect:H,onConnectStart:R,onConnectEnd:z,onReconnectEnd:D,updateConnection:T,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:v.currentTarget})},w=v=>g(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=v=>g(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),b=()=>m(!0),x=()=>m(!1);return h.jsxs(h.Fragment,{children:[(e===!0||e==="source")&&h.jsx(ki,{position:a,centerX:o,centerY:r,radius:t,onMouseDown:w,onMouseEnter:b,onMouseOut:x,type:"source"}),(e===!0||e==="target")&&h.jsx(ki,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:p,onMouseEnter:b,onMouseOut:x,type:"target"})]})}function up({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:r,onDoubleClick:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,reconnectRadius:f,onReconnect:u,onReconnectStart:d,onReconnectEnd:m,rfId:y,edgeTypes:g,noPanClassName:w,onError:p,disableKeyboardA11y:b}){let x=ne(B=>B.edgeLookup.get(e));const v=ne(B=>B.defaultEdgeOptions);x=v?{...v,...x}:x;let N=x.type||"default",S=(g==null?void 0:g[N])||Ni[N];S===void 0&&(p==null||p("011",Ie.error011(N)),N="default",S=(g==null?void 0:g.default)||Ni.default);const E=!!(x.focusable||t&&typeof x.focusable>"u"),M=typeof u<"u"&&(x.reconnectable||n&&typeof x.reconnectable>"u"),j=!!(x.selectable||o&&typeof x.selectable>"u"),F=L.useRef(null),[$,A]=L.useState(!1),[z,_]=L.useState(!1),I=re(),{zIndex:k,sourceX:P,sourceY:T,targetX:C,targetY:D,sourcePosition:H,targetPosition:R}=ne(L.useCallback(B=>{const V=B.nodeLookup.get(x.source),Z=B.nodeLookup.get(x.target);if(!V||!Z)return{zIndex:x.zIndex,...Ei};const te=Jh({id:e,sourceNode:V,targetNode:Z,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:B.connectionMode,onError:p});return{zIndex:Xh({selected:x.selected,zIndex:x.zIndex,sourceNode:V,targetNode:Z,elevateOnSelect:B.elevateEdgesOnSelect}),...te||Ei}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),se),X=L.useMemo(()=>x.markerStart?`url('#${zo(x.markerStart,y)}')`:void 0,[x.markerStart,y]),Y=L.useMemo(()=>x.markerEnd?`url('#${zo(x.markerEnd,y)}')`:void 0,[x.markerEnd,y]);if(x.hidden||P===null||T===null||C===null||D===null)return null;const U=B=>{var ee;const{addSelectedEdges:V,unselectNodesAndEdges:Z,multiSelectionActive:te}=I.getState();j&&(I.setState({nodesSelectionActive:!1}),x.selected&&te?(Z({nodes:[],edges:[x]}),(ee=F.current)==null||ee.blur()):V([e])),r&&r(B,x)},K=i?B=>{i(B,{...x})}:void 0,q=s?B=>{s(B,{...x})}:void 0,O=a?B=>{a(B,{...x})}:void 0,G=c?B=>{c(B,{...x})}:void 0,J=l?B=>{l(B,{...x})}:void 0,W=B=>{var V;if(!b&&ws.includes(B.key)&&j){const{unselectNodesAndEdges:Z,addSelectedEdges:te}=I.getState();B.key==="Escape"?((V=F.current)==null||V.blur(),Z({edges:[x]})):te([e])}};return h.jsx("svg",{style:{zIndex:k},children:h.jsxs("g",{className:ae(["react-flow__edge",`react-flow__edge-${N}`,x.className,w,{selected:x.selected,animated:x.animated,inactive:!j&&!r,updating:$,selectable:j}]),onClick:U,onDoubleClick:K,onContextMenu:q,onMouseEnter:O,onMouseMove:G,onMouseLeave:J,onKeyDown:E?W:void 0,tabIndex:E?0:void 0,role:x.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":E?`${Zs}-${y}`:void 0,ref:F,...x.domAttributes,children:[!z&&h.jsx(S,{id:e,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:j,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:P,sourceY:T,targetX:C,targetY:D,sourcePosition:H,targetPosition:R,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:X,markerEnd:Y,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),M&&h.jsx(lp,{edge:x,isReconnectable:M,reconnectRadius:f,onReconnect:u,onReconnectStart:d,onReconnectEnd:m,sourceX:P,sourceY:T,targetX:C,targetY:D,sourcePosition:H,targetPosition:R,setUpdateHover:A,setReconnecting:_})]})})}var dp=L.memo(up);const fp=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ba({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:r,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:l,onEdgeClick:f,reconnectRadius:u,onEdgeDoubleClick:d,onReconnectStart:m,onReconnectEnd:y,disableKeyboardA11y:g}){const{edgesFocusable:w,edgesReconnectable:p,elementsSelectable:b,onError:x}=ne(fp,se),v=Km(t);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(tp,{defaultColor:e,rfId:n}),v.map(N=>h.jsx(dp,{id:N,edgesFocusable:w,edgesReconnectable:p,elementsSelectable:b,noPanClassName:r,onReconnect:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,onClick:f,reconnectRadius:u,onDoubleClick:d,onReconnectStart:m,onReconnectEnd:y,rfId:n,onError:x,edgeTypes:o,disableKeyboardA11y:g},N))]})}ba.displayName="EdgeRenderer";const hp=L.memo(ba),gp=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function mp({children:e}){const t=ne(gp);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function pp(e){const t=rr(),n=L.useRef(!1);L.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const xp=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function yp(e){const t=ne(xp),n=re();return L.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function wp(e){return e.connection.inProgress?{...e.connection,to:Zt(e.connection.to,e.transform)}:{...e.connection}}function vp(e){return wp}function bp(e){const t=vp();return ne(t,se)}const _p=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Sp({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:r,width:i,height:s,isValid:a,inProgress:c}=ne(_p,se);return!(i&&r&&c)?null:h.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:ae(["react-flow__connection",_s(a)]),children:h.jsx(_a,{style:t,type:n,CustomComponent:o,isValid:a})})})}const _a=({style:e,type:t=Ve.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:r,from:i,fromNode:s,fromHandle:a,fromPosition:c,to:l,toNode:f,toHandle:u,toPosition:d,pointer:m}=bp();if(!r)return;if(n)return h.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:i.x,fromY:i.y,toX:l.x,toY:l.y,fromPosition:c,toPosition:d,connectionStatus:_s(o),toNode:f,toHandle:u,pointer:m});let y="";const g={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:l.x,targetY:l.y,targetPosition:d};switch(t){case Ve.Bezier:[y]=Ps(g);break;case Ve.SimpleBezier:[y]=la(g);break;case Ve.Step:[y]=Do({...g,borderRadius:0});break;case Ve.SmoothStep:[y]=Do(g);break;default:[y]=Ds(g)}return h.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};_a.displayName="ConnectionLine";const Np={};function Mi(e=Np){L.useRef(e),re(),L.useEffect(()=>{},[e])}function Ep(){re(),L.useRef(!1),L.useEffect(()=>{},[])}function Sa({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:r,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:f,onSelectionContextMenu:u,onSelectionStart:d,onSelectionEnd:m,connectionLineType:y,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:p,selectionKeyCode:b,selectionOnDrag:x,selectionMode:v,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:E,deleteKeyCode:M,onlyRenderVisibleElements:j,elementsSelectable:F,defaultViewport:$,translateExtent:A,minZoom:z,maxZoom:_,preventScrolling:I,defaultMarkerColor:k,zoomOnScroll:P,zoomOnPinch:T,panOnScroll:C,panOnScrollSpeed:D,panOnScrollMode:H,zoomOnDoubleClick:R,panOnDrag:X,onPaneClick:Y,onPaneMouseEnter:U,onPaneMouseMove:K,onPaneMouseLeave:q,onPaneScroll:O,onPaneContextMenu:G,paneClickDistance:J,nodeClickDistance:W,onEdgeContextMenu:B,onEdgeMouseEnter:V,onEdgeMouseMove:Z,onEdgeMouseLeave:te,reconnectRadius:ee,onReconnect:oe,onReconnectStart:ce,onReconnectEnd:le,noDragClassName:he,noWheelClassName:Ne,noPanClassName:$e,disableKeyboardA11y:Ae,nodeExtent:ot,rfId:Xe,viewport:Re,onViewportChange:He}){return Mi(e),Mi(t),Ep(),pp(n),yp(Re),h.jsx(Hm,{onPaneClick:Y,onPaneMouseEnter:U,onPaneMouseMove:K,onPaneMouseLeave:q,onPaneContextMenu:G,onPaneScroll:O,paneClickDistance:J,deleteKeyCode:M,selectionKeyCode:b,selectionOnDrag:x,selectionMode:v,onSelectionStart:d,onSelectionEnd:m,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:F,zoomOnScroll:P,zoomOnPinch:T,zoomOnDoubleClick:R,panOnScroll:C,panOnScrollSpeed:D,panOnScrollMode:H,panOnDrag:X,defaultViewport:$,translateExtent:A,minZoom:z,maxZoom:_,onSelectionContextMenu:u,preventScrolling:I,noDragClassName:he,noWheelClassName:Ne,noPanClassName:$e,disableKeyboardA11y:Ae,onViewportChange:He,isControlledViewport:!!Re,children:h.jsxs(mp,{children:[h.jsx(hp,{edgeTypes:t,onEdgeClick:r,onEdgeDoubleClick:s,onReconnect:oe,onReconnectStart:ce,onReconnectEnd:le,onlyRenderVisibleElements:j,onEdgeContextMenu:B,onEdgeMouseEnter:V,onEdgeMouseMove:Z,onEdgeMouseLeave:te,reconnectRadius:ee,defaultMarkerColor:k,noPanClassName:$e,disableKeyboardA11y:Ae,rfId:Xe}),h.jsx(Sp,{style:g,type:y,component:w,containerStyle:p}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(Um,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:f,nodeClickDistance:W,onlyRenderVisibleElements:j,noPanClassName:$e,noDragClassName:he,disableKeyboardA11y:Ae,nodeExtent:ot,rfId:Xe}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}Sa.displayName="GraphView";const Cp=L.memo(Sa),Ti=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:s,fitViewOptions:a,minZoom:c=.5,maxZoom:l=2,nodeOrigin:f,nodeExtent:u}={})=>{const d=new Map,m=new Map,y=new Map,g=new Map,w=o??t??[],p=n??e??[],b=f??[0,0],x=u??zt;Rs(y,g,w);const v=Bo(p,d,m,{nodeOrigin:b,nodeExtent:x,elevateNodesOnSelect:!1});let N=[0,0,1];if(s&&r&&i){const S=Ut(d,{filter:F=>!!((F.width||F.initialWidth)&&(F.height||F.initialHeight))}),{x:E,y:M,zoom:j}=Qo(S,r,i,c,l,(a==null?void 0:a.padding)??.1);N=[E,M,j]}return{rfId:"1",width:r??0,height:i??0,transform:N,nodes:p,nodesInitialized:v,nodeLookup:d,parentLookup:m,edges:w,edgeLookup:g,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:c,maxZoom:l,translateExtent:zt,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ht.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...bs},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Rh,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:vs}},kp=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:f,nodeExtent:u})=>Vg((d,m)=>{async function y(){const{nodeLookup:g,panZoom:w,fitViewOptions:p,fitViewResolver:b,width:x,height:v,minZoom:N,maxZoom:S}=m();w&&(await zh({nodes:g,width:x,height:v,panZoom:w,minZoom:N,maxZoom:S},p),b==null||b.resolve(!0),d({fitViewResolver:null}))}return{...Ti({nodes:e,edges:t,width:r,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:f,nodeExtent:u,defaultNodes:n,defaultEdges:o}),setNodes:g=>{const{nodeLookup:w,parentLookup:p,nodeOrigin:b,elevateNodesOnSelect:x,fitViewQueued:v}=m(),N=Bo(g,w,p,{nodeOrigin:b,nodeExtent:u,elevateNodesOnSelect:x,checkEquality:!0});v&&N?(y(),d({nodes:g,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:g,nodesInitialized:N})},setEdges:g=>{const{connectionLookup:w,edgeLookup:p}=m();Rs(w,p,g),d({edges:g})},setDefaultNodesAndEdges:(g,w)=>{if(g){const{setNodes:p}=m();p(g),d({hasDefaultNodes:!0})}if(w){const{setEdges:p}=m();p(w),d({hasDefaultEdges:!0})}},updateNodeInternals:g=>{const{triggerNodeChanges:w,nodeLookup:p,parentLookup:b,domNode:x,nodeOrigin:v,nodeExtent:N,debug:S,fitViewQueued:E}=m(),{changes:M,updatedInternals:j}=ag(g,p,b,x,v,N);j&&(og(p,b,{nodeOrigin:v,nodeExtent:N}),E?(y(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(M==null?void 0:M.length)>0&&(S&&console.log("React Flow: trigger node changes",M),w==null||w(M)))},updateNodePositions:(g,w=!1)=>{const p=[],b=[],{nodeLookup:x,triggerNodeChanges:v}=m();for(const[N,S]of g){const E=x.get(N),M=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(S!=null&&S.position)),j={id:N,type:"position",position:M?{x:Math.max(0,S.position.x),y:Math.max(0,S.position.y)}:S.position,dragging:w};M&&E.parentId&&p.push({id:N,parentId:E.parentId,rect:{...S.internals.positionAbsolute,width:S.measured.width??0,height:S.measured.height??0}}),b.push(j)}if(p.length>0){const{parentLookup:N,nodeOrigin:S}=m(),E=or(p,x,N,S);b.push(...E)}v(b)},triggerNodeChanges:g=>{const{onNodesChange:w,setNodes:p,nodes:b,hasDefaultNodes:x,debug:v}=m();if(g!=null&&g.length){if(x){const N=um(g,b);p(N)}v&&console.log("React Flow: trigger node changes",g),w==null||w(g)}},triggerEdgeChanges:g=>{const{onEdgesChange:w,setEdges:p,edges:b,hasDefaultEdges:x,debug:v}=m();if(g!=null&&g.length){if(x){const N=dm(g,b);p(N)}v&&console.log("React Flow: trigger edge changes",g),w==null||w(g)}},addSelectedNodes:g=>{const{multiSelectionActive:w,edgeLookup:p,nodeLookup:b,triggerNodeChanges:x,triggerEdgeChanges:v}=m();if(w){const N=g.map(S=>qe(S,!0));x(N);return}x(at(b,new Set([...g]),!0)),v(at(p))},addSelectedEdges:g=>{const{multiSelectionActive:w,edgeLookup:p,nodeLookup:b,triggerNodeChanges:x,triggerEdgeChanges:v}=m();if(w){const N=g.map(S=>qe(S,!0));v(N);return}v(at(p,new Set([...g]))),x(at(b,new Set,!0))},unselectNodesAndEdges:({nodes:g,edges:w}={})=>{const{edges:p,nodes:b,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:N}=m(),S=g||b,E=w||p,M=S.map(F=>{const $=x.get(F.id);return $&&($.selected=!1),qe(F.id,!1)}),j=E.map(F=>qe(F.id,!1));v(M),N(j)},setMinZoom:g=>{const{panZoom:w,maxZoom:p}=m();w==null||w.setScaleExtent([g,p]),d({minZoom:g})},setMaxZoom:g=>{const{panZoom:w,minZoom:p}=m();w==null||w.setScaleExtent([p,g]),d({maxZoom:g})},setTranslateExtent:g=>{var w;(w=m().panZoom)==null||w.setTranslateExtent(g),d({translateExtent:g})},resetSelectedElements:()=>{const{edges:g,nodes:w,triggerNodeChanges:p,triggerEdgeChanges:b,elementsSelectable:x}=m();if(!x)return;const v=w.reduce((S,E)=>E.selected?[...S,qe(E.id,!1)]:S,[]),N=g.reduce((S,E)=>E.selected?[...S,qe(E.id,!1)]:S,[]);p(v),b(N)},setNodeExtent:g=>{const{nodes:w,nodeLookup:p,parentLookup:b,nodeOrigin:x,elevateNodesOnSelect:v,nodeExtent:N}=m();g[0][0]===N[0][0]&&g[0][1]===N[0][1]&&g[1][0]===N[1][0]&&g[1][1]===N[1][1]||(Bo(w,p,b,{nodeOrigin:x,nodeExtent:g,elevateNodesOnSelect:v,checkEquality:!1}),d({nodeExtent:g}))},panBy:g=>{const{transform:w,width:p,height:b,panZoom:x,translateExtent:v}=m();return cg({delta:g,panZoom:x,transform:w,translateExtent:v,width:p,height:b})},setCenter:async(g,w,p)=>{const{width:b,height:x,maxZoom:v,panZoom:N}=m();if(!N)return Promise.resolve(!1);const S=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:v;return await N.setViewport({x:b/2-g*S,y:x/2-w*S,zoom:S},{duration:p==null?void 0:p.duration,ease:p==null?void 0:p.ease,interpolate:p==null?void 0:p.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...bs}})},updateConnection:g=>{d({connection:g})},reset:()=>d({...Ti()})}},Object.is);function Mp({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:r,initialHeight:i,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:c,fitView:l,nodeOrigin:f,nodeExtent:u,children:d}){const[m]=L.useState(()=>kp({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:l,minZoom:s,maxZoom:a,fitViewOptions:c,nodeOrigin:f,nodeExtent:u}));return h.jsx(Yg,{value:m,children:h.jsx(mm,{children:d})})}function Tp({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:r,width:i,height:s,fitView:a,fitViewOptions:c,minZoom:l,maxZoom:f,nodeOrigin:u,nodeExtent:d}){return L.useContext(Gn)?h.jsx(h.Fragment,{children:e}):h.jsx(Mp,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:a,initialFitViewOptions:c,initialMinZoom:l,initialMaxZoom:f,nodeOrigin:u,nodeExtent:d,children:e})}const Ip={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function jp({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:r,nodeTypes:i,edgeTypes:s,onNodeClick:a,onEdgeClick:c,onInit:l,onMove:f,onMoveStart:u,onMoveEnd:d,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:p,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:N,onNodeDoubleClick:S,onNodeDragStart:E,onNodeDrag:M,onNodeDragStop:j,onNodesDelete:F,onEdgesDelete:$,onDelete:A,onSelectionChange:z,onSelectionDragStart:_,onSelectionDrag:I,onSelectionDragStop:k,onSelectionContextMenu:P,onSelectionStart:T,onSelectionEnd:C,onBeforeDelete:D,connectionMode:H,connectionLineType:R=Ve.Bezier,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:U,deleteKeyCode:K="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:O=!1,selectionMode:G=Bt.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:W=Ht()?"Meta":"Control",zoomActivationKeyCode:B=Ht()?"Meta":"Control",snapToGrid:V,snapGrid:Z,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ee,nodesDraggable:oe,autoPanOnNodeFocus:ce,nodesConnectable:le,nodesFocusable:he,nodeOrigin:Ne=Qs,edgesFocusable:$e,edgesReconnectable:Ae,elementsSelectable:ot=!0,defaultViewport:Xe=om,minZoom:Re=.5,maxZoom:He=2,translateExtent:Jt=zt,preventScrolling:yt=!0,nodeExtent:Ee,defaultMarkerColor:wt="#b1b1b7",zoomOnScroll:vt=!0,zoomOnPinch:rt=!0,panOnScroll:Jn=!1,panOnScrollSpeed:eo=.5,panOnScrollMode:to=Ze.Free,zoomOnDoubleClick:no=!0,panOnDrag:oo=!0,onPaneClick:en,onPaneMouseEnter:ro,onPaneMouseMove:tn,onPaneMouseLeave:nn,onPaneScroll:on,onPaneContextMenu:io,paneClickDistance:rn=1,nodeClickDistance:sn=0,children:so,onReconnect:$a,onReconnectStart:Aa,onReconnectEnd:Pa,onEdgeContextMenu:La,onEdgeDoubleClick:Da,onEdgeMouseEnter:za,onEdgeMouseMove:Ba,onEdgeMouseLeave:Ra,reconnectRadius:Ha=10,onNodesChange:Fa,onEdgesChange:Oa,noDragClassName:Va="nodrag",noWheelClassName:Ya="nowheel",noPanClassName:fr="nopan",fitView:hr,fitViewOptions:gr,connectOnClick:Xa,attributionPosition:Wa,proOptions:qa,defaultEdgeOptions:Ga,elevateNodesOnSelect:Ua,elevateEdgesOnSelect:Ka,disableKeyboardA11y:mr=!1,autoPanOnConnect:Za,autoPanOnNodeDrag:Qa,autoPanSpeed:Ja,connectionRadius:ec,isValidConnection:tc,onError:nc,style:oc,id:pr,nodeDragThreshold:rc,connectionDragThreshold:ic,viewport:sc,onViewportChange:ac,width:cc,height:lc,colorMode:uc="light",debug:dc,onScroll:an,ariaLabelConfig:fc,...hc},gc){const ao=pr||"1",mc=am(uc),pc=L.useCallback(xr=>{xr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),an==null||an(xr)},[an]);return h.jsx("div",{"data-testid":"rf__wrapper",...hc,onScroll:pc,style:{...oc,...Ip},ref:gc,className:ae(["react-flow",r,mc]),id:pr,role:"application",children:h.jsxs(Tp,{nodes:e,edges:t,width:cc,height:lc,fitView:hr,fitViewOptions:gr,minZoom:Re,maxZoom:He,nodeOrigin:Ne,nodeExtent:Ee,children:[h.jsx(Cp,{onInit:l,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:N,onNodeDoubleClick:S,nodeTypes:i,edgeTypes:s,connectionLineType:R,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:U,selectionKeyCode:q,selectionOnDrag:O,selectionMode:G,deleteKeyCode:K,multiSelectionKeyCode:W,panActivationKeyCode:J,zoomActivationKeyCode:B,onlyRenderVisibleElements:te,defaultViewport:Xe,translateExtent:Jt,minZoom:Re,maxZoom:He,preventScrolling:yt,zoomOnScroll:vt,zoomOnPinch:rt,zoomOnDoubleClick:no,panOnScroll:Jn,panOnScrollSpeed:eo,panOnScrollMode:to,panOnDrag:oo,onPaneClick:en,onPaneMouseEnter:ro,onPaneMouseMove:tn,onPaneMouseLeave:nn,onPaneScroll:on,onPaneContextMenu:io,paneClickDistance:rn,nodeClickDistance:sn,onSelectionContextMenu:P,onSelectionStart:T,onSelectionEnd:C,onReconnect:$a,onReconnectStart:Aa,onReconnectEnd:Pa,onEdgeContextMenu:La,onEdgeDoubleClick:Da,onEdgeMouseEnter:za,onEdgeMouseMove:Ba,onEdgeMouseLeave:Ra,reconnectRadius:Ha,defaultMarkerColor:wt,noDragClassName:Va,noWheelClassName:Ya,noPanClassName:fr,rfId:ao,disableKeyboardA11y:mr,nodeExtent:Ee,viewport:sc,onViewportChange:ac}),h.jsx(sm,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:p,nodesDraggable:oe,autoPanOnNodeFocus:ce,nodesConnectable:le,nodesFocusable:he,edgesFocusable:$e,edgesReconnectable:Ae,elementsSelectable:ot,elevateNodesOnSelect:Ua,elevateEdgesOnSelect:Ka,minZoom:Re,maxZoom:He,nodeExtent:Ee,onNodesChange:Fa,onEdgesChange:Oa,snapToGrid:V,snapGrid:Z,connectionMode:H,translateExtent:Jt,connectOnClick:Xa,defaultEdgeOptions:Ga,fitView:hr,fitViewOptions:gr,onNodesDelete:F,onEdgesDelete:$,onDelete:A,onNodeDragStart:E,onNodeDrag:M,onNodeDragStop:j,onSelectionDrag:I,onSelectionDragStart:_,onSelectionDragStop:k,onMove:f,onMoveStart:u,onMoveEnd:d,noPanClassName:fr,nodeOrigin:Ne,rfId:ao,autoPanOnConnect:Za,autoPanOnNodeDrag:Qa,autoPanSpeed:Ja,onError:nc,connectionRadius:ec,isValidConnection:tc,selectNodesOnDrag:ee,nodeDragThreshold:rc,connectionDragThreshold:ic,onBeforeDelete:D,debug:dc,ariaLabelConfig:fc}),h.jsx(nm,{onSelectionChange:z}),so,h.jsx(Zg,{proOptions:qa,position:Wa}),h.jsx(Kg,{rfId:ao,disableKeyboardA11y:mr})]})})}var $p=ea(jp);function Ap({dimensions:e,lineWidth:t,variant:n,className:o}){return h.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ae(["react-flow__background-pattern",n,o])})}function Pp({radius:e,className:t}){return h.jsx("circle",{cx:e,cy:e,r:e,className:ae(["react-flow__background-pattern","dots",t])})}var Ye;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ye||(Ye={}));const Lp={[Ye.Dots]:1,[Ye.Lines]:1,[Ye.Cross]:6},Dp=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Na({id:e,variant:t=Ye.Dots,gap:n=20,size:o,lineWidth:r=1,offset:i=0,color:s,bgColor:a,style:c,className:l,patternClassName:f}){const u=L.useRef(null),{transform:d,patternId:m}=ne(Dp,se),y=o||Lp[t],g=t===Ye.Dots,w=t===Ye.Cross,p=Array.isArray(n)?n:[n,n],b=[p[0]*d[2]||1,p[1]*d[2]||1],x=y*d[2],v=Array.isArray(i)?i:[i,i],N=w?[x,x]:b,S=[v[0]*d[2]||1+N[0]/2,v[1]*d[2]||1+N[1]/2],E=`${m}${e||""}`;return h.jsxs("svg",{className:ae(["react-flow__background",l]),style:{...c,...Kn,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:u,"data-testid":"rf__background",children:[h.jsx("pattern",{id:E,x:d[0]%b[0],y:d[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:g?h.jsx(Pp,{radius:x/2,className:f}):h.jsx(Ap,{dimensions:N,lineWidth:r,variant:t,className:f})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}Na.displayName="Background";const zp=L.memo(Na);function Bp(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Rp(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Hp(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Fp(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Op(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function wn({children:e,className:t,...n}){return h.jsx("button",{type:"button",className:ae(["react-flow__controls-button",t]),...n,children:e})}const Vp=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Ea({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:s,onFitView:a,onInteractiveChange:c,className:l,children:f,position:u="bottom-left",orientation:d="vertical","aria-label":m}){const y=re(),{isInteractive:g,minZoomReached:w,maxZoomReached:p,ariaLabelConfig:b}=ne(Vp,se),{zoomIn:x,zoomOut:v,fitView:N}=rr(),S=()=>{x(),i==null||i()},E=()=>{v(),s==null||s()},M=()=>{N(r),a==null||a()},j=()=>{y.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)},F=d==="horizontal"?"horizontal":"vertical";return h.jsxs(Un,{className:ae(["react-flow__controls",F,l]),position:u,style:e,"data-testid":"rf__controls","aria-label":m??b["controls.ariaLabel"],children:[t&&h.jsxs(h.Fragment,{children:[h.jsx(wn,{onClick:S,className:"react-flow__controls-zoomin",title:b["controls.zoomIn.ariaLabel"],"aria-label":b["controls.zoomIn.ariaLabel"],disabled:p,children:h.jsx(Bp,{})}),h.jsx(wn,{onClick:E,className:"react-flow__controls-zoomout",title:b["controls.zoomOut.ariaLabel"],"aria-label":b["controls.zoomOut.ariaLabel"],disabled:w,children:h.jsx(Rp,{})})]}),n&&h.jsx(wn,{className:"react-flow__controls-fitview",onClick:M,title:b["controls.fitView.ariaLabel"],"aria-label":b["controls.fitView.ariaLabel"],children:h.jsx(Hp,{})}),o&&h.jsx(wn,{className:"react-flow__controls-interactive",onClick:j,title:b["controls.interactive.ariaLabel"],"aria-label":b["controls.interactive.ariaLabel"],children:g?h.jsx(Op,{}):h.jsx(Fp,{})}),f]})}Ea.displayName="Controls";const Yp=L.memo(Ea);function Xp({id:e,x:t,y:n,width:o,height:r,style:i,color:s,strokeColor:a,strokeWidth:c,className:l,borderRadius:f,shapeRendering:u,selected:d,onClick:m}){const{background:y,backgroundColor:g}=i||{},w=s||y||g;return h.jsx("rect",{className:ae(["react-flow__minimap-node",{selected:d},l]),x:t,y:n,rx:f,ry:f,width:o,height:r,style:{fill:w,stroke:a,strokeWidth:c},shapeRendering:u,onClick:m?p=>m(p,e):void 0})}const Wp=L.memo(Xp),qp=e=>e.nodes.map(t=>t.id),No=e=>e instanceof Function?e:()=>e;function Gp({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:r,nodeComponent:i=Wp,onClick:s}){const a=ne(qp,se),c=No(t),l=No(e),f=No(n),u=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:a.map(d=>h.jsx(Kp,{id:d,nodeColorFunc:c,nodeStrokeColorFunc:l,nodeClassNameFunc:f,nodeBorderRadius:o,nodeStrokeWidth:r,NodeComponent:i,onClick:s,shapeRendering:u},d))})}function Up({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:r,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:a,onClick:c}){const{node:l,x:f,y:u,width:d,height:m}=ne(y=>{const{internals:g}=y.nodeLookup.get(e),w=g.userNode,{x:p,y:b}=g.positionAbsolute,{width:x,height:v}=Be(w);return{node:w,x:p,y:b,width:x,height:v}},se);return!l||l.hidden||!Ms(l)?null:h.jsx(a,{x:f,y:u,width:d,height:m,style:l.style,selected:!!l.selected,className:o(l),color:t(l),borderRadius:r,strokeColor:n(l),strokeWidth:i,shapeRendering:s,onClick:c,id:l.id})}const Kp=L.memo(Up);var Zp=L.memo(Gp);const Qp=200,Jp=150,e0=e=>!e.hidden,t0=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?ks(Ut(e.nodeLookup,{filter:e0}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},n0="react-flow__minimap-desc";function Ca({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:c,maskColor:l,maskStrokeColor:f,maskStrokeWidth:u,position:d="bottom-right",onClick:m,onNodeClick:y,pannable:g=!1,zoomable:w=!1,ariaLabel:p,inversePan:b,zoomStep:x=1,offsetScale:v=5}){const N=re(),S=L.useRef(null),{boundingRect:E,viewBB:M,rfId:j,panZoom:F,translateExtent:$,flowWidth:A,flowHeight:z,ariaLabelConfig:_}=ne(t0,se),I=(e==null?void 0:e.width)??Qp,k=(e==null?void 0:e.height)??Jp,P=E.width/I,T=E.height/k,C=Math.max(P,T),D=C*I,H=C*k,R=v*C,X=E.x-(D-E.width)/2-R,Y=E.y-(H-E.height)/2-R,U=D+R*2,K=H+R*2,q=`${n0}-${j}`,O=L.useRef(0),G=L.useRef();O.current=C,L.useEffect(()=>{if(S.current&&F)return G.current=xg({domNode:S.current,panZoom:F,getTransform:()=>N.getState().transform,getViewScale:()=>O.current}),()=>{var V;(V=G.current)==null||V.destroy()}},[F]),L.useEffect(()=>{var V;(V=G.current)==null||V.update({translateExtent:$,width:A,height:z,inversePan:b,pannable:g,zoomStep:x,zoomable:w})},[g,w,b,x,$,A,z]);const J=m?V=>{var ee;const[Z,te]=((ee=G.current)==null?void 0:ee.pointer(V))||[0,0];m(V,{x:Z,y:te})}:void 0,W=y?L.useCallback((V,Z)=>{const te=N.getState().nodeLookup.get(Z).internals.userNode;y(V,te)},[]):void 0,B=p??_["minimap.ariaLabel"];return h.jsx(Un,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof u=="number"?u*C:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ae(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:I,height:k,viewBox:`${X} ${Y} ${U} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:S,onClick:J,children:[B&&h.jsx("title",{id:q,children:B}),h.jsx(Zp,{onClick:W,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:r,nodeStrokeWidth:s,nodeComponent:a}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-R},${Y-R}h${U+R*2}v${K+R*2}h${-U-R*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ca.displayName="MiniMap";L.memo(Ca);const o0=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,r0={[xt.Line]:"right",[xt.Handle]:"bottom-right"};function i0({nodeId:e,position:t,variant:n=xt.Handle,className:o,style:r=void 0,children:i,color:s,minWidth:a=10,minHeight:c=10,maxWidth:l=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:u=!1,resizeDirection:d,autoScale:m=!0,shouldResize:y,onResizeStart:g,onResize:w,onResizeEnd:p}){const b=ra(),x=typeof e=="string"?e:b,v=re(),N=L.useRef(null),S=n===xt.Handle,E=ne(L.useCallback(o0(S&&m),[S,m]),se),M=L.useRef(null),j=t??r0[n];L.useEffect(()=>{if(!(!N.current||!x))return M.current||(M.current=jg({domNode:N.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:$,transform:A,snapGrid:z,snapToGrid:_,nodeOrigin:I,domNode:k}=v.getState();return{nodeLookup:$,transform:A,snapGrid:z,snapToGrid:_,nodeOrigin:I,paneDomNode:k}},onChange:($,A)=>{const{triggerNodeChanges:z,nodeLookup:_,parentLookup:I,nodeOrigin:k}=v.getState(),P=[],T={x:$.x,y:$.y},C=_.get(x);if(C&&C.expandParent&&C.parentId){const D=C.origin??k,H=$.width??C.measured.width??0,R=$.height??C.measured.height??0,X={id:C.id,parentId:C.parentId,rect:{width:H,height:R,...Ts({x:$.x??C.position.x,y:$.y??C.position.y},{width:H,height:R},C.parentId,_,D)}},Y=or([X],_,I,k);P.push(...Y),T.x=$.x?Math.max(D[0]*H,$.x):void 0,T.y=$.y?Math.max(D[1]*R,$.y):void 0}if(T.x!==void 0&&T.y!==void 0){const D={id:x,type:"position",position:{...T}};P.push(D)}if($.width!==void 0&&$.height!==void 0){const H={id:x,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:$.width,height:$.height}};P.push(H)}for(const D of A){const H={...D,type:"position"};P.push(H)}z(P)},onEnd:({width:$,height:A})=>{const z={id:x,type:"dimensions",resizing:!1,dimensions:{width:$,height:A}};v.getState().triggerNodeChanges([z])}})),M.current.update({controlPosition:j,boundaries:{minWidth:a,minHeight:c,maxWidth:l,maxHeight:f},keepAspectRatio:u,resizeDirection:d,onResizeStart:g,onResize:w,onResizeEnd:p,shouldResize:y}),()=>{var $;($=M.current)==null||$.destroy()}},[j,a,c,l,f,u,g,w,p,y]);const F=j.split("-");return h.jsx("div",{className:ae(["react-flow__resize-control","nodrag",...F,n,o]),ref:N,style:{...r,scale:E,...s&&{[S?"backgroundColor":"borderColor"]:s}},children:i})}L.memo(i0);const s0=[{id:"css",position:{x:100,y:0},data:{label:"CSS"}},{id:"scss",position:{x:100,y:100},data:{label:"Scss / Sass"}},{id:"tailwind",position:{x:300,y:100},data:{label:"Tailwind"}},{id:"styled",position:{x:-100,y:100},data:{label:"Styled components"}}],a0=[{id:"css-scss",source:"css",target:"scss"},{id:"css-tailwind",source:"css",target:"tailwind"},{id:"css-styled",source:"css",target:"styled"}],c0=[{id:"js",position:{x:700,y:0},data:{label:"Js"}},{id:"ts",position:{x:700,y:100},data:{label:"Typescript"}},{id:"react",position:{x:500,y:100},data:{label:"React"}},{id:"next",position:{x:500,y:200},data:{label:"Next.js"}}],l0=[{id:"js-ts",source:"js",target:"ts"},{id:"js-react",source:"js",target:"react"},{id:"react-next",source:"react",target:"next"},{id:"ts-libs",source:"ts",target:"libs"}],u0=[{id:"libs",position:{x:700,y:300},data:{label:"Libraries"}},{id:"react-query",position:{x:700,y:400},data:{label:"React query"}},{id:"rtk",position:{x:500,y:400},data:{label:"Redux / RTK"}},{id:"zustand",position:{x:300,y:400},data:{label:"Zustand"}},{id:"mui",position:{x:900,y:400},data:{label:"material-ui"}},{id:"jest",position:{x:1100,y:400},data:{label:"Jest"}}],d0=[{id:"libs-react-query",source:"libs",target:"react-query"},{id:"libs-rtk",source:"libs",target:"rtk"},{id:"libs-zustand",source:"libs",target:"zustand"},{id:"libs-mui",source:"libs",target:"mui"},{id:"libs-jest",source:"libs",target:"jest"}],f0=[{id:"java",position:{x:100,y:300},data:{label:"Java"}},{id:"node",position:{x:-100,y:300},data:{label:"Node.js"}}],h0=[...s0,...c0,...u0,...f0],g0=[...a0,...l0,...d0],m0="_ReactFlow_jsgek_1",p0={ReactFlow:m0},x0=()=>h.jsxs("section",{id:"stack","aria-label":"my stack","data-screen-width":!0,children:[h.jsx(nt,{name:"Stack",icon:h.jsx(Tc,{className:"icon"}),textSecondary:"technologies I use"}),h.jsx("div",{className:p0.ReactFlow,children:h.jsxs($p,{nodes:h0,edges:g0,fitView:!0,children:[h.jsx(zp,{}),h.jsx(Yp,{})]})})]});function y0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ii(e){return y0(e)||Array.isArray(e)}function w0(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function sr(e,t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;const r=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return r!==i?!1:n.every(s=>{const a=e[s],c=t[s];return typeof a=="function"?`${a}`==`${c}`:!Ii(a)||!Ii(c)?a===c:sr(a,c)})}function ji(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function v0(e,t){if(e.length!==t.length)return!1;const n=ji(e),o=ji(t);return n.every((r,i)=>{const s=o[i];return sr(r,s)})}function ar(e){return typeof e=="number"}function Fo(e){return typeof e=="string"}function Qn(e){return typeof e=="boolean"}function $i(e){return Object.prototype.toString.call(e)==="[object Object]"}function ie(e){return Math.abs(e)}function cr(e){return Math.sign(e)}function $t(e,t){return ie(e-t)}function b0(e,t){if(e===0||t===0||ie(e)<=ie(t))return 0;const n=$t(ie(e),ie(t));return ie(n/e)}function _0(e){return Math.round(e*100)/100}function Vt(e){return Yt(e).map(Number)}function be(e){return e[Qt(e)]}function Qt(e){return Math.max(0,e.length-1)}function lr(e,t){return t===Qt(e)}function Ai(e,t=0){return Array.from(Array(e),(n,o)=>t+o)}function Yt(e){return Object.keys(e)}function ka(e,t){return[e,t].reduce((n,o)=>(Yt(o).forEach(r=>{const i=n[r],s=o[r],a=$i(i)&&$i(s);n[r]=a?ka(i,s):s}),n),{})}function Oo(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function S0(e,t){const n={start:o,center:r,end:i};function o(){return 0}function r(c){return i(c)/2}function i(c){return t-c}function s(c,l){return Fo(e)?n[e](c):e(t,c,l)}return{measure:s}}function Xt(){let e=[];function t(r,i,s,a={passive:!0}){let c;if("addEventListener"in r)r.addEventListener(i,s,a),c=()=>r.removeEventListener(i,s,a);else{const l=r;l.addListener(s),c=()=>l.removeListener(s)}return e.push(c),o}function n(){e=e.filter(r=>r())}const o={add:t,clear:n};return o}function N0(e,t,n,o){const r=Xt(),i=1e3/60;let s=null,a=0,c=0;function l(){r.add(e,"visibilitychange",()=>{e.hidden&&y()})}function f(){m(),r.clear()}function u(w){if(!c)return;s||(s=w,n(),n());const p=w-s;for(s=w,a+=p;a>=i;)n(),a-=i;const b=a/i;o(b),c&&(c=t.requestAnimationFrame(u))}function d(){c||(c=t.requestAnimationFrame(u))}function m(){t.cancelAnimationFrame(c),s=null,a=0,c=0}function y(){s=null,a=0}return{init:l,destroy:f,start:d,stop:m,update:n,render:o}}function E0(e,t){const n=t==="rtl",o=e==="y",r=o?"y":"x",i=o?"x":"y",s=!o&&n?-1:1,a=f(),c=u();function l(y){const{height:g,width:w}=y;return o?g:w}function f(){return o?"top":n?"right":"left"}function u(){return o?"bottom":n?"left":"right"}function d(y){return y*s}return{scroll:r,cross:i,startEdge:a,endEdge:c,measureSize:l,direction:d}}function tt(e=0,t=0){const n=ie(e-t);function o(l){return l<e}function r(l){return l>t}function i(l){return o(l)||r(l)}function s(l){return i(l)?o(l)?e:t:l}function a(l){return n?l-n*Math.ceil((l-t)/n):l}return{length:n,max:t,min:e,constrain:s,reachedAny:i,reachedMax:r,reachedMin:o,removeOffset:a}}function Ma(e,t,n){const{constrain:o}=tt(0,e),r=e+1;let i=s(t);function s(d){return n?ie((r+d)%r):o(d)}function a(){return i}function c(d){return i=s(d),u}function l(d){return f().set(a()+d)}function f(){return Ma(e,a(),n)}const u={get:a,set:c,add:l,clone:f};return u}function C0(e,t,n,o,r,i,s,a,c,l,f,u,d,m,y,g,w,p,b){const{cross:x,direction:v}=e,N=["INPUT","SELECT","TEXTAREA"],S={passive:!1},E=Xt(),M=Xt(),j=tt(50,225).constrain(m.measure(20)),F={mouse:300,touch:400},$={mouse:500,touch:600},A=y?43:25;let z=!1,_=0,I=0,k=!1,P=!1,T=!1,C=!1;function D(B){if(!b)return;function V(te){(Qn(b)||b(B,te))&&K(te)}const Z=t;E.add(Z,"dragstart",te=>te.preventDefault(),S).add(Z,"touchmove",()=>{},S).add(Z,"touchend",()=>{}).add(Z,"touchstart",V).add(Z,"mousedown",V).add(Z,"touchcancel",O).add(Z,"contextmenu",O).add(Z,"click",G,!0)}function H(){E.clear(),M.clear()}function R(){const B=C?n:t;M.add(B,"touchmove",q,S).add(B,"touchend",O).add(B,"mousemove",q,S).add(B,"mouseup",O)}function X(B){const V=B.nodeName||"";return N.includes(V)}function Y(){return(y?$:F)[C?"mouse":"touch"]}function U(B,V){const Z=u.add(cr(B)*-1),te=f.byDistance(B,!y).distance;return y||ie(B)<j?te:w&&V?te*.5:f.byIndex(Z.get(),0).distance}function K(B){const V=Oo(B,o);C=V,T=y&&V&&!B.buttons&&z,z=$t(r.get(),s.get())>=2,!(V&&B.button!==0)&&(X(B.target)||(k=!0,i.pointerDown(B),l.useFriction(0).useDuration(0),r.set(s),R(),_=i.readPoint(B),I=i.readPoint(B,x),d.emit("pointerDown")))}function q(B){if(!Oo(B,o)&&B.touches.length>=2)return O(B);const Z=i.readPoint(B),te=i.readPoint(B,x),ee=$t(Z,_),oe=$t(te,I);if(!P&&!C&&(!B.cancelable||(P=ee>oe,!P)))return O(B);const ce=i.pointerMove(B);ee>g&&(T=!0),l.useFriction(.3).useDuration(.75),a.start(),r.add(v(ce)),B.preventDefault()}function O(B){const Z=f.byDistance(0,!1).index!==u.get(),te=i.pointerUp(B)*Y(),ee=U(v(te),Z),oe=b0(te,ee),ce=A-10*oe,le=p+oe/50;P=!1,k=!1,M.clear(),l.useDuration(ce).useFriction(le),c.distance(ee,!y),C=!1,d.emit("pointerUp")}function G(B){T&&(B.stopPropagation(),B.preventDefault(),T=!1)}function J(){return k}return{init:D,destroy:H,pointerDown:J}}function k0(e,t){let o,r;function i(u){return u.timeStamp}function s(u,d){const y=`client${(d||e.scroll)==="x"?"X":"Y"}`;return(Oo(u,t)?u:u.touches[0])[y]}function a(u){return o=u,r=u,s(u)}function c(u){const d=s(u)-s(r),m=i(u)-i(o)>170;return r=u,m&&(o=u),d}function l(u){if(!o||!r)return 0;const d=s(r)-s(o),m=i(u)-i(o),y=i(u)-i(r)>170,g=d/m;return m&&!y&&ie(g)>.1?g:0}return{pointerDown:a,pointerMove:c,pointerUp:l,readPoint:s}}function M0(){function e(n){const{offsetTop:o,offsetLeft:r,offsetWidth:i,offsetHeight:s}=n;return{top:o,right:r+i,bottom:o+s,left:r,width:i,height:s}}return{measure:e}}function T0(e){function t(o){return e*(o/100)}return{measure:t}}function I0(e,t,n,o,r,i,s){const a=[e].concat(o);let c,l,f=[],u=!1;function d(w){return r.measureSize(s.measure(w))}function m(w){if(!i)return;l=d(e),f=o.map(d);function p(b){for(const x of b){if(u)return;const v=x.target===e,N=o.indexOf(x.target),S=v?l:f[N],E=d(v?e:o[N]);if(ie(E-S)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(b=>{(Qn(i)||i(w,b))&&p(b)}),n.requestAnimationFrame(()=>{a.forEach(b=>c.observe(b))})}function y(){u=!0,c&&c.disconnect()}return{init:m,destroy:y}}function j0(e,t,n,o,r,i){let s=0,a=0,c=r,l=i,f=e.get(),u=0;function d(){const S=o.get()-e.get(),E=!c;let M=0;return E?(s=0,n.set(o),e.set(o),M=S):(n.set(e),s+=S/c,s*=l,f+=s,e.add(s),M=f-u),a=cr(M),u=f,N}function m(){const S=o.get()-t.get();return ie(S)<.001}function y(){return c}function g(){return a}function w(){return s}function p(){return x(r)}function b(){return v(i)}function x(S){return c=S,N}function v(S){return l=S,N}const N={direction:g,duration:y,velocity:w,seek:d,settled:m,useBaseFriction:b,useBaseDuration:p,useFriction:v,useDuration:x};return N}function $0(e,t,n,o,r){const i=r.measure(10),s=r.measure(50),a=tt(.1,.99);let c=!1;function l(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function f(m){if(!l())return;const y=e.reachedMin(t.get())?"min":"max",g=ie(e[y]-t.get()),w=n.get()-t.get(),p=a.constrain(g/s);n.subtract(w*p),!m&&ie(w)<i&&(n.set(e.constrain(n.get())),o.useDuration(25).useBaseFriction())}function u(m){c=!m}return{shouldConstrain:l,constrain:f,toggleActive:u}}function A0(e,t,n,o,r){const i=tt(-t+e,0),s=u(),a=f(),c=d();function l(y,g){return $t(y,g)<=1}function f(){const y=s[0],g=be(s),w=s.lastIndexOf(y),p=s.indexOf(g)+1;return tt(w,p)}function u(){return n.map((y,g)=>{const{min:w,max:p}=i,b=i.constrain(y),x=!g,v=lr(n,g);return x?p:v||l(w,b)?w:l(p,b)?p:b}).map(y=>parseFloat(y.toFixed(3)))}function d(){if(t<=e+r)return[i.max];if(o==="keepSnaps")return s;const{min:y,max:g}=a;return s.slice(y,g)}return{snapsContained:c,scrollContainLimit:a}}function P0(e,t,n){const o=t[0],r=n?o-e:be(t);return{limit:tt(r,o)}}function L0(e,t,n,o){const i=t.min+.1,s=t.max+.1,{reachedMin:a,reachedMax:c}=tt(i,s);function l(d){return d===1?c(n.get()):d===-1?a(n.get()):!1}function f(d){if(!l(d))return;const m=e*(d*-1);o.forEach(y=>y.add(m))}return{loop:f}}function D0(e){const{max:t,length:n}=e;function o(i){const s=i-t;return n?s/-n:0}return{get:o}}function z0(e,t,n,o,r){const{startEdge:i,endEdge:s}=e,{groupSlides:a}=r,c=u().map(t.measure),l=d(),f=m();function u(){return a(o).map(g=>be(g)[s]-g[0][i]).map(ie)}function d(){return o.map(g=>n[i]-g[i]).map(g=>-ie(g))}function m(){return a(l).map(g=>g[0]).map((g,w)=>g+c[w])}return{snaps:l,snapsAligned:f}}function B0(e,t,n,o,r,i){const{groupSlides:s}=r,{min:a,max:c}=o,l=f();function f(){const d=s(i),m=!e||t==="keepSnaps";return n.length===1?[i]:m?d:d.slice(a,c).map((y,g,w)=>{const p=!g,b=lr(w,g);if(p){const x=be(w[0])+1;return Ai(x)}if(b){const x=Qt(i)-be(w)[0]+1;return Ai(x,be(w)[0])}return y})}return{slideRegistry:l}}function R0(e,t,n,o,r){const{reachedAny:i,removeOffset:s,constrain:a}=o;function c(y){return y.concat().sort((g,w)=>ie(g)-ie(w))[0]}function l(y){const g=e?s(y):a(y),w=t.map((b,x)=>({diff:f(b-g,0),index:x})).sort((b,x)=>ie(b.diff)-ie(x.diff)),{index:p}=w[0];return{index:p,distance:g}}function f(y,g){const w=[y,y+n,y-n];if(!e)return y;if(!g)return c(w);const p=w.filter(b=>cr(b)===g);return p.length?c(p):be(w)-n}function u(y,g){const w=t[y]-r.get(),p=f(w,g);return{index:y,distance:p}}function d(y,g){const w=r.get()+y,{index:p,distance:b}=l(w),x=!e&&i(w);if(!g||x)return{index:p,distance:y};const v=t[p]-b,N=y+f(v,0);return{index:p,distance:N}}return{byDistance:d,byIndex:u,shortcut:f}}function H0(e,t,n,o,r,i,s){function a(u){const d=u.distance,m=u.index!==t.get();i.add(d),d&&(o.duration()?e.start():(e.update(),e.render(1),e.update())),m&&(n.set(t.get()),t.set(u.index),s.emit("select"))}function c(u,d){const m=r.byDistance(u,d);a(m)}function l(u,d){const m=t.clone().set(u),y=r.byIndex(m.get(),d);a(y)}return{distance:c,index:l}}function F0(e,t,n,o,r,i,s,a){const c={passive:!0,capture:!0};let l=0;function f(m){if(!a)return;function y(g){if(new Date().getTime()-l>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;const b=n.findIndex(x=>x.includes(g));ar(b)&&(r.useDuration(0),o.index(b,0),s.emit("slideFocus"))}i.add(document,"keydown",u,!1),t.forEach((g,w)=>{i.add(g,"focus",p=>{(Qn(a)||a(m,p))&&y(w)},c)})}function u(m){m.code==="Tab"&&(l=new Date().getTime())}return{init:f}}function Mt(e){let t=e;function n(){return t}function o(c){t=s(c)}function r(c){t+=s(c)}function i(c){t-=s(c)}function s(c){return ar(c)?c:c.get()}return{get:n,set:o,add:r,subtract:i}}function Ta(e,t){const n=e.scroll==="x"?s:a,o=t.style;let r=null,i=!1;function s(d){return`translate3d(${d}px,0px,0px)`}function a(d){return`translate3d(0px,${d}px,0px)`}function c(d){if(i)return;const m=_0(e.direction(d));m!==r&&(o.transform=n(m),r=m)}function l(d){i=!d}function f(){i||(o.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:c,toggleActive:l}}function O0(e,t,n,o,r,i,s,a,c){const f=Vt(r),u=Vt(r).reverse(),d=p().concat(b());function m(E,M){return E.reduce((j,F)=>j-r[F],M)}function y(E,M){return E.reduce((j,F)=>m(j,M)>0?j.concat([F]):j,[])}function g(E){return i.map((M,j)=>({start:M-o[j]+.5+E,end:M+t-.5+E}))}function w(E,M,j){const F=g(M);return E.map($=>{const A=j?0:-n,z=j?n:0,_=j?"end":"start",I=F[$][_];return{index:$,loopPoint:I,slideLocation:Mt(-1),translate:Ta(e,c[$]),target:()=>a.get()>I?A:z}})}function p(){const E=s[0],M=y(u,E);return w(M,n,!1)}function b(){const E=t-s[0]-1,M=y(f,E);return w(M,-n,!0)}function x(){return d.every(({index:E})=>{const M=f.filter(j=>j!==E);return m(M,t)<=.1})}function v(){d.forEach(E=>{const{target:M,translate:j,slideLocation:F}=E,$=M();$!==F.get()&&(j.to($),F.set($))})}function N(){d.forEach(E=>E.translate.clear())}return{canLoop:x,clear:N,loop:v,loopPoints:d}}function V0(e,t,n){let o,r=!1;function i(c){if(!n)return;function l(f){for(const u of f)if(u.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}o=new MutationObserver(f=>{r||(Qn(n)||n(c,f))&&l(f)}),o.observe(e,{childList:!0})}function s(){o&&o.disconnect(),r=!0}return{init:i,destroy:s}}function Y0(e,t,n,o){const r={};let i=null,s=null,a,c=!1;function l(){a=new IntersectionObserver(y=>{c||(y.forEach(g=>{const w=t.indexOf(g.target);r[w]=g}),i=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:o}),t.forEach(y=>a.observe(y))}function f(){a&&a.disconnect(),c=!0}function u(y){return Yt(r).reduce((g,w)=>{const p=parseInt(w),{isIntersecting:b}=r[p];return(y&&b||!y&&!b)&&g.push(p),g},[])}function d(y=!0){if(y&&i)return i;if(!y&&s)return s;const g=u(y);return y&&(i=g),y||(s=g),g}return{init:l,destroy:f,get:d}}function X0(e,t,n,o,r,i){const{measureSize:s,startEdge:a,endEdge:c}=e,l=n[0]&&r,f=y(),u=g(),d=n.map(s),m=w();function y(){if(!l)return 0;const b=n[0];return ie(t[a]-b[a])}function g(){if(!l)return 0;const b=i.getComputedStyle(be(o));return parseFloat(b.getPropertyValue(`margin-${c}`))}function w(){return n.map((b,x,v)=>{const N=!x,S=lr(v,x);return N?d[x]+f:S?d[x]+u:v[x+1][a]-b[a]}).map(ie)}return{slideSizes:d,slideSizesWithGaps:m,startGap:f,endGap:u}}function W0(e,t,n,o,r,i,s,a,c){const{startEdge:l,endEdge:f,direction:u}=e,d=ar(n);function m(p,b){return Vt(p).filter(x=>x%b===0).map(x=>p.slice(x,x+b))}function y(p){return p.length?Vt(p).reduce((b,x,v)=>{const N=be(b)||0,S=N===0,E=x===Qt(p),M=r[l]-i[N][l],j=r[l]-i[x][f],F=!o&&S?u(s):0,$=!o&&E?u(a):0,A=ie(j-$-(M+F));return v&&A>t+c&&b.push(x),E&&b.push(p.length),b},[]).map((b,x,v)=>{const N=Math.max(v[x-1]||0);return p.slice(N,b)}):[]}function g(p){return d?m(p,n):y(p)}return{groupSlides:g}}function q0(e,t,n,o,r,i,s){const{align:a,axis:c,direction:l,startIndex:f,loop:u,duration:d,dragFree:m,dragThreshold:y,inViewThreshold:g,slidesToScroll:w,skipSnaps:p,containScroll:b,watchResize:x,watchSlides:v,watchDrag:N,watchFocus:S}=i,E=2,M=M0(),j=M.measure(t),F=n.map(M.measure),$=E0(c,l),A=$.measureSize(j),z=T0(A),_=S0(a,A),I=!u&&!!b,k=u||!!b,{slideSizes:P,slideSizesWithGaps:T,startGap:C,endGap:D}=X0($,j,F,n,k,r),H=W0($,A,w,u,j,F,C,D,E),{snaps:R,snapsAligned:X}=z0($,_,j,F,H),Y=-be(R)+be(T),{snapsContained:U,scrollContainLimit:K}=A0(A,Y,X,b,E),q=I?U:X,{limit:O}=P0(Y,q,u),G=Ma(Qt(q),f,u),J=G.clone(),W=Vt(n),B=({dragHandler:Ee,scrollBody:wt,scrollBounds:vt,options:{loop:rt}})=>{rt||vt.constrain(Ee.pointerDown()),wt.seek()},V=({scrollBody:Ee,translate:wt,location:vt,offsetLocation:rt,previousLocation:Jn,scrollLooper:eo,slideLooper:to,dragHandler:no,animation:oo,eventHandler:en,scrollBounds:ro,options:{loop:tn}},nn)=>{const on=Ee.settled(),io=!ro.shouldConstrain(),rn=tn?on:on&&io,sn=rn&&!no.pointerDown();sn&&oo.stop();const so=vt.get()*nn+Jn.get()*(1-nn);rt.set(so),tn&&(eo.loop(Ee.direction()),to.loop()),wt.to(rt.get()),sn&&en.emit("settle"),rn||en.emit("scroll")},Z=N0(o,r,()=>B(yt),Ee=>V(yt,Ee)),te=.68,ee=q[G.get()],oe=Mt(ee),ce=Mt(ee),le=Mt(ee),he=Mt(ee),Ne=j0(oe,le,ce,he,d,te),$e=R0(u,q,Y,O,he),Ae=H0(Z,G,J,Ne,$e,he,s),ot=D0(O),Xe=Xt(),Re=Y0(t,n,s,g),{slideRegistry:He}=B0(I,b,q,K,H,W),Jt=F0(e,n,He,Ae,Ne,Xe,s,S),yt={ownerDocument:o,ownerWindow:r,eventHandler:s,containerRect:j,slideRects:F,animation:Z,axis:$,dragHandler:C0($,e,o,r,he,k0($,r),oe,Z,Ae,Ne,$e,G,s,z,m,y,p,te,N),eventStore:Xe,percentOfView:z,index:G,indexPrevious:J,limit:O,location:oe,offsetLocation:le,previousLocation:ce,options:i,resizeHandler:I0(t,s,r,n,$,x,M),scrollBody:Ne,scrollBounds:$0(O,le,he,Ne,z),scrollLooper:L0(Y,O,le,[oe,le,ce,he]),scrollProgress:ot,scrollSnapList:q.map(ot.get),scrollSnaps:q,scrollTarget:$e,scrollTo:Ae,slideLooper:O0($,A,Y,P,T,R,q,le,n),slideFocus:Jt,slidesHandler:V0(t,s,v),slidesInView:Re,slideIndexes:W,slideRegistry:He,slidesToScroll:H,target:he,translate:Ta($,t)};return yt}function G0(){let e={},t;function n(l){t=l}function o(l){return e[l]||[]}function r(l){return o(l).forEach(f=>f(t,l)),c}function i(l,f){return e[l]=o(l).concat([f]),c}function s(l,f){return e[l]=o(l).filter(u=>u!==f),c}function a(){e={}}const c={init:n,emit:r,off:s,on:i,clear:a};return c}const U0={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function K0(e){function t(i,s){return ka(i,s||{})}function n(i){const s=i.breakpoints||{},a=Yt(s).filter(c=>e.matchMedia(c).matches).map(c=>s[c]).reduce((c,l)=>t(c,l),{});return t(i,a)}function o(i){return i.map(s=>Yt(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:o}}function Z0(e){let t=[];function n(i,s){return t=s.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(i,e)),s.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function o(){t=t.filter(i=>i.destroy())}return{init:n,destroy:o}}function Rn(e,t,n){const o=e.ownerDocument,r=o.defaultView,i=K0(r),s=Z0(i),a=Xt(),c=G0(),{mergeOptions:l,optionsAtMedia:f,optionsMediaQueries:u}=i,{on:d,off:m,emit:y}=c,g=$;let w=!1,p,b=l(U0,Rn.globalOptions),x=l(b),v=[],N,S,E;function M(){const{container:W,slides:B}=x;S=(Fo(W)?e.querySelector(W):W)||e.children[0];const Z=Fo(B)?S.querySelectorAll(B):B;E=[].slice.call(Z||S.children)}function j(W){const B=q0(e,S,E,o,r,W,c);if(W.loop&&!B.slideLooper.canLoop()){const V=Object.assign({},W,{loop:!1});return j(V)}return B}function F(W,B){w||(b=l(b,W),x=f(b),v=B||v,M(),p=j(x),u([b,...v.map(({options:V})=>V)]).forEach(V=>a.add(V,"change",$)),x.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(J),p.eventHandler.init(J),p.resizeHandler.init(J),p.slidesHandler.init(J),p.options.loop&&p.slideLooper.loop(),S.offsetParent&&E.length&&p.dragHandler.init(J),N=s.init(J,v)))}function $(W,B){const V=H();A(),F(l({startIndex:V},W),B),c.emit("reInit")}function A(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),s.destroy(),a.clear()}function z(){w||(w=!0,a.clear(),A(),c.emit("destroy"),c.clear())}function _(W,B,V){!x.active||w||(p.scrollBody.useBaseFriction().useDuration(B===!0?0:x.duration),p.scrollTo.index(W,V||0))}function I(W){const B=p.index.add(1).get();_(B,W,-1)}function k(W){const B=p.index.add(-1).get();_(B,W,1)}function P(){return p.index.add(1).get()!==H()}function T(){return p.index.add(-1).get()!==H()}function C(){return p.scrollSnapList}function D(){return p.scrollProgress.get(p.offsetLocation.get())}function H(){return p.index.get()}function R(){return p.indexPrevious.get()}function X(){return p.slidesInView.get()}function Y(){return p.slidesInView.get(!1)}function U(){return N}function K(){return p}function q(){return e}function O(){return S}function G(){return E}const J={canScrollNext:P,canScrollPrev:T,containerNode:O,internalEngine:K,destroy:z,off:m,on:d,emit:y,plugins:U,previousScrollSnap:R,reInit:g,rootNode:q,scrollNext:I,scrollPrev:k,scrollProgress:D,scrollSnapList:C,scrollTo:_,selectedScrollSnap:H,slideNodes:G,slidesInView:X,slidesNotInView:Y};return F(t,n),setTimeout(()=>c.emit("init"),0),J}Rn.globalOptions=void 0;function ur(e={},t=[]){const n=L.useRef(e),o=L.useRef(t),[r,i]=L.useState(),[s,a]=L.useState(),c=L.useCallback(()=>{r&&r.reInit(n.current,o.current)},[r]);return L.useEffect(()=>{sr(n.current,e)||(n.current=e,c())},[e,c]),L.useEffect(()=>{v0(o.current,t)||(o.current=t,c())},[t,c]),L.useEffect(()=>{if(w0()&&s){Rn.globalOptions=ur.globalOptions;const l=Rn(s,n.current,o.current);return i(l),()=>l.destroy()}else i(void 0)},[s,i]),[a,r]}ur.globalOptions=void 0;const Eo="img/testimonials",Q0=[{photoSrc:`${Eo}/Denis.jpg`,coworkerName:"Denis Dyagilev",coworkerPosition:"frontend developer",text:h.jsxs(h.Fragment,{children:["I am a frontend developer. I would like to share my experience of working with Natalia. During my work at Cinimex, I worked with Natalia on the same project. It was comfortable to work, and I was pleased that Natalia helps the rest of the team members.",h.jsx("br",{}),"The code is written thoughtfully and at the same time readable. I think that Natalia is an excellent developer and I would gladly agree to work together again."]}),telegram:"purpleleech",linkedIn:"https://www.linkedin.com/in/denis-dyagilev-63b562168",instagram:"purpleleech"},{photoSrc:`${Eo}/Masha.jpg`,coworkerName:"Maria Condaurova",coworkerPosition:"frontend developer",text:h.jsxs(h.Fragment,{children:["I've been working with Natalia in Cinimex for about half a year. Natalia appeared to be a responsible developer. She responded appropriately to the code-review, made suggestions to tasks solution.",h.jsx("br",{}),"She might want to speak louder on meet-ups :)",h.jsx("br",{}),"I got a positive impression of working with Natalia :)"]}),linkedIn:"https://www.linkedin.com/mwlite/in/мария-кондаурова-6610a7217",habr:"https://career.habr.com/momomash"},{photoSrc:`${Eo}/Sveta.jpg`,coworkerName:"Svetlana Pedan",coworkerPosition:"senior QA",text:h.jsx(h.Fragment,{children:"I like that Natalia tests her tasks on stands. Before her, developers have almost never done that, and now they took that as a rule. It's good that she isn't afraid to ask questions. They're problems with estimation of tasks, but I think it'll go away with the dive in. Communication with Natalia is very comfortable."})}],vn=({href:e,icon:t})=>h.jsx(h.Fragment,{children:e&&h.jsx("a",{href:e,target:"_blank",rel:"noreferrer","aria-label":e,children:t})}),J0="_Testimonial_1e6z0_1",ex="_Photo_1e6z0_16",tx="_CoworkerName_1e6z0_27",nx="_CoworkerPosition_1e6z0_34",ox="_Line_1e6z0_42",rx="_Review_1e6z0_50",ix="_IconsSocial_1e6z0_56",sx="_SiHabr_1e6z0_65",ax="_TiSocialLinkedinCircular_1e6z0_69",cx="_ImTelegram_1e6z0_73",ke={Testimonial:J0,Photo:ex,CoworkerName:tx,CoworkerPosition:nx,Line:ox,Review:rx,IconsSocial:ix,SiHabr:sx,TiSocialLinkedinCircular:ax,ImTelegram:cx},lx=({photoSrc:e,coworkerName:t,coworkerPosition:n,text:o,telegram:r,linkedIn:i,habr:s,instagram:a})=>h.jsxs(_e.div,{initial:{opacity:0,filter:"blur(30px)"},whileInView:{opacity:1,filter:"none"},transition:{duration:.2},className:ke.Testimonial,children:[h.jsx("img",{src:`${e}`,alt:"coworker's photo",className:ke.Photo}),h.jsx("div",{className:ke.CoworkerName,children:t}),h.jsx("div",{className:ke.CoworkerPosition,children:n}),h.jsx("span",{className:ke.Line}),h.jsx("article",{className:ke.Review,children:o}),h.jsxs("div",{className:ke.IconsSocial,children:[h.jsx(vn,{href:r&&`https://t.me/${r}`,icon:h.jsx(Ic,{className:ke.ImTelegram,size:"22"})}),h.jsx(vn,{href:i,icon:h.jsx(jc,{className:ke.TiSocialLinkedinCircular,size:"30"})}),h.jsx(vn,{href:`https://instagram.com/${a}`,icon:h.jsx($c,{size:"20"})}),h.jsx(vn,{href:s,icon:h.jsx(Ac,{size:"24",className:ke.SiHabr})})]})]}),ux="_embla_105ss_1",dx="_embla__viewport_105ss_8",fx="_embla__container_105ss_11",hx="_embla__slide_105ss_16",gx="_embla__controls_105ss_33",mx="_embla__buttons_105ss_38",px="_embla__button_105ss_38",xx="_embla__button__svg_105ss_69",ge={embla:ux,embla__viewport:dx,embla__container:fx,embla__slide:hx,embla__controls:gx,embla__buttons:mx,embla__button:px,embla__button__svg:xx},yx=e=>{const[t,n]=L.useState(!0),[o,r]=L.useState(!0),i=L.useCallback(()=>{e&&e.scrollPrev()},[e]),s=L.useCallback(()=>{e&&e.scrollNext()},[e]),a=L.useCallback(c=>{n(!c.canScrollPrev()),r(!c.canScrollNext())},[]);return L.useEffect(()=>{e&&(a(e),e.on("reInit",a).on("select",a))},[e,a]),{prevBtnDisabled:t,nextBtnDisabled:o,onPrevButtonClick:i,onNextButtonClick:s}},wx=e=>{const{children:t,...n}=e;return h.jsxs("button",{className:`${ge.embla__button} ${ge["embla__button--prev"]}`,type:"button",...n,children:[h.jsx("svg",{className:ge.embla__button__svg,viewBox:"0 0 532 532",children:h.jsx("path",{fill:"currentColor",d:"M355.66 11.354c13.793-13.805 36.208-13.805 50.001 0 13.785 13.804 13.785 36.238 0 50.034L201.22 266l204.442 204.61c13.785 13.805 13.785 36.239 0 50.044-13.793 13.796-36.208 13.796-50.002 0a5994246.277 5994246.277 0 0 0-229.332-229.454 35.065 35.065 0 0 1-10.326-25.126c0-9.2 3.393-18.26 10.326-25.2C172.192 194.973 332.731 34.31 355.66 11.354Z"})}),t]})},vx=e=>{const{children:t,...n}=e;return h.jsxs("button",{className:`${ge.embla__button} ${ge["embla__button--next"]}`,type:"button",...n,children:[h.jsx("svg",{className:ge.embla__button__svg,viewBox:"0 0 532 532",children:h.jsx("path",{fill:"currentColor",d:"M176.34 520.646c-13.793 13.805-36.208 13.805-50.001 0-13.785-13.804-13.785-36.238 0-50.034L330.78 266 126.34 61.391c-13.785-13.805-13.785-36.239 0-50.044 13.793-13.796 36.208-13.796 50.002 0 22.928 22.947 206.395 206.507 229.332 229.454a35.065 35.065 0 0 1 10.326 25.126c0 9.2-3.393 18.26-10.326 25.2-45.865 45.901-206.404 206.564-229.332 229.52Z"})}),t]})},bx=({slides:e,options:t})=>{const[n,o]=ur({loop:!0}),{prevBtnDisabled:r,nextBtnDisabled:i,onPrevButtonClick:s,onNextButtonClick:a}=yx(o);return h.jsxs("article",{className:ge.embla,children:[h.jsx("div",{className:ge.embla__viewport,ref:n,children:h.jsx("div",{className:ge.embla__container,children:Q0.map((c,l)=>h.jsx("div",{className:ge.embla__slide,children:h.jsx(lx,{...c})},l))})}),h.jsx("div",{className:ge.embla__controls,children:h.jsxs("div",{className:ge.embla__buttons,children:[h.jsx(wx,{onClick:s,disabled:r}),h.jsx(vx,{onClick:a,disabled:i})]})})]})},_x=()=>h.jsxs("section",{id:"testimonials","aria-label":"testimonials",children:[h.jsx(nt,{name:"Testimonials",icon:h.jsx(Pc,{className:"icon"}),textSecondary:"what my colleagues say"}),h.jsx(bx,{})]}),Sx="_Container_lckbb_1",Nx="_Cloud1_lckbb_13",Ex="_Cloud2_lckbb_23",bn={Container:Sx,Cloud1:Nx,Cloud2:Ex},Cx="_Modal_1aixt_1",kx={Modal:Cx},Ia=({isOpen:e,onClose:t,children:n})=>h.jsx(Yc,{children:e&&h.jsx(_e.div,{className:kx.Modal,onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:n},"modal")});var Ge=(e=>(e.light="light",e.dark="dark",e))(Ge||{});const Mx=["I love jogging","I'm almost entirely indifferent about food","I've had dreadlocks for about 5 years","I don't like my first name and prefer to be called Tali, but almost every variation will do","I am a cat person","I'm a younger sibling in a family with 2 kids","I have very few photos of myself, I don't really like to take them","I adore house plants and know the names of many species and their sorts","I play tabletop roleplay games, like D&D","I used to study German language, when I was a teen","During 2022-2025, I've lived in 4 countries","I normally play very specific short indie video games","I was a Dungeon Master and received a lot of positive feedback","I have a natural ability to make cartoonish voices","I learnt to sing, but am too shy to do it in public","I used to be an actress on a horror quest",'My favorite book is "Harry Potter and methods of rationality"',"I used to draw and paint, and there're still traces of that somewhere in the Internet","I used to study psychology and my favorite topic is cognitive distortions","I jumped with a parachute once"],Pi=e=>{let t;const n=new Set,o=(l,f)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const d=t;t=f??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(m=>m(t,d))}},r=()=>t,a={setState:o,getState:r,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=t=e(o,r,a);return a},Tx=(e=>e?Pi(e):Pi),Ix=e=>e;function jx(e,t=Ix){const n=Et.useSyncExternalStore(e.subscribe,Et.useCallback(()=>t(e.getState()),[e,t]),Et.useCallback(()=>t(e.getInitialState()),[e,t]));return Et.useDebugValue(n),n}const Li=e=>{const t=Tx(e),n=o=>jx(t,o);return Object.assign(n,t),n},ja=(e=>e?Li(e):Li),St=ja(e=>({bugs:void 0,releaseBugs:t=>e(()=>({bugs:t})),catchBug:()=>e(t=>({bugs:t.bugs?t.bugs-1:void 0})),renewGame:()=>e(()=>({bugs:void 0}))})),Tt=ja(e=>({notWatchedFacts:Mx,currentFact:void 0,diceResult:void 0,clearDiceResult:()=>e({diceResult:void 0}),watchFact:(t,n)=>e(o=>({diceResult:n,currentFact:o.notWatchedFacts[t]??"Now you know EVERYTHING about me!",notWatchedFacts:o.notWatchedFacts.filter((r,i)=>i!==t)}))})),$x="_Bug_mvzra_1",Ax="_ReleaseButton_mvzra_9",Px="_BattleContainer_mvzra_25",Lx="_BattleImgContainer_mvzra_30",Dx="_BattleBackground_mvzra_38",zx="_TaliPortrait_mvzra_44",Bx="_BugPortrait_mvzra_52",Rx="_Tooltip_mvzra_60",Hx="_TooltipTali_mvzra_71",Fx="_TooltipBug_mvzra_77",pe={Bug:$x,ReleaseButton:Ax,BattleContainer:Px,BattleImgContainer:Lx,BattleBackground:Dx,TaliPortrait:zx,BugPortrait:Bx,Tooltip:Rx,TooltipTali:Hx,TooltipBug:Fx},Di=16,Ox=8,Vx=e=>{const t=e.clientWidth-100,n=e.clientHeight-100,o=`${Math.random()*t}px`,r=`${Math.random()*n}px`,i=`${Math.random()*360}deg`,a=`/resume/img/bugs/bug${Math.ceil(Math.random()*Ox)}.png`;return{x:o,y:r,src:a,angle:i}},Yx=({bugParams:e,catchBug:t})=>{const{x:n,y:o,src:r,angle:i}=e,s=document.createElement("img");return s.src=r,s.classList.add(pe.Bug),s.alt="a bug",s.style.top=o,s.style.left=n,s.style.rotate=i,s.onclick=()=>{s.remove(),t()},s},Xx=()=>{const e=St(a=>a.bugs?a.bugs>0:!1),t=St(a=>a.renewGame),o=St(a=>a.bugs)===0,r=St(a=>a.releaseBugs),i=St(a=>a.catchBug),s=()=>{for(let a=0;a<Di;a++){const c=document.querySelector("#root_");if(!c)return;const l=Vx(c),f=Yx({bugParams:l,catchBug:i});c==null||c.appendChild(f)}r(Di)};return L.useEffect(()=>{if(!o)return;const a=setTimeout(t,2e3);return()=>clearTimeout(a)},[o]),h.jsxs("section",{id:"bug-hunt","aria-label":"bug hunt",children:[h.jsx(nt,{name:"Bug Hunt",icon:h.jsx(Lc,{className:"icon"}),textSecondary:"help Natalia find all bugs on a page"}),h.jsxs("div",{className:pe.BattleContainer,children:[h.jsxs("div",{className:pe.BattleImgContainer,children:[h.jsx("img",{src:"img/vs.png",alt:"background Tali vs bugs",className:pe.BattleBackground}),h.jsx(ut,{minWidth:800,children:h.jsx("div",{className:`${pe.Tooltip} ${pe.TooltipTali}`,children:"I'm a Senior developer"})}),h.jsx(_e.img,{src:"img/TaliStanding2.png",alt:"Tali",initial:{y:"-30%",x:"-125%"},whileInView:{y:"-50%"},transition:{duration:.75},className:pe.TaliPortrait}),h.jsx(ut,{minWidth:800,children:h.jsx("div",{className:`${pe.Tooltip} ${pe.TooltipBug}`,children:"I'm a feature"})}),h.jsx(_e.img,{src:"img/bugs/bug000.png",alt:"bug",initial:{y:"-100%",x:"85%"},whileInView:{y:"-50%"},transition:{duration:.75},className:pe.BugPortrait})]}),h.jsx("button",{onClick:s,disabled:e,className:pe.ReleaseButton,children:e?"Bugs are now on the loose...":"Release the bugs 🪲"})]}),h.jsx(Ia,{isOpen:o,onClose:t,children:h.jsx("img",{src:"/resume/img/you-won2.png"})})]})},Wx="_GameContainer_uuig9_1",qx="_Dice_uuig9_9",Gx="_Result_uuig9_14",Ux="_DiceContainer_uuig9_31",Kx="_Fact_uuig9_45",Zx="_TryAgain_uuig9_49",Qx="_FactContainer_uuig9_54",De={GameContainer:Wx,Dice:qx,Result:Gx,DiceContainer:Ux,Fact:Kx,TryAgain:Zx,FactContainer:Qx},Jx=()=>{const e=Tt(a=>a.notWatchedFacts),t=Tt(a=>a.diceResult),n=Tt(a=>a.watchFact),o=Tt(a=>a.clearDiceResult),[r,i]=Xc(),s=async()=>{o(),await i(r.current,{rotate:360,y:"-100%",x:0},{duration:.8,bounce:0,type:"spring"}),i(r.current,{rotate:720},{visualDuration:.8,bounce:0,type:"spring",onComplete:()=>{const a=Math.ceil(Math.random()*20),c=Math.floor(Math.random()*e.length);n(c,a)}}),i(r.current,{x:0,y:0},{visualDuration:.8,bounce:.8,type:"spring"})};return h.jsxs("section",{id:"random-fact","aria-label":"random fact",children:[h.jsx(nt,{name:"Random fact",textSecondary:"roll a dice to know more about me",icon:h.jsx(Dc,{className:"icon"})}),h.jsxs("div",{className:De.GameContainer,children:[h.jsxs("button",{ref:r,onClick:s,className:De.DiceContainer,children:[h.jsx("img",{src:"img/dice3.png",alt:"dice d20",className:De.Dice}),h.jsx("div",{className:De.Result,children:t})]}),t&&h.jsx(ey,{diceResult:t,rollDice:s})]})]})},zi=()=>{const e=Tt(t=>t.currentFact);return h.jsxs("div",{className:De.Fact,children:["⭐ ",e]})},ey=({diceResult:e,rollDice:t})=>{const[n,o]=L.useState(!1);return e===20?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:De.FactContainer,children:[h.jsx(zi,{}),h.jsxs(h.Fragment,{children:["This is a critical success! You won a"," ",h.jsx("button",{onClick:()=>o(!0),children:"[photo]"})," of me from the past as a bonus ✨"]})]}),h.jsx(Ia,{isOpen:n,onClose:()=>o(!1),children:h.jsx("img",{src:"/resume/img/TaliPhoto.jpg"})})]}):e===1?h.jsxs("div",{className:De.FactContainer,children:["This is a critical failure! You're welcome to provide a fact about yourself."," ",h.jsx(Fi,{to:"#contact-me",smooth:!0,children:"[Contact me]"})," ",h.jsx("br",{}),"or"," ",h.jsx("button",{onClick:t,className:De.TryAgain,children:"[try again]"})]}):h.jsx("div",{className:De.FactContainer,children:h.jsx(zi,{})})},Bi=(e,t,n)=>Wc(e,[0,1],[t,n]),ty=()=>{const e=L.useRef(null),{scrollYProgress:t}=qc({target:e}),n=Bi(t,0,200),o=Bi(t,0,200);return h.jsxs("main",{className:bn.Container,id:"container",children:[h.jsxs("div",{ref:e,className:bn.Container,style:{position:"relative"},children:[h.jsxs(ut,{minWidth:847,children:[h.jsx(_e.img,{src:"img/cloud2.png",className:bn.Cloud1,"aria-hidden":!0,style:{x:n},alt:""}),h.jsx(_e.img,{src:"img/cloud2.png",className:bn.Cloud2,style:{x:o},"aria-hidden":!0,alt:""})]}),h.jsx(yl,{})]}),h.jsx(x0,{}),h.jsx(Ql,{}),h.jsx(_x,{}),h.jsx(Xx,{}),h.jsx(Jx,{}),h.jsx(Bl,{})]})},ny=window.matchMedia("(prefers-color-scheme: dark)").matches,dr=L.createContext({theme:Ge.light,toggleTheme:()=>{}}),oy=e=>{const[t,n]=L.useState(ny?Ge.dark:Ge.light),o=()=>{t===Ge.dark?n(Ge.light):n(Ge.dark)};return h.jsx(dr.Provider,{value:{theme:t,toggleTheme:o},children:e.children})},ry="_Menu_7kmjk_1",iy="_MenuClosing_7kmjk_21",sy="_ToggleButton_7kmjk_31",Co={Menu:ry,MenuClosing:iy,ToggleButton:sy},ay=[{name:"Stack",anchor:"#stack"},{name:"Timeline",anchor:"#experience"},{name:"Testimonials",anchor:"#testimonials"},{name:"Bug Hunt",anchor:"#bug-hunt"},{name:"Random Fact",anchor:"#random-fact"},{name:"Contact me",anchor:"#contact-me"}],cy="_HashLinks_x2ldq_1",ly="_li_x2ldq_10",uy="_HashLink_x2ldq_1",dy="_HidingLinks_x2ldq_84",Nt={HashLinks:cy,li:ly,HashLink:uy,HidingLinks:dy},fy=({toggleTheme:e,isMenuOpen:t,closeMenu:n})=>{const o=`${Nt.HashLinks} ${!t&&Nt.HidingLinks}`;return h.jsxs("ul",{className:o,children:[ay.map(({name:r,anchor:i})=>h.jsx("li",{className:Nt.li,children:h.jsx(Fi,{onClick:n,to:i,"data-replace":r,smooth:!0,className:Nt.HashLink,children:h.jsx("span",{children:r})})},r)),h.jsx("li",{className:Nt.li,children:e})]})},hy="_ToggleThemeButton_abehe_2",gy={ToggleThemeButton:hy},my=({theme:e,toggleTheme:t})=>h.jsx("button",{onClick:t,className:gy.ToggleThemeButton,children:e==="dark"?h.jsx(zc,{size:"20",color:"#D9D9D9"}):h.jsx(Bc,{size:"20"})}),py=()=>{const{theme:e,toggleTheme:t}=L.useContext(dr),n=Rc({query:"(max-width: 857px)"}),[o,r]=L.useState(!n),i=()=>n&&r(f=>!f),s=()=>n&&r(!1),a=e==="dark"?"#D9D9D9":"#262526",c=`${Co.Menu} ${!o&&Co.MenuClosing}`,l=h.jsx("button",{className:Co.ToggleButton,onClick:i,"aria-label":"open/close menu",children:o?h.jsx(Hc,{size:23,color:a}):h.jsx(Fc,{size:23,color:a})});return h.jsxs("nav",{className:c,children:[h.jsx(fy,{closeMenu:s,isMenuOpen:o,toggleTheme:h.jsx(my,{theme:e,toggleTheme:t})}),h.jsx(ut,{maxWidth:857,children:l})]})},xy=()=>{const{theme:e}=L.useContext(dr);return h.jsx("div",{"data-theme":e,id:"root_",children:h.jsxs("div",{className:Uc.Wave,children:[h.jsx(py,{}),h.jsx(ty,{})]})})};Oc.createRoot(document.getElementById("root")).render(h.jsx(L.StrictMode,{children:h.jsx(Vc,{basename:"/resume",children:h.jsx(oy,{children:h.jsx(xy,{})})})}));
