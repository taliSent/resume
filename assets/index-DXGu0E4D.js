import{j as m,r as P,H as $c,a as Ui,A as Ac,R as Nt,c as ln,L as Pc,M as At,B as Lc,b as Dc,F as Bc,d as Rc,e as zc,f as Hc,g as Fc,h as Oc,i as Vc,T as Yc,N as Ki,k as Zi,l as Xc,G as Wc,I as Gc,m as qc,n as Uc,S as Kc,o as Zc,p as Qc,q as Jc,u as el,s as tl,t as nl,v as rl,w as ol}from"./react-vendor-BszFLf4O.js";import{u as il,a as sl,m as _e,A as al,b as cl}from"./framer-motion-vendor-OmXmlQBW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const ll="_Wave_d1pt6_1",ul={Wave:ll},_o=(e,t,n)=>il(e,[0,1],[t,n]),dl="_Cloud1_4ifjl_1",fl="_Cloud2_4ifjl_9",So={Cloud1:dl,Cloud2:fl},hl=({refAboutSection:e})=>{const{scrollYProgress:t}=sl({target:e}),n=_o(t,0,400),r=_o(t,0,200);return m.jsxs(m.Fragment,{children:[m.jsx(Eo,{src:"img/cloud1.webp",x:n,className:So.Cloud1}),m.jsx(Eo,{src:"img/cloud.webp",x:r,className:So.Cloud2})]})},Eo=({x:e,src:t,...n})=>m.jsx(_e.img,{src:t,className:n.className,"aria-hidden":!0,style:{x:e,scale:1.5},alt:""}),gl="_Container_5qj77_1",No={Container:gl},ml="_About_19nby_1",pl="_Text_19nby_12",yl="_PhotoContainer_19nby_20",xl="_Photo_19nby_20",wl="_PhotoFrame_19nby_41",vl="_Profession_19nby_57",bl="_Stack_19nby_84",We={About:ml,Text:pl,PhotoContainer:yl,Photo:xl,PhotoFrame:wl,Profession:vl,Stack:bl},_l="_ButtonContainer_qqh10_1",Sl="_FollowTheCursor_qqh10_6",El="_Button_qqh10_1",ur={ButtonContainer:_l,FollowTheCursor:Sl,Button:El},Nl="https://drive.google.com/file/d/1Fr7spdFnohyxuAoMEubrhpCjyb_jhFwT/view?usp=sharing",Cl=()=>{const e=P.useRef(null),t=P.useRef(null);return P.useEffect(()=>{const n=r=>{if(!e.current||!t.current)return;const o=t.current.getBoundingClientRect();!r.clientX||!r.clientY||(e.current.style.left=r.clientX-o.left-35+"px",e.current.style.top=r.clientY-o.top-35+"px")};return window.addEventListener("mousemove",n),()=>window.removeEventListener("mousemove",n)},[]),m.jsx("div",{className:ur.ButtonContainer,children:m.jsx("a",{href:Nl,target:"_blank",download:!0,rel:"noreferrer",children:m.jsxs("button",{className:ur.Button,ref:t,children:["Open CV ",m.jsx($c,{}),m.jsx("div",{className:ur.FollowTheCursor,ref:e})]})})})},Ml="_Description_1jq2u_1",kl="_Underline_1jq2u_26",Tl="_Arrow_1jq2u_34",Il="_HashLink_1jq2u_44",Ae={Description:Ml,Underline:kl,Arrow:Tl,HashLink:Il},jl=()=>m.jsxs("div",{className:Ae.Description,children:["I started as QA, worked as a designer, and made my way to the frontend development.",m.jsx("br",{}),"Today I create ",m.jsx("span",{className:Ae.Underline,children:"complex"})," React applications, such as video editor, or a whole application, designed for configuring and signing bank documents. I work as a"," ",m.jsx("span",{className:Ae.Underline,children:"sole developer"})," and"," ",m.jsx("span",{className:Ae.Underline,children:"in a team"}),".",m.jsx("br",{}),"I worked with various libraries and technologies, such as"," ",m.jsx("span",{className:Ae.Underline,children:"TypeScript"}),", Redux, Node.js, Strorybook, Thrifts, Sass, BEM, Styled Components, material-ui, etc."," ",m.jsx("br",{}),m.jsx("span",{className:Ae.Underline,children:"Code quality"})," is important to me, so I adhere to KISS, DRY & SOLID.",m.jsx("br",{}),'Most often, colleagues describe me as a "nice to communicate with" : )'," ",m.jsx("div",{className:Ae.LinkContainer,children:m.jsxs(Ui,{className:Ae.HashLink,to:"#contact-me",smooth:!0,children:["Communicate?"," ",m.jsx(Ac,{size:"15",className:Ae.Arrow})]})})]}),$l="_NumberContainer_vgzlg_1",Al="_Text_vgzlg_21",un={NumberContainer:$l,Number:"_Number_vgzlg_1",Text:Al},dr=({number:e,text:t,className:n,withPlus:r=!1})=>m.jsxs("div",{className:`${un.NumberContainer} ${un[n]}`,children:[m.jsx("div",{className:un.Number,children:`${e}${r?"+":""}`}),m.jsx("div",{className:un.Text,children:t})]}),Pl="_Numbers_6nhf3_1",Ll={Numbers:Pl},Dl=()=>m.jsxs("div",{className:Ll.Numbers,children:[m.jsx(dr,{number:4,withPlus:!0,text:"years of experience",className:"One"}),m.jsx(dr,{number:7,withPlus:!0,text:"projects",className:"Two"}),m.jsx(dr,{number:3,text:"specialties",className:"Three"})]}),Bl=()=>m.jsxs("section",{id:"about","aria-label":"about me",children:[m.jsxs("div",{className:We.About,children:[m.jsxs(_e.div,{initial:{opacity:0,filter:"blur(15px) brightness(2)"},whileInView:{opacity:1,filter:"none"},transition:{duration:.5},className:We.PhotoContainer,children:[m.jsx(_e.img,{src:"img/TaliPurple.webp",alt:"Tali's picture",width:275,height:275,className:We.Photo}),m.jsx("div",{className:We.PhotoFrame})]}),m.jsxs("div",{className:We.Text,children:[m.jsx("div",{className:We.Profession,children:"Frontend developer"}),m.jsx("div",{className:We.Stack,children:"React.js, Typescript"}),m.jsx(Cl,{})]})]}),m.jsx(Dl,{}),m.jsx(jl,{})]});var qe=(e=>(e.light="light",e.dark="dark",e))(qe||{});const Rl=["I love jogging","I'm almost entirely indifferent about food","I've had dreadlocks for about 5 years","I don't like my first name and prefer to be called Tali","I am a cat person","I'm a younger sibling in a family with 2 kids","I have very few photos of myself, I don't really like to take them","I adore house plants and know the names of many species and their sorts","I play tabletop roleplay games, like D&D","I used to study German language, when I was a teen","I don't have a TikTok or Instagram account","I normally play very specific short indie video games","I was a Dungeon Master and received a lot of positive feedback","I have a natural ability to make cartoonish voices","I learnt to sing, but am too shy to do it in public","I used to be an actress on a horror quest",`My favorite book is Eliezer S. Yudkowsky's "Harry Potter and methods of rationality"`,"I used to draw and paint, and there're still traces of that somewhere in the Internet","I used to study psychology and my favorite topic is cognitive distortions","I jumped with a parachute once"],Qi="tali-resume-key",Co=e=>{let t;const n=new Set,r=(l,f)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const d=t;t=f??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(h=>h(t,d))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=t=e(r,o,a);return a},zl=(e=>e?Co(e):Co),Hl=e=>e;function Fl(e,t=Hl){const n=Nt.useSyncExternalStore(e.subscribe,Nt.useCallback(()=>t(e.getState()),[e,t]),Nt.useCallback(()=>t(e.getInitialState()),[e,t]));return Nt.useDebugValue(n),n}const Mo=e=>{const t=zl(e),n=r=>Fl(t,r);return Object.assign(n,t),n},Ji=(e=>e?Mo(e):Mo),_t=Ji(e=>({bugs:void 0,releaseBugs:t=>e(()=>({bugs:t})),catchBug:()=>e(t=>({bugs:t.bugs?t.bugs-1:void 0})),renewGame:()=>e(()=>({bugs:void 0}))})),Ct=Ji(e=>({notWatchedFacts:Rl,currentFact:void 0,diceResult:void 0,clearDiceResult:()=>e({diceResult:void 0}),watchFact:(t,n)=>e(r=>({diceResult:n,currentFact:r.notWatchedFacts[t]??"Now you know EVERYTHING about me!",notWatchedFacts:r.notWatchedFacts.filter((o,i)=>i!==t)}))}));function Ol(e,t){const n=Math.ceil(e),r=Math.floor(t);return Math.floor(Math.random()*(r-n+1))+e+Math.random()}const Vl="_Header_n7h6m_1",Yl="_TextSecondary_n7h6m_11",ko={Header:Vl,TextSecondary:Yl},nt=({name:e,icon:t,textSecondary:n})=>{const r=m.jsxs(m.Fragment,{children:[m.jsx("span",{children:e}),t]}),o=m.jsx(m.Fragment,{children:n&&m.jsx("div",{className:ko.TextSecondary,children:n})});return m.jsx("header",{className:ko.Header,children:m.jsxs(m.Fragment,{children:[m.jsx("h2",{children:r}),o]})})},Xl="_Bug_h1gx4_1",Wl="_ReleaseButton_h1gx4_28",Gl="_BattleContainer_h1gx4_44",ql="_BattleImgContainer_h1gx4_49",Ul="_BattleBackground_h1gx4_57",Kl="_TaliPortrait_h1gx4_63",Zl="_BugPortrait_h1gx4_71",Ql="_Tooltip_h1gx4_79",Jl="_TooltipTali_h1gx4_91",eu="_TooltipBug_h1gx4_97",pe={Bug:Xl,ReleaseButton:Wl,BattleContainer:Gl,BattleImgContainer:ql,BattleBackground:Ul,TaliPortrait:Kl,BugPortrait:Zl,Tooltip:Ql,TooltipTali:Jl,TooltipBug:eu},kn=12,tu=12;var lt=(e=>(e.FIRST_VISIT="FIRST_VISIT",e.KNOWS_EVERYTHING="KNOWS_EVERYTHING",e.BUGS_CAUGHT="BUGS_CAUGHT",e))(lt||{});const es=(e,t)=>e.find(n=>n.id===t);var fr,To;function nu(){if(To)return fr;To=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,c=typeof ln=="object"&&ln&&ln.Object===Object&&ln,l=typeof self=="object"&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),u=Object.prototype,d=u.toString,h=Math.max,p=Math.min,g=function(){return f.Date.now()};function w(S,E,N){var k,j,O,A,I,D,_=0,$=!1,C=!1,L=!0;if(typeof S!="function")throw new TypeError(e);E=v(E)||0,y(N)&&($=!!N.leading,C="maxWait"in N,O=C?h(v(N.maxWait)||0,E):O,L="trailing"in N?!!N.trailing:L);function T(V){var F=k,G=j;return k=j=void 0,_=V,A=S.apply(G,F),A}function M(V){return _=V,I=setTimeout(R,E),$?T(V):A}function B(V){var F=V-D,G=V-_,Z=E-F;return C?p(Z,O-G):Z}function z(V){var F=V-D,G=V-_;return D===void 0||F>=E||F<0||C&&G>=O}function R(){var V=g();if(z(V))return W(V);I=setTimeout(R,B(V))}function W(V){return I=void 0,L&&k?T(V):(k=j=void 0,A)}function Y(){I!==void 0&&clearTimeout(I),_=0,k=D=j=I=void 0}function U(){return I===void 0?A:W(g())}function K(){var V=g(),F=z(V);if(k=arguments,j=this,D=V,F){if(I===void 0)return M(D);if(C)return I=setTimeout(R,E),T(D)}return I===void 0&&(I=setTimeout(R,E)),A}return K.cancel=Y,K.flush=U,K}function y(S){var E=typeof S;return!!S&&(E=="object"||E=="function")}function b(S){return!!S&&typeof S=="object"}function x(S){return typeof S=="symbol"||b(S)&&d.call(S)==n}function v(S){if(typeof S=="number")return S;if(x(S))return t;if(y(S)){var E=typeof S.valueOf=="function"?S.valueOf():S;S=y(E)?E+"":E}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var N=i.test(S);return N||s.test(S)?a(S.slice(2),N?2:8):o.test(S)?t:+S}return fr=w,fr}nu();var ts=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Io(e,t,n,r){const o=P.useRef(t);ts(()=>{o.current=t},[t]),P.useEffect(()=>{const i=window;if(!(i&&i.addEventListener))return;const s=a=>{o.current(a)};return i.addEventListener(e,s,r),()=>{i.removeEventListener(e,s,r)}},[e,n,r])}function jo(e){const t=P.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return ts(()=>{t.current=e},[e]),P.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[t])}var hr=typeof window>"u";function ns(e,t,n={}){const{initializeWithValue:r=!0}=n,o=P.useCallback(d=>n.serializer?n.serializer(d):JSON.stringify(d),[n]),i=P.useCallback(d=>{if(n.deserializer)return n.deserializer(d);if(d==="undefined")return;const h=t instanceof Function?t():t;let p;try{p=JSON.parse(d)}catch(g){return console.error("Error parsing JSON:",g),h}return p},[n,t]),s=P.useCallback(()=>{const d=t instanceof Function?t():t;if(hr)return d;try{const h=window.localStorage.getItem(e);return h?i(h):d}catch(h){return console.warn(`Error reading localStorage key â€œ${e}â€:`,h),d}},[t,e,i]),[a,c]=P.useState(()=>r?s():t instanceof Function?t():t),l=jo(d=>{hr&&console.warn(`Tried setting localStorage key â€œ${e}â€ even though environment is not a client`);try{const h=d instanceof Function?d(s()):d;window.localStorage.setItem(e,o(h)),c(h),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(h){console.warn(`Error setting localStorage key â€œ${e}â€:`,h)}}),f=jo(()=>{hr&&console.warn(`Tried removing localStorage key â€œ${e}â€ even though environment is not a client`);const d=t instanceof Function?t():t;window.localStorage.removeItem(e),c(d),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});P.useEffect(()=>{c(s())},[e]);const u=P.useCallback(d=>{d.key&&d.key!==e||c(s())},[e,s]);return Io("storage",u),Io("local-storage",u),[a,l,f]}const ru=e=>{const[t,n]=ns(Qi,[]);P.useEffect(()=>{e&&n(r=>{console.log("val",r);const o=es(r,lt.BUGS_CAUGHT);return o?[...r.filter(i=>i.id!==o.id),{id:lt.BUGS_CAUGHT,quantity:(o==null?void 0:o.quantity)+kn}]:[...r,{id:lt.BUGS_CAUGHT,quantity:kn}]})},[e])},ou="_Modal_43u2j_1",iu="_Backdrop_43u2j_12",$o={Modal:ou,Backdrop:iu},rs=({isOpen:e,disableBackdropClick:t=!1,onClose:n,children:r})=>m.jsx(al,{children:e&&m.jsx(_e.div,{className:$o.Backdrop,onClick:()=>{t||n()},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:m.jsx(_e.div,{className:$o.Modal,role:"dialog",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:r})})}),su=e=>{const t=e.clientWidth-100,n=e.clientHeight-100,r=`${Math.random()*t}px`,o=`${Math.random()*n}px`,i=`${Math.random()*360}deg`,a=`/resume/img/bugs/bug${Math.ceil(Math.random()*tu)}.webp`;return{x:r,y:o,src:a,angle:i}},au=({bugParams:e,catchBug:t})=>{const{x:n,y:r,src:o,angle:i}=e,s=document.createElement("img");return s.src=o,s.classList.add(pe.Bug),s.alt="a bug",s.style.top=r,s.style.left=n,s.style.rotate=i,s.style.setProperty("--duration",Ol(15,25)+"s"),s.onclick=()=>{s.remove(),t()},s},cu=()=>{const e=_t(s=>s.bugs?s.bugs>0:!1),t=_t(s=>s.renewGame),n=_t(s=>s.bugs===0),r=_t(s=>s.releaseBugs),o=_t(s=>s.catchBug),i=()=>{for(let s=0;s<kn;s++){const a=document.querySelector("#root_");if(!a)return;const c=su(a),l=au({bugParams:c,catchBug:o});a==null||a.appendChild(l)}r(kn)};return ru(n),P.useEffect(()=>{n&&t()},[]),m.jsxs("section",{id:"bug-hunt","aria-label":"bug hunt",children:[m.jsx(nt,{name:"Bug Hunt",icon:m.jsx(Pc,{className:"icon"}),textSecondary:"help Natalia find all bugs on a page"}),m.jsxs("div",{className:pe.BattleContainer,children:[m.jsxs("div",{className:pe.BattleImgContainer,children:[m.jsx("img",{src:"img/vs.webp",alt:"background Tali vs bugs",className:pe.BattleBackground}),m.jsx(At,{minWidth:800,children:m.jsx("div",{className:`${pe.Tooltip} ${pe.TooltipTali}`,children:"I'm a Senior developer"})}),m.jsx(_e.img,{src:"img/TaliStanding2.webp",alt:"Tali",initial:{y:"-30%",x:"-125%"},whileInView:{y:"-50%"},transition:{duration:.75},className:pe.TaliPortrait}),m.jsx(At,{minWidth:800,children:m.jsx("div",{className:`${pe.Tooltip} ${pe.TooltipBug}`,children:"I'm a feature"})}),m.jsx(_e.img,{src:"img/bugs/bug000.webp",alt:"bug",initial:{y:"-100%",x:"85%"},whileInView:{y:"-50%"},transition:{duration:.75},className:pe.BugPortrait})]}),m.jsx("button",{onClick:i,disabled:e,className:pe.ReleaseButton,children:e?"Bugs are now on the loose...":"Release the bugs ðŸª²"})]}),m.jsx(rs,{isOpen:n,onClose:t,children:m.jsx("img",{src:"/resume/img/you-won2.webp"})})]})},lu="_LinkToTheTop_1u28a_1",uu={LinkToTheTop:lu},du="https://t.me/TaliSent",fu="ns.sent@yandex.ru",Ao="0552576608",hu=[{href:du,textPrimary:"Text me",textSecondary:"TaliSent",icon:m.jsx(Lc,{size:"30"})},{href:`mailto: ${fu}`,textPrimary:"Email me",textSecondary:"ns.sent@yandex.ru",icon:m.jsx(Dc,{size:"30"})},{href:`tel: ${Ao}`,textPrimary:"Call me",textSecondary:Ao,icon:m.jsx(Bc,{size:"30"})}],gu="_Contact_1mbij_1",mu="_TextContainer_1mbij_7",pu="_TextPrimary_1mbij_13",yu="_TextSecondary_1mbij_42",dn={Contact:gu,TextContainer:mu,TextPrimary:pu,TextSecondary:yu},xu=({href:e,textPrimary:t,textSecondary:n,icon:r})=>m.jsx("li",{children:m.jsxs("a",{href:e,className:dn.Contact,"aria-label":n,children:[r,m.jsxs("div",{className:dn.TextContainer,children:[m.jsx("div",{className:dn.TextPrimary,children:t}),m.jsx("div",{className:dn.TextSecondary,children:n})]})]})}),wu="_Contacts_rrem9_1",vu={Contacts:wu},bu=()=>m.jsx("ul",{className:vu.Contacts,children:hu.map(({href:e,textPrimary:t,textSecondary:n,icon:r})=>m.jsx(xu,{href:e,textPrimary:t,textSecondary:n,icon:r},e))}),_u="_Links_1rg30_1",fn={Links:_u},Su="https://github.com/taliSent/",Eu="https://www.linkedin.com/in/natalya-sentemova/",Nu=()=>{const e="#6F2DBD";return m.jsxs("div",{className:fn.Links,children:[m.jsx(_e.div,{className:fn.Link,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},whileHover:{y:-10},transition:{ease:"easeInOut",duration:.4},children:m.jsx("div",{children:m.jsx("a",{href:Su,target:"_blank",rel:"noreferrer","aria-label":"link to github",children:m.jsx(Rc,{size:"45",color:e})})})}),m.jsx("div",{children:m.jsx(_e.div,{className:fn.Link,initial:{opacity:0,y:35},whileInView:{opacity:1,y:0},whileHover:{y:-10},transition:{ease:"easeInOut",duration:.4},children:m.jsx("a",{href:Eu,className:fn.Link,target:"_blank",rel:"noreferrer","aria-label":"link to linkedin",children:m.jsx(zc,{size:"45",color:e})})})})]})},Cu=()=>m.jsxs("section",{id:"contact-me","aria-label":"contact me",children:[m.jsx(nt,{name:"Contact me",icon:m.jsx(Hc,{className:"icon",size:"28"}),textSecondary:"Natalia Sentemova"}),m.jsxs("div",{children:[m.jsx(bu,{}),m.jsx(Nu,{})]}),m.jsx(Ui,{to:"#top",smooth:!0,className:uu.LinkToTheTop,"aria-label":"to the top of the page",children:m.jsx(Fc,{size:"22"})})]}),Mu=[{name:"Frontend developer",place:"Mystify",years:"2025",achievement:"Implemented the best practises to the developement process, which saved days and weeks of developement",isMirrored:!0},{name:"Frontend developer",place:"Spirit me",years:"2023-2024",achievement:"Developed an AI-powered video editor",isMirrored:!0},{name:"Frontend developer",place:"Cinimex",years:"2019-2022",achievement:"Developed aÂ bank application that allows user to configure, watch asÂ PDF andÂ sign documents",isMirrored:!0},{name:"SQL Developer",place:"AT Consulting",achievement:"Developed aÂ 30-pages printed form with around 50Â SQL queries, each with complex business logic.",years:"2019",isMirrored:!0},{name:"QA Engineer",place:"AT Consulting",achievement:"Fixed critical bugs inÂ autotests.",years:"2018-2019",isMirrored:!0},{name:"Researcher",place:"MSU",years:"2014-2016",isLast:!0,achievement:"Predicted electron fluxes AI, proccesed withÂ Python & Numpy",isMirrored:!0}],ku=[{name:"Advanced state management",place:"Frontend masters",achievement:"Learnt the best practises of the state management from a founder of stately.ai",years:"2025"},{name:"React Marathon",place:"Zar Zacharov",achievement:"A month ofÂ intense work on aÂ card game.",years:"2021"},{name:"Learn React Part II Course",place:"Codeacademy",achievement:"Built several educational React applications",years:"2021"},{name:"Learn React Course",place:"Codeacademy",years:"2021"},{name:"Bachelor of Physics",place:"MSU",years:"2012-2016",isLast:!0}],Tu="_Unit_1irhj_1",Iu="_Name_1irhj_10",ju="_Achievement_1irhj_16",$u="_Years_1irhj_22",Au="_isMirrored_1irhj_27",Pu="_isMirroredText_1irhj_35",Lu="_TimePoint_1irhj_39",Du="_TimeLine_1irhj_51",me={Unit:Tu,Name:Iu,Achievement:ju,Years:$u,isMirrored:Au,isMirroredText:Pu,TimePoint:Lu,TimeLine:Du},os=({name:e,place:t,years:n,achievement:r,isLast:o,isMirrored:i})=>m.jsxs(_e.div,{initial:{opacity:0,filter:"blur(10px)"},whileInView:{opacity:1,filter:"none"},className:`${me.Unit} ${i&&me.isMirrored}`,children:[m.jsxs("div",{className:me.Time,children:[m.jsx("div",{className:me.TimePoint}),!o&&m.jsx("div",{className:me.TimeLine})]}),m.jsxs("div",{className:`${me.Text} ${i&&me.isMirroredText}`,children:[m.jsx("strong",{className:me.Name,children:e}),m.jsx("div",{className:me.Years,children:n}),m.jsx("div",{className:me.Years,children:t}),m.jsx("div",{className:me.Achievement,children:r})]})]}),Po=()=>m.jsx("div",{children:ku.map(({name:e,place:t,years:n,achievement:r,isLast:o,isMirrored:i})=>m.jsx(os,{name:e,place:t,achievement:r,years:n,isLast:o,isMirrored:i},`${e} ${t}`))}),Bu="_Experience_1rpal_2",Ru={Experience:Bu},Lo=({className:e})=>m.jsx("div",{className:Ru.Experience,children:Mu.map(({name:t,place:n,years:r,achievement:o,isLast:i,isMirrored:s})=>m.jsx(os,{name:t,place:n,achievement:o,years:r,isLast:i,isMirrored:s},`${t} ${n}`))}),zu="_Headers_1om10_1",Hu="_XP_1om10_7",gr={Headers:zu,XP:Hu},Do=()=>m.jsx(nt,{name:"Education",icon:m.jsx(Oc,{className:"icon",size:"36"})}),Bo=()=>m.jsx(nt,{name:"Experience",icon:m.jsx(Vc,{className:"icon",size:"28"})}),Fu=()=>m.jsxs("section",{id:"experience","aria-label":"my experience",children:[m.jsxs(At,{minWidth:849,children:[m.jsxs("div",{className:gr.Headers,children:[m.jsx(Do,{}),m.jsx(Bo,{})]}),m.jsxs("div",{className:gr.XP,children:[m.jsx(Po,{}),m.jsx(Lo,{})]})]}),m.jsxs(At,{maxWidth:847,children:[m.jsx(Bo,{}),m.jsx(Lo,{className:gr.Experience}),m.jsx(Do,{}),m.jsx(Po,{})]})]}),Ou="_GameContainer_1nin3_1",Vu="_Dice_1nin3_9",Yu="_Result_1nin3_15",Xu="_DiceContainer_1nin3_32",Wu="_Fact_1nin3_45",Gu="_TryAgain_1nin3_49",qu="_FactContainer_1nin3_54",Le={GameContainer:Ou,Dice:Vu,Result:Yu,DiceContainer:Xu,Fact:Wu,TryAgain:Gu,FactContainer:qu},Uu=()=>{const[e,t]=ns(Qi,[]),n=Ct(l=>l.notWatchedFacts),r=Ct(l=>l.diceResult),o=Ct(l=>l.watchFact),i=Ct(l=>l.clearDiceResult),[s,a]=cl(),c=async()=>{const l=Math.random()>.5?1:-1;i(),await a(s.current,{rotate:l*360,y:"-100%",x:0},{duration:.8,bounce:0,type:"spring"});const f=a(s.current,{rotate:l*720},{visualDuration:.8,bounce:0,type:"spring",onComplete:()=>{const d=Math.ceil(Math.random()*20),h=Math.floor(Math.random()*n.length);if(n.length===0){const p={id:lt.KNOWS_EVERYTHING};t(g=>es(g,lt.KNOWS_EVERYTHING)?g:[...g,p])}o(h,d),a(s.current,{rotate:0},{duration:0})}}),u=a(s.current,{x:0,y:0},{visualDuration:.8,bounce:.8,type:"spring"});await Promise.all([f,u])};return m.jsxs("section",{id:"random-fact","aria-label":"random fact",children:[m.jsx(nt,{name:"Random fact",textSecondary:"roll a dice to know more about me",icon:m.jsx(Yc,{className:"icon"})}),m.jsxs("div",{className:Le.GameContainer,children:[m.jsxs("button",{ref:s,onClick:c,className:Le.DiceContainer,children:[m.jsx("img",{src:"img/dice3.webp",alt:"dice d20",className:Le.Dice}),m.jsx("div",{className:Le.Result,children:r})]}),r&&m.jsx(Ku,{diceResult:r,rollDice:c})]})]})},Ro=()=>{const e=Ct(t=>t.currentFact);return m.jsxs("div",{className:Le.Fact,children:["â­ ",e]})},Ku=({diceResult:e,rollDice:t})=>{const[n,r]=P.useState(!1);return e===20?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:Le.FactContainer,children:[m.jsx(Ro,{}),m.jsxs(m.Fragment,{children:["This is a critical success! You won a"," ",m.jsx("button",{onClick:()=>r(!0),children:"[photo]"})," of me from the past as a bonus âœ¨"]})]}),m.jsx(rs,{isOpen:n,onClose:()=>r(!1),children:m.jsx("img",{src:"/resume/img/TaliPhoto.jpg"})})]}):e===1?m.jsxs("div",{className:Le.FactContainer,children:["This is a critical failure! You're welcome to provide a fact about yourself."," ",m.jsx(Ki,{to:"#contact-me",smooth:!0,children:"[Contact me]"})," ",m.jsx("br",{}),"or"," ",m.jsx("button",{onClick:t,className:Le.TryAgain,children:"[try again]"})]}):m.jsx("div",{className:Le.FactContainer,children:m.jsx(Ro,{})})};function ae(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ae(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Zu={value:()=>{}};function On(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Sn(n)}function Sn(e){this._=e}function Qu(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Sn.prototype=On.prototype={constructor:Sn,on:function(e,t){var n=this._,r=Qu(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Ju(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=zo(n[o],e.name,t);else if(t==null)for(o in n)n[o]=zo(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Sn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Ju(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function zo(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Zu,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ir="http://www.w3.org/1999/xhtml";const Ho={svg:"http://www.w3.org/2000/svg",xhtml:Ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ho.hasOwnProperty(t)?{space:Ho[t],local:e}:e}function ed(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ir&&t.documentElement.namespaceURI===Ir?t.createElement(e):t.createElementNS(n,e)}}function td(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function is(e){var t=Vn(e);return(t.local?td:ed)(t)}function nd(){}function Wr(e){return e==null?nd:function(){return this.querySelector(e)}}function rd(e){typeof e!="function"&&(e=Wr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),c,l,f=0;f<s;++f)(c=i[f])&&(l=e.call(c,c.__data__,f,i))&&("__data__"in c&&(l.__data__=c.__data__),a[f]=l);return new fe(r,this._parents)}function od(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function id(){return[]}function ss(e){return e==null?id:function(){return this.querySelectorAll(e)}}function sd(e){return function(){return od(e.apply(this,arguments))}}function ad(e){typeof e=="function"?e=sd(e):e=ss(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(r.push(e.call(c,c.__data__,l,s)),o.push(c));return new fe(r,o)}function as(e){return function(){return this.matches(e)}}function cs(e){return function(t){return t.matches(e)}}var cd=Array.prototype.find;function ld(e){return function(){return cd.call(this.children,e)}}function ud(){return this.firstElementChild}function dd(e){return this.select(e==null?ud:ld(typeof e=="function"?e:cs(e)))}var fd=Array.prototype.filter;function hd(){return Array.from(this.children)}function gd(e){return function(){return fd.call(this.children,e)}}function md(e){return this.selectAll(e==null?hd:gd(typeof e=="function"?e:cs(e)))}function pd(e){typeof e!="function"&&(e=as(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new fe(r,this._parents)}function ls(e){return new Array(e.length)}function yd(){return new fe(this._enter||this._groups.map(ls),this._parents)}function Tn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Tn.prototype={constructor:Tn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xd(e){return function(){return e}}function wd(e,t,n,r,o,i){for(var s=0,a,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Tn(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function vd(e,t,n,r,o,i,s){var a,c,l=new Map,f=t.length,u=i.length,d=new Array(f),h;for(a=0;a<f;++a)(c=t[a])&&(d[a]=h=s.call(c,c.__data__,a,t)+"",l.has(h)?o[a]=c:l.set(h,c));for(a=0;a<u;++a)h=s.call(e,i[a],a,i)+"",(c=l.get(h))?(r[a]=c,c.__data__=i[a],l.delete(h)):n[a]=new Tn(e,i[a]);for(a=0;a<f;++a)(c=t[a])&&l.get(d[a])===c&&(o[a]=c)}function bd(e){return e.__data__}function _d(e,t){if(!arguments.length)return Array.from(this,bd);var n=t?vd:wd,r=this._parents,o=this._groups;typeof e!="function"&&(e=xd(e));for(var i=o.length,s=new Array(i),a=new Array(i),c=new Array(i),l=0;l<i;++l){var f=r[l],u=o[l],d=u.length,h=Sd(e.call(f,f&&f.__data__,l,r)),p=h.length,g=a[l]=new Array(p),w=s[l]=new Array(p),y=c[l]=new Array(d);n(f,u,g,w,y,h,t);for(var b=0,x=0,v,S;b<p;++b)if(v=g[b]){for(b>=x&&(x=b+1);!(S=w[x])&&++x<p;);v._next=S||null}}return s=new fe(s,r),s._enter=a,s._exit=c,s}function Sd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ed(){return new fe(this._exit||this._groups.map(ls),this._parents)}function Nd(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Cd(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),c=0;c<s;++c)for(var l=n[c],f=r[c],u=l.length,d=a[c]=new Array(u),h,p=0;p<u;++p)(h=l[p]||f[p])&&(d[p]=h);for(;c<o;++c)a[c]=n[c];return new fe(a,this._parents)}function Md(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function kd(e){e||(e=Td);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,c=o[i]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(c[f]=l);c.sort(t)}return new fe(o,this._parents).order()}function Td(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Id(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jd(){return Array.from(this)}function $d(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Ad(){let e=0;for(const t of this)++e;return e}function Pd(){return!this.node()}function Ld(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function Dd(e){return function(){this.removeAttribute(e)}}function Bd(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rd(e,t){return function(){this.setAttribute(e,t)}}function zd(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Hd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Fd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Od(e,t){var n=Vn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Bd:Dd:typeof t=="function"?n.local?Fd:Hd:n.local?zd:Rd)(n,t))}function us(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Vd(e){return function(){this.style.removeProperty(e)}}function Yd(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xd(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Wd(e,t,n){return arguments.length>1?this.each((t==null?Vd:typeof t=="function"?Xd:Yd)(e,t,n??"")):ft(this.node(),e)}function ft(e,t){return e.style.getPropertyValue(t)||us(e).getComputedStyle(e,null).getPropertyValue(t)}function Gd(e){return function(){delete this[e]}}function qd(e,t){return function(){this[e]=t}}function Ud(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Kd(e,t){return arguments.length>1?this.each((t==null?Gd:typeof t=="function"?Ud:qd)(e,t)):this.node()[e]}function ds(e){return e.trim().split(/^|\s+/)}function Gr(e){return e.classList||new fs(e)}function fs(e){this._node=e,this._names=ds(e.getAttribute("class")||"")}fs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function hs(e,t){for(var n=Gr(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function gs(e,t){for(var n=Gr(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Zd(e){return function(){hs(this,e)}}function Qd(e){return function(){gs(this,e)}}function Jd(e,t){return function(){(t.apply(this,arguments)?hs:gs)(this,e)}}function ef(e,t){var n=ds(e+"");if(arguments.length<2){for(var r=Gr(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Jd:t?Zd:Qd)(n,t))}function tf(){this.textContent=""}function nf(e){return function(){this.textContent=e}}function rf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function of(e){return arguments.length?this.each(e==null?tf:(typeof e=="function"?rf:nf)(e)):this.node().textContent}function sf(){this.innerHTML=""}function af(e){return function(){this.innerHTML=e}}function cf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function lf(e){return arguments.length?this.each(e==null?sf:(typeof e=="function"?cf:af)(e)):this.node().innerHTML}function uf(){this.nextSibling&&this.parentNode.appendChild(this)}function df(){return this.each(uf)}function ff(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hf(){return this.each(ff)}function gf(e){var t=typeof e=="function"?e:is(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function mf(){return null}function pf(e,t){var n=typeof e=="function"?e:is(e),r=t==null?mf:typeof t=="function"?t:Wr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function yf(){var e=this.parentNode;e&&e.removeChild(this)}function xf(){return this.each(yf)}function wf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bf(e){return this.select(e?vf:wf)}function _f(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Sf(e){return function(t){e.call(this,t,this.__data__)}}function Ef(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Nf(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Cf(e,t,n){return function(){var r=this.__on,o,i=Sf(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Mf(e,t,n){var r=Ef(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,f;c<l;++c)for(o=0,f=a[c];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?Cf:Nf,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function ms(e,t,n){var r=us(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function kf(e,t){return function(){return ms(this,e,t)}}function Tf(e,t){return function(){return ms(this,e,t.apply(this,arguments))}}function If(e,t){return this.each((typeof t=="function"?Tf:kf)(e,t))}function*jf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var ps=[null];function fe(e,t){this._groups=e,this._parents=t}function Gt(){return new fe([[document.documentElement]],ps)}function $f(){return this}fe.prototype=Gt.prototype={constructor:fe,select:rd,selectAll:ad,selectChild:dd,selectChildren:md,filter:pd,data:_d,enter:yd,exit:Ed,join:Nd,merge:Cd,selection:$f,order:Md,sort:kd,call:Id,nodes:jd,node:$d,size:Ad,empty:Pd,each:Ld,attr:Od,style:Wd,property:Kd,classed:ef,text:of,html:lf,raise:df,lower:hf,append:gf,insert:pf,remove:xf,clone:bf,datum:_f,on:Mf,dispatch:If,[Symbol.iterator]:jf};function de(e){return typeof e=="string"?new fe([[document.querySelector(e)]],[document.documentElement]):new fe([[e]],ps)}function Af(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ye(e,t){if(e=Af(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Pf={passive:!1},Pt={capture:!0,passive:!1};function mr(e){e.stopImmediatePropagation()}function ut(e){e.preventDefault(),e.stopImmediatePropagation()}function ys(e){var t=e.document.documentElement,n=de(e).on("dragstart.drag",ut,Pt);"onselectstart"in t?n.on("selectstart.drag",ut,Pt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function xs(e,t){var n=e.document.documentElement,r=de(e).on("dragstart.drag",null);t&&(r.on("click.drag",ut,Pt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const hn=e=>()=>e;function jr(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:a,dx:c,dy:l,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:f}})}jr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Lf(e){return!e.ctrlKey&&!e.button}function Df(){return this.parentNode}function Bf(e,t){return t??{x:e.x,y:e.y}}function Rf(){return navigator.maxTouchPoints||"ontouchstart"in this}function ws(){var e=Lf,t=Df,n=Bf,r=Rf,o={},i=On("start","drag","end"),s=0,a,c,l,f,u=0;function d(v){v.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",y,Pf).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,S){if(!(f||!e.call(this,v,S))){var E=x(this,t.call(this,v,S),v,S,"mouse");E&&(de(v.view).on("mousemove.drag",p,Pt).on("mouseup.drag",g,Pt),ys(v.view),mr(v),l=!1,a=v.clientX,c=v.clientY,E("start",v))}}function p(v){if(ut(v),!l){var S=v.clientX-a,E=v.clientY-c;l=S*S+E*E>u}o.mouse("drag",v)}function g(v){de(v.view).on("mousemove.drag mouseup.drag",null),xs(v.view,l),ut(v),o.mouse("end",v)}function w(v,S){if(e.call(this,v,S)){var E=v.changedTouches,N=t.call(this,v,S),k=E.length,j,O;for(j=0;j<k;++j)(O=x(this,N,v,S,E[j].identifier,E[j]))&&(mr(v),O("start",v,E[j]))}}function y(v){var S=v.changedTouches,E=S.length,N,k;for(N=0;N<E;++N)(k=o[S[N].identifier])&&(ut(v),k("drag",v,S[N]))}function b(v){var S=v.changedTouches,E=S.length,N,k;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<E;++N)(k=o[S[N].identifier])&&(mr(v),k("end",v,S[N]))}function x(v,S,E,N,k,j){var O=i.copy(),A=ye(j||E,S),I,D,_;if((_=n.call(v,new jr("beforestart",{sourceEvent:E,target:d,identifier:k,active:s,x:A[0],y:A[1],dx:0,dy:0,dispatch:O}),N))!=null)return I=_.x-A[0]||0,D=_.y-A[1]||0,function $(C,L,T){var M=A,B;switch(C){case"start":o[k]=$,B=s++;break;case"end":delete o[k],--s;case"drag":A=ye(T||L,S),B=s;break}O.call(C,v,new jr(C,{sourceEvent:L,subject:_,target:d,identifier:k,active:B,x:A[0]+I,y:A[1]+D,dx:A[0]-M[0],dy:A[1]-M[1],dispatch:O}),N)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:hn(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:hn(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:hn(v),d):n},d.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:hn(!!v),d):r},d.on=function(){var v=i.on.apply(i,arguments);return v===i?d:v},d.clickDistance=function(v){return arguments.length?(u=(v=+v)*v,d):Math.sqrt(u)},d}function qr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qt(){}var Lt=.7,In=1/Lt,dt="\\s*([+-]?\\d+)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zf=/^#([0-9a-f]{3,8})$/,Hf=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),Ff=new RegExp(`^rgb\\(${ke},${ke},${ke}\\)$`),Of=new RegExp(`^rgba\\(${dt},${dt},${dt},${Dt}\\)$`),Vf=new RegExp(`^rgba\\(${ke},${ke},${ke},${Dt}\\)$`),Yf=new RegExp(`^hsl\\(${Dt},${ke},${ke}\\)$`),Xf=new RegExp(`^hsla\\(${Dt},${ke},${ke},${Dt}\\)$`),Fo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qr(qt,Qe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Oo,formatHex:Oo,formatHex8:Wf,formatHsl:Gf,formatRgb:Vo,toString:Vo});function Oo(){return this.rgb().formatHex()}function Wf(){return this.rgb().formatHex8()}function Gf(){return bs(this).formatHsl()}function Vo(){return this.rgb().formatRgb()}function Qe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yo(t):n===3?new ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hf.exec(e))?new ue(t[1],t[2],t[3],1):(t=Ff.exec(e))?new ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Of.exec(e))?gn(t[1],t[2],t[3],t[4]):(t=Vf.exec(e))?gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yf.exec(e))?Go(t[1],t[2]/100,t[3]/100,1):(t=Xf.exec(e))?Go(t[1],t[2]/100,t[3]/100,t[4]):Fo.hasOwnProperty(e)?Yo(Fo[e]):e==="transparent"?new ue(NaN,NaN,NaN,0):null}function Yo(e){return new ue(e>>16&255,e>>8&255,e&255,1)}function gn(e,t,n,r){return r<=0&&(e=t=n=NaN),new ue(e,t,n,r)}function qf(e){return e instanceof qt||(e=Qe(e)),e?(e=e.rgb(),new ue(e.r,e.g,e.b,e.opacity)):new ue}function $r(e,t,n,r){return arguments.length===1?qf(e):new ue(e,t,n,r??1)}function ue(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qr(ue,$r,vs(qt,{brighter(e){return e=e==null?In:Math.pow(In,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lt:Math.pow(Lt,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ue(Ke(this.r),Ke(this.g),Ke(this.b),jn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xo,formatHex:Xo,formatHex8:Uf,formatRgb:Wo,toString:Wo}));function Xo(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}`}function Uf(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}${Ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wo(){const e=jn(this.opacity);return`${e===1?"rgb(":"rgba("}${Ke(this.r)}, ${Ke(this.g)}, ${Ke(this.b)}${e===1?")":`, ${e})`}`}function jn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ke(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ue(e){return e=Ke(e),(e<16?"0":"")+e.toString(16)}function Go(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,r)}function bs(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof qt||(e=Qe(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,c=(i+o)/2;return a?(t===i?s=(n-r)/a+(n<r)*6:n===i?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?i+o:2-i-o,s*=60):a=c>0&&c<1?0:s,new xe(s,a,c,e.opacity)}function Kf(e,t,n,r){return arguments.length===1?bs(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qr(xe,Kf,vs(qt,{brighter(e){return e=e==null?In:Math.pow(In,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lt:Math.pow(Lt,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ue(pr(e>=240?e-240:e+120,o,r),pr(e,o,r),pr(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new xe(qo(this.h),mn(this.s),mn(this.l),jn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jn(this.opacity);return`${e===1?"hsl(":"hsla("}${qo(this.h)}, ${mn(this.s)*100}%, ${mn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qo(e){return e=(e||0)%360,e<0?e+360:e}function mn(e){return Math.max(0,Math.min(1,e||0))}function pr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ur=e=>()=>e;function Zf(e,t){return function(n){return e+n*t}}function Qf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Jf(e){return(e=+e)==1?_s:function(t,n){return n-t?Qf(t,n,e):Ur(isNaN(t)?n:t)}}function _s(e,t){var n=t-e;return n?Zf(e,n):Ur(isNaN(e)?t:e)}const $n=(function e(t){var n=Jf(t);function r(o,i){var s=n((o=$r(o)).r,(i=$r(i)).r),a=n(o.g,i.g),c=n(o.b,i.b),l=_s(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=a(f),o.b=c(f),o.opacity=l(f),o+""}}return r.gamma=e,r})(1);function eh(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function th(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nh(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=It(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(a){for(s=0;s<r;++s)i[s]=o[s](a);return i}}function rh(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Me(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function oh(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=It(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Ar=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yr=new RegExp(Ar.source,"g");function ih(e){return function(){return e}}function sh(e){return function(t){return e(t)+""}}function Ss(e,t){var n=Ar.lastIndex=yr.lastIndex=0,r,o,i,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=Ar.exec(e))&&(o=yr.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,c.push({i:s,x:Me(r,o)})),n=yr.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?sh(c[0].x):ih(t):(t=c.length,function(l){for(var f=0,u;f<t;++f)a[(u=c[f]).i]=u.x(l);return a.join("")})}function It(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ur(t):(n==="number"?Me:n==="string"?(r=Qe(t))?(t=r,$n):Ss:t instanceof Qe?$n:t instanceof Date?rh:th(t)?eh:Array.isArray(t)?nh:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oh:Me)(e,t)}var Uo=180/Math.PI,Pr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Es(e,t,n,r,o,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Uo,skewX:Math.atan(c)*Uo,scaleX:s,scaleY:a}}var pn;function ah(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Pr:Es(t.a,t.b,t.c,t.d,t.e,t.f)}function ch(e){return e==null||(pn||(pn=document.createElementNS("http://www.w3.org/2000/svg","g")),pn.setAttribute("transform",e),!(e=pn.transform.baseVal.consolidate()))?Pr:(e=e.matrix,Es(e.a,e.b,e.c,e.d,e.e,e.f))}function Ns(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,f,u,d,h,p){if(l!==u||f!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Me(l,u)},{i:g-2,x:Me(f,d)})}else(u||d)&&h.push("translate("+u+t+d+n)}function s(l,f,u,d){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),d.push({i:u.push(o(u)+"rotate(",null,r)-2,x:Me(l,f)})):f&&u.push(o(u)+"rotate("+f+r)}function a(l,f,u,d){l!==f?d.push({i:u.push(o(u)+"skewX(",null,r)-2,x:Me(l,f)}):f&&u.push(o(u)+"skewX("+f+r)}function c(l,f,u,d,h,p){if(l!==u||f!==d){var g=h.push(o(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Me(l,u)},{i:g-2,x:Me(f,d)})}else(u!==1||d!==1)&&h.push(o(h)+"scale("+u+","+d+")")}return function(l,f){var u=[],d=[];return l=e(l),f=e(f),i(l.translateX,l.translateY,f.translateX,f.translateY,u,d),s(l.rotate,f.rotate,u,d),a(l.skewX,f.skewX,u,d),c(l.scaleX,l.scaleY,f.scaleX,f.scaleY,u,d),l=f=null,function(h){for(var p=-1,g=d.length,w;++p<g;)u[(w=d[p]).i]=w.x(h);return u.join("")}}}var lh=Ns(ah,"px, ","px)","deg)"),uh=Ns(ch,", ",")",")"),dh=1e-12;function Ko(e){return((e=Math.exp(e))+1/e)/2}function fh(e){return((e=Math.exp(e))-1/e)/2}function hh(e){return((e=Math.exp(2*e))-1)/(e+1)}const En=(function e(t,n,r){function o(i,s){var a=i[0],c=i[1],l=i[2],f=s[0],u=s[1],d=s[2],h=f-a,p=u-c,g=h*h+p*p,w,y;if(g<dh)y=Math.log(d/l)/t,w=function(N){return[a+N*h,c+N*p,l*Math.exp(t*N*y)]};else{var b=Math.sqrt(g),x=(d*d-l*l+r*g)/(2*l*n*b),v=(d*d-l*l-r*g)/(2*d*n*b),S=Math.log(Math.sqrt(x*x+1)-x),E=Math.log(Math.sqrt(v*v+1)-v);y=(E-S)/t,w=function(N){var k=N*y,j=Ko(S),O=l/(n*b)*(j*hh(t*k+S)-fh(S));return[a+O*h,c+O*p,l*j/Ko(t*k+S)]}}return w.duration=y*1e3*t/Math.SQRT2,w}return o.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},o})(Math.SQRT2,2,4);var ht=0,Mt=0,St=0,Cs=1e3,An,kt,Pn=0,Je=0,Yn=0,Bt=typeof performance=="object"&&performance.now?performance:Date,Ms=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Kr(){return Je||(Ms(gh),Je=Bt.now()+Yn)}function gh(){Je=0}function Ln(){this._call=this._time=this._next=null}Ln.prototype=ks.prototype={constructor:Ln,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Kr():+n)+(t==null?0:+t),!this._next&&kt!==this&&(kt?kt._next=this:An=this,kt=this),this._call=e,this._time=n,Lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lr())}};function ks(e,t,n){var r=new Ln;return r.restart(e,t,n),r}function mh(){Kr(),++ht;for(var e=An,t;e;)(t=Je-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ht}function Zo(){Je=(Pn=Bt.now())+Yn,ht=Mt=0;try{mh()}finally{ht=0,yh(),Je=0}}function ph(){var e=Bt.now(),t=e-Pn;t>Cs&&(Yn-=t,Pn=e)}function yh(){for(var e,t=An,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:An=n);kt=e,Lr(r)}function Lr(e){if(!ht){Mt&&(Mt=clearTimeout(Mt));var t=e-Je;t>24?(e<1/0&&(Mt=setTimeout(Zo,e-Bt.now()-Yn)),St&&(St=clearInterval(St))):(St||(Pn=Bt.now(),St=setInterval(ph,Cs)),ht=1,Ms(Zo))}}function Qo(e,t,n){var r=new Ln;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var xh=On("start","end","cancel","interrupt"),wh=[],Ts=0,Jo=1,Dr=2,Nn=3,ei=4,Br=5,Cn=6;function Xn(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;vh(e,n,{name:t,index:r,group:o,on:xh,tween:wh,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ts})}function Zr(e,t){var n=Se(e,t);if(n.state>Ts)throw new Error("too late; already scheduled");return n}function Ie(e,t){var n=Se(e,t);if(n.state>Nn)throw new Error("too late; already running");return n}function Se(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vh(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=ks(i,0,n.time);function i(l){n.state=Jo,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var f,u,d,h;if(n.state!==Jo)return c();for(f in r)if(h=r[f],h.name===n.name){if(h.state===Nn)return Qo(s);h.state===ei?(h.state=Cn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[f]):+f<t&&(h.state=Cn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[f])}if(Qo(function(){n.state===Nn&&(n.state=ei,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Dr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Dr){for(n.state=Nn,o=new Array(d=n.tween.length),f=0,u=-1;f<d;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=h);o.length=u+1}}function a(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Br,1),u=-1,d=o.length;++u<d;)o[u].call(e,f);n.state===Br&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Cn,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Mn(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Dr&&r.state<Br,r.state=Cn,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function bh(e){return this.each(function(){Mn(this,e)})}function _h(e,t){var n,r;return function(){var o=Ie(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Sh(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Ie(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=a;break}c===l&&o.push(a)}i.tween=o}}function Eh(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Se(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?_h:Sh)(n,e,t))}function Qr(e,t,n){var r=e._id;return e.each(function(){var o=Ie(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Se(o,r).value[t]}}function Is(e,t){var n;return(typeof t=="number"?Me:t instanceof Qe?$n:(n=Qe(t))?(t=n,$n):Ss)(e,t)}function Nh(e){return function(){this.removeAttribute(e)}}function Ch(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mh(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function kh(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Th(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function Ih(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function jh(e,t){var n=Vn(e),r=n==="transform"?uh:Is;return this.attrTween(e,typeof t=="function"?(n.local?Ih:Th)(n,r,Qr(this,"attr."+e,t)):t==null?(n.local?Ch:Nh)(n):(n.local?kh:Mh)(n,r,t))}function $h(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ah(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ph(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ah(e,i)),n}return o._value=t,o}function Lh(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&$h(e,i)),n}return o._value=t,o}function Dh(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Vn(e);return this.tween(n,(r.local?Ph:Lh)(r,t))}function Bh(e,t){return function(){Zr(this,e).delay=+t.apply(this,arguments)}}function Rh(e,t){return t=+t,function(){Zr(this,e).delay=t}}function zh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Bh:Rh)(t,e)):Se(this.node(),t).delay}function Hh(e,t){return function(){Ie(this,e).duration=+t.apply(this,arguments)}}function Fh(e,t){return t=+t,function(){Ie(this,e).duration=t}}function Oh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Hh:Fh)(t,e)):Se(this.node(),t).duration}function Vh(e,t){if(typeof t!="function")throw new Error;return function(){Ie(this,e).ease=t}}function Yh(e){var t=this._id;return arguments.length?this.each(Vh(t,e)):Se(this.node(),t).ease}function Xh(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ie(this,e).ease=n}}function Wh(e){if(typeof e!="function")throw new Error;return this.each(Xh(this._id,e))}function Gh(e){typeof e!="function"&&(e=as(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new Be(r,this._parents,this._name,this._id)}function qh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var c=t[a],l=n[a],f=c.length,u=s[a]=new Array(f),d,h=0;h<f;++h)(d=c[h]||l[h])&&(u[h]=d);for(;a<r;++a)s[a]=t[a];return new Be(s,this._parents,this._name,this._id)}function Uh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Kh(e,t,n){var r,o,i=Uh(t)?Zr:Ie;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function Zh(e,t){var n=this._id;return arguments.length<2?Se(this.node(),n).on.on(e):this.each(Kh(n,e,t))}function Qh(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Jh(){return this.on("end.remove",Qh(this._id))}function eg(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wr(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],c=a.length,l=i[s]=new Array(c),f,u,d=0;d<c;++d)(f=a[d])&&(u=e.call(f,f.__data__,d,a))&&("__data__"in f&&(u.__data__=f.__data__),l[d]=u,Xn(l[d],t,n,d,l,Se(f,n)));return new Be(i,this._parents,t,n)}function tg(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ss(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var c=r[a],l=c.length,f,u=0;u<l;++u)if(f=c[u]){for(var d=e.call(f,f.__data__,u,c),h,p=Se(f,n),g=0,w=d.length;g<w;++g)(h=d[g])&&Xn(h,t,n,g,d,p);i.push(d),s.push(f)}return new Be(i,s,t,n)}var ng=Gt.prototype.constructor;function rg(){return new ng(this._groups,this._parents)}function og(e,t){var n,r,o;return function(){var i=ft(this,e),s=(this.style.removeProperty(e),ft(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function js(e){return function(){this.style.removeProperty(e)}}function ig(e,t,n){var r,o=n+"",i;return function(){var s=ft(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function sg(e,t,n){var r,o,i;return function(){var s=ft(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),ft(this,e))),s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a))}}function ag(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var c=Ie(this,e),l=c.on,f=c.value[i]==null?a||(a=js(t)):void 0;(l!==n||o!==f)&&(r=(n=l).copy()).on(s,o=f),c.on=r}}function cg(e,t,n){var r=(e+="")=="transform"?lh:Is;return t==null?this.styleTween(e,og(e,r)).on("end.style."+e,js(e)):typeof t=="function"?this.styleTween(e,sg(e,r,Qr(this,"style."+e,t))).each(ag(this._id,e)):this.styleTween(e,ig(e,r,t),n).on("end.style."+e,null)}function lg(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ug(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&lg(e,s,n)),r}return i._value=t,i}function dg(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ug(e,t,n??""))}function fg(e){return function(){this.textContent=e}}function hg(e){return function(){var t=e(this);this.textContent=t??""}}function gg(e){return this.tween("text",typeof e=="function"?hg(Qr(this,"text",e)):fg(e==null?"":e+""))}function mg(e){return function(t){this.textContent=e.call(this,t)}}function pg(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&mg(o)),t}return r._value=e,r}function yg(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pg(e))}function xg(){for(var e=this._name,t=this._id,n=$s(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var f=Se(c,t);Xn(c,e,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Be(r,this._parents,e,n)}function wg(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var l=Ie(this,r),f=l.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),o===0&&i()})}var vg=0;function Be(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $s(){return++vg}var Pe=Gt.prototype;Be.prototype={constructor:Be,select:eg,selectAll:tg,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:Gh,merge:qh,selection:rg,transition:xg,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:Zh,attr:jh,attrTween:Dh,style:cg,styleTween:dg,text:gg,textTween:yg,remove:Jh,tween:Eh,delay:zh,duration:Oh,ease:Yh,easeVarying:Wh,end:wg,[Symbol.iterator]:Pe[Symbol.iterator]};function bg(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _g={time:null,delay:0,duration:250,ease:bg};function Sg(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Eg(e){var t,n;e instanceof Be?(t=e._id,e=e._name):(t=$s(),(n=_g).time=Kr(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&Xn(c,e,t,l,s,n||Sg(c,t));return new Be(r,this._parents,e,t)}Gt.prototype.interrupt=bh;Gt.prototype.transition=Eg;const yn=e=>()=>e;function Ng(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function De(e,t,n){this.k=e,this.x=t,this.y=n}De.prototype={constructor:De,scale:function(e){return e===1?this:new De(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new De(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wn=new De(1,0,0);As.prototype=De.prototype;function As(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Wn;return e.__zoom}function xr(e){e.stopImmediatePropagation()}function Et(e){e.preventDefault(),e.stopImmediatePropagation()}function Cg(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Mg(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ti(){return this.__zoom||Wn}function kg(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Tg(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ig(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Ps(){var e=Cg,t=Mg,n=Ig,r=kg,o=Tg,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=En,l=On("start","zoom","end"),f,u,d,h=500,p=150,g=0,w=10;function y(_){_.property("__zoom",ti).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",O).filter(o).on("touchstart.zoom",A).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(_,$,C,L){var T=_.selection?_.selection():_;T.property("__zoom",ti),_!==T?S(_,$,C,L):T.interrupt().each(function(){E(this,arguments).event(L).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(_,$,C,L){y.scaleTo(_,function(){var T=this.__zoom.k,M=typeof $=="function"?$.apply(this,arguments):$;return T*M},C,L)},y.scaleTo=function(_,$,C,L){y.transform(_,function(){var T=t.apply(this,arguments),M=this.__zoom,B=C==null?v(T):typeof C=="function"?C.apply(this,arguments):C,z=M.invert(B),R=typeof $=="function"?$.apply(this,arguments):$;return n(x(b(M,R),B,z),T,s)},C,L)},y.translateBy=function(_,$,C,L){y.transform(_,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),s)},null,L)},y.translateTo=function(_,$,C,L,T){y.transform(_,function(){var M=t.apply(this,arguments),B=this.__zoom,z=L==null?v(M):typeof L=="function"?L.apply(this,arguments):L;return n(Wn.translate(z[0],z[1]).scale(B.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof C=="function"?-C.apply(this,arguments):-C),M,s)},L,T)};function b(_,$){return $=Math.max(i[0],Math.min(i[1],$)),$===_.k?_:new De($,_.x,_.y)}function x(_,$,C){var L=$[0]-C[0]*_.k,T=$[1]-C[1]*_.k;return L===_.x&&T===_.y?_:new De(_.k,L,T)}function v(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function S(_,$,C,L){_.on("start.zoom",function(){E(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(L).end()}).tween("zoom",function(){var T=this,M=arguments,B=E(T,M).event(L),z=t.apply(T,M),R=C==null?v(z):typeof C=="function"?C.apply(T,M):C,W=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),Y=T.__zoom,U=typeof $=="function"?$.apply(T,M):$,K=c(Y.invert(R).concat(W/Y.k),U.invert(R).concat(W/U.k));return function(V){if(V===1)V=U;else{var F=K(V),G=W/F[2];V=new De(G,R[0]-F[0]*G,R[1]-F[1]*G)}B.zoom(null,V)}})}function E(_,$,C){return!C&&_.__zooming||new N(_,$)}function N(_,$){this.that=_,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,$),this.taps=0}N.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,$){return this.mouse&&_!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var $=de(this.that).datum();l.call(_,this.that,new Ng(_,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),$)}};function k(_,...$){if(!e.apply(this,arguments))return;var C=E(this,$).event(_),L=this.__zoom,T=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),M=ye(_);if(C.wheel)(C.mouse[0][0]!==M[0]||C.mouse[0][1]!==M[1])&&(C.mouse[1]=L.invert(C.mouse[0]=M)),clearTimeout(C.wheel);else{if(L.k===T)return;C.mouse=[M,L.invert(M)],Mn(this),C.start()}Et(_),C.wheel=setTimeout(B,p),C.zoom("mouse",n(x(b(L,T),C.mouse[0],C.mouse[1]),C.extent,s));function B(){C.wheel=null,C.end()}}function j(_,...$){if(d||!e.apply(this,arguments))return;var C=_.currentTarget,L=E(this,$,!0).event(_),T=de(_.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",W,!0),M=ye(_,C),B=_.clientX,z=_.clientY;ys(_.view),xr(_),L.mouse=[M,this.__zoom.invert(M)],Mn(this),L.start();function R(Y){if(Et(Y),!L.moved){var U=Y.clientX-B,K=Y.clientY-z;L.moved=U*U+K*K>g}L.event(Y).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=ye(Y,C),L.mouse[1]),L.extent,s))}function W(Y){T.on("mousemove.zoom mouseup.zoom",null),xs(Y.view,L.moved),Et(Y),L.event(Y).end()}}function O(_,...$){if(e.apply(this,arguments)){var C=this.__zoom,L=ye(_.changedTouches?_.changedTouches[0]:_,this),T=C.invert(L),M=C.k*(_.shiftKey?.5:2),B=n(x(b(C,M),L,T),t.apply(this,$),s);Et(_),a>0?de(this).transition().duration(a).call(S,B,L,_):de(this).call(y.transform,B,L,_)}}function A(_,...$){if(e.apply(this,arguments)){var C=_.touches,L=C.length,T=E(this,$,_.changedTouches.length===L).event(_),M,B,z,R;for(xr(_),B=0;B<L;++B)z=C[B],R=ye(z,this),R=[R,this.__zoom.invert(R),z.identifier],T.touch0?!T.touch1&&T.touch0[2]!==R[2]&&(T.touch1=R,T.taps=0):(T.touch0=R,M=!0,T.taps=1+!!f);f&&(f=clearTimeout(f)),M&&(T.taps<2&&(u=R[0],f=setTimeout(function(){f=null},h)),Mn(this),T.start())}}function I(_,...$){if(this.__zooming){var C=E(this,$).event(_),L=_.changedTouches,T=L.length,M,B,z,R;for(Et(_),M=0;M<T;++M)B=L[M],z=ye(B,this),C.touch0&&C.touch0[2]===B.identifier?C.touch0[0]=z:C.touch1&&C.touch1[2]===B.identifier&&(C.touch1[0]=z);if(B=C.that.__zoom,C.touch1){var W=C.touch0[0],Y=C.touch0[1],U=C.touch1[0],K=C.touch1[1],V=(V=U[0]-W[0])*V+(V=U[1]-W[1])*V,F=(F=K[0]-Y[0])*F+(F=K[1]-Y[1])*F;B=b(B,Math.sqrt(V/F)),z=[(W[0]+U[0])/2,(W[1]+U[1])/2],R=[(Y[0]+K[0])/2,(Y[1]+K[1])/2]}else if(C.touch0)z=C.touch0[0],R=C.touch0[1];else return;C.zoom("touch",n(x(B,z,R),C.extent,s))}}function D(_,...$){if(this.__zooming){var C=E(this,$).event(_),L=_.changedTouches,T=L.length,M,B;for(xr(_),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),M=0;M<T;++M)B=L[M],C.touch0&&C.touch0[2]===B.identifier?delete C.touch0:C.touch1&&C.touch1[2]===B.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(B=ye(B,this),Math.hypot(u[0]-B[0],u[1]-B[1])<w)){var z=de(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return y.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:yn(+_),y):r},y.filter=function(_){return arguments.length?(e=typeof _=="function"?_:yn(!!_),y):e},y.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:yn(!!_),y):o},y.extent=function(_){return arguments.length?(t=typeof _=="function"?_:yn([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),y):t},y.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],y):[i[0],i[1]]},y.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(_){return arguments.length?(n=_,y):n},y.duration=function(_){return arguments.length?(a=+_,y):a},y.interpolate=function(_){return arguments.length?(c=_,y):c},y.on=function(){var _=l.on.apply(l,arguments);return _===l?y:_},y.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,y):Math.sqrt(g)},y.tapDistance=function(_){return arguments.length?(w=+_,y):w},y}const Te={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Rt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ls=["Enter"," ","Escape"],Ds={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var gt;(function(e){e.Strict="strict",e.Loose="loose"})(gt||(gt={}));var Ze;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ze||(Ze={}));var zt;(function(e){e.Partial="partial",e.Full="full"})(zt||(zt={}));const Bs={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Ve;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ve||(Ve={}));var Dn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Dn||(Dn={}));var J;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(J||(J={}));const ni={[J.Left]:J.Right,[J.Right]:J.Left,[J.Top]:J.Bottom,[J.Bottom]:J.Top};function Rs(e){return e===null?null:e?"valid":"invalid"}const zs=e=>"id"in e&&"source"in e&&"target"in e,jg=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Jr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ut=(e,t=[0,0])=>{const{width:n,height:r}=Re(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},$g=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Jr(o)?o:t.nodeLookup.get(o.id));const a=s?Bn(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Gn(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qn(n)},Kt=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=Gn(n,Bn(o)),r=!0)}),r?qn(n):{x:0,y:0,width:0,height:0}},eo=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const a={...Qt(t,[n,r,o]),width:t.width/o,height:t.height/o},c=[];for(const l of e.values()){const{measured:f,selectable:u=!0,hidden:d=!1}=l;if(s&&!u||d)continue;const h=f.width??l.width??l.initialWidth??null,p=f.height??l.height??l.initialHeight??null,g=Ht(a,pt(l)),w=(h??0)*(p??0),y=i&&g>0;(!l.internals.handleBounds||y||g>=w||l.dragging)&&c.push(l)}return c},Ag=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Pg(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function Lg({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const a=Pg(e,s),c=Kt(a),l=to(c,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(l,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Hs({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:l}=a?a.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let u=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!a)i==null||i("005",Te.error005());else{const h=a.measured.width,p=a.measured.height;h&&p&&(u=[[c,l],[c+h,l+p]])}else a&&yt(s.extent)&&(u=[[s.extent[0][0]+c,s.extent[0][1]+l],[s.extent[1][0]+c,s.extent[1][1]+l]]);const d=yt(u)?et(t,u,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Te.error015())),{position:{x:d.x-c+(s.measured.width??0)*f[0],y:d.y-l+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function Dg({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=i.has(d.id),p=!h&&d.parentId&&s.find(g=>g.id===d.parentId);(h||p)&&s.push(d)}const a=new Set(t.map(d=>d.id)),c=r.filter(d=>d.deletable!==!1),f=Ag(s,c);for(const d of c)a.has(d.id)&&!f.find(p=>p.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const u=await o({nodes:s,edges:f});return typeof u=="boolean"?u?{edges:f,nodes:s}:{edges:[],nodes:[]}:u}const mt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),et=(e={x:0,y:0},t,n)=>({x:mt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:mt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Fs(e,t,n){const{width:r,height:o}=Re(n),{x:i,y:s}=n.internals.positionAbsolute;return et(e,[[i,s],[i+r,s+o]],t)}const ri=(e,t,n)=>e<t?mt(Math.abs(e-t),1,t)/t:e>n?-mt(Math.abs(e-n),1,t)/t:0,Os=(e,t,n=15,r=40)=>{const o=ri(e.x,r,t.width-r)*n,i=ri(e.y,r,t.height-r)*n;return[o,i]},Gn=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Rr=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),qn=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),pt=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Jr(e)?e.internals.positionAbsolute:Ut(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Bn=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Jr(e)?e.internals.positionAbsolute:Ut(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Vs=(e,t)=>qn(Gn(Rr(e),Rr(t))),Ht=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},oi=e=>we(e.width)&&we(e.height)&&we(e.x)&&we(e.y),we=e=>!isNaN(e)&&isFinite(e),Bg=(e,t)=>{},Zt=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Qt=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?Zt(a,s):a},Rn=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function it(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Rg(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=it(e,n),o=it(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=it(e.top??e.y??0,n),o=it(e.bottom??e.y??0,n),i=it(e.left??e.x??0,t),s=it(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function zg(e,t,n,r,o,i){const{x:s,y:a}=Rn(e,[t,n,r]),{x:c,y:l}=Rn({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-c,u=i-l;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(u)}}const to=(e,t,n,r,o,i)=>{const s=Rg(i,t,n),a=(t-s.x)/e.width,c=(n-s.y)/e.height,l=Math.min(a,c),f=mt(l,r,o),u=e.x+e.width/2,d=e.y+e.height/2,h=t/2-u*f,p=n/2-d*f,g=zg(e,h,p,f,t,n),w={left:Math.min(g.left-s.left,0),top:Math.min(g.top-s.top,0),right:Math.min(g.right-s.right,0),bottom:Math.min(g.bottom-s.bottom,0)};return{x:h-w.left+w.right,y:p-w.top+w.bottom,zoom:f}},Ft=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function yt(e){return e!=null&&e!=="parent"}function Re(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Ys(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Xs(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const a=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function ii(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Hg(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function Fg(e){return{...Ds,...e||{}}}function jt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=ve(e),a=Qt({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:c,y:l}=n?Zt(a,t):a;return{xSnapped:c,ySnapped:l,...a}}const no=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ws=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Og=["INPUT","SELECT","TEXTAREA"];function Gs(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Og.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const qs=e=>"clientX"in e,ve=(e,t)=>{var i,s;const n=qs(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},si=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...no(s)}})};function Us({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:a}){const c=e*.125+o*.375+s*.375+n*.125,l=t*.125+i*.375+a*.375+r*.125,f=Math.abs(c-e),u=Math.abs(l-t);return[c,l,f,u]}function xn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ai({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case J.Left:return[t-xn(t-r,i),n];case J.Right:return[t+xn(r-t,i),n];case J.Top:return[t,n-xn(n-o,i)];case J.Bottom:return[t,n+xn(o-n,i)]}}function Ks({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top,curvature:s=.25}){const[a,c]=ai({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[l,f]=ai({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[u,d,h,p]=Us({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:f});return[`M${e},${t} C${a},${c} ${l},${f} ${r},${o}`,u,d,h,p]}function Zs({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[i,a,o,s]}function Vg({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:o=!1}){if(r!==void 0)return r;const i=o&&n?1e3:0,s=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return i+s}function Yg({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Gn(Bn(e),Bn(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Ht(s,qn(i))>0}const Xg=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Wg=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Gg=(e,t)=>{if(!e.source||!e.target)return t;let n;return zs(e)?n={...e}:n={...e,id:Xg(e)},Wg(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Qs({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,a]=Zs({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,a]}const ci={[J.Left]:{x:-1,y:0},[J.Right]:{x:1,y:0},[J.Top]:{x:0,y:-1},[J.Bottom]:{x:0,y:1}},qg=({source:e,sourcePosition:t=J.Bottom,target:n})=>t===J.Left||t===J.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},li=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ug({source:e,sourcePosition:t=J.Bottom,target:n,targetPosition:r=J.Top,center:o,offset:i,stepPosition:s}){const a=ci[t],c=ci[r],l={x:e.x+a.x*i,y:e.y+a.y*i},f={x:n.x+c.x*i,y:n.y+c.y*i},u=qg({source:l,sourcePosition:t,target:f}),d=u.x!==0?"x":"y",h=u[d];let p=[],g,w;const y={x:0,y:0},b={x:0,y:0},[,,x,v]=Zs({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*c[d]===-1){d==="x"?(g=o.x??l.x+(f.x-l.x)*s,w=o.y??(l.y+f.y)/2):(g=o.x??(l.x+f.x)/2,w=o.y??l.y+(f.y-l.y)*s);const E=[{x:g,y:l.y},{x:g,y:f.y}],N=[{x:l.x,y:w},{x:f.x,y:w}];a[d]===h?p=d==="x"?E:N:p=d==="x"?N:E}else{const E=[{x:l.x,y:f.y}],N=[{x:f.x,y:l.y}];if(d==="x"?p=a.x===h?N:E:p=a.y===h?E:N,t===r){const I=Math.abs(e[d]-n[d]);if(I<=i){const D=Math.min(i-1,i-I);a[d]===h?y[d]=(l[d]>e[d]?-1:1)*D:b[d]=(f[d]>n[d]?-1:1)*D}}if(t!==r){const I=d==="x"?"y":"x",D=a[d]===c[I],_=l[I]>f[I],$=l[I]<f[I];(a[d]===1&&(!D&&_||D&&$)||a[d]!==1&&(!D&&$||D&&_))&&(p=d==="x"?E:N)}const k={x:l.x+y.x,y:l.y+y.y},j={x:f.x+b.x,y:f.y+b.y},O=Math.max(Math.abs(k.x-p[0].x),Math.abs(j.x-p[0].x)),A=Math.max(Math.abs(k.y-p[0].y),Math.abs(j.y-p[0].y));O>=A?(g=(k.x+j.x)/2,w=p[0].y):(g=p[0].x,w=(k.y+j.y)/2)}return[[e,{x:l.x+y.x,y:l.y+y.y},...p,{x:f.x+b.x,y:f.y+b.y},n],g,w,x,v]}function Kg(e,t,n,r){const o=Math.min(li(e,t)/2,li(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+o*l},${s}Q ${i},${s} ${i},${s+o*f}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+o*c}Q ${i},${s} ${i+o*a},${s}`}function zr({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top,borderRadius:s=5,centerX:a,centerY:c,offset:l=20,stepPosition:f=.5}){const[u,d,h,p,g]=Ug({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:a,y:c},offset:l,stepPosition:f});return[u.reduce((y,b,x)=>{let v="";return x>0&&x<u.length-1?v=Kg(u[x-1],b,u[x+1],s):v=`${x===0?"M":"L"}${b.x} ${b.y}`,y+=v,y},""),d,h,p,g]}function ui(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Zg(e){var u;const{sourceNode:t,targetNode:n}=e;if(!ui(t)||!ui(n))return null;const r=t.internals.handleBounds||di(t.handles),o=n.internals.handleBounds||di(n.handles),i=fi((r==null?void 0:r.source)??[],e.sourceHandle),s=fi(e.connectionMode===gt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(u=e.onError)==null||u.call(e,"008",Te.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||J.Bottom,c=(s==null?void 0:s.position)||J.Top,l=Ot(t,i,a),f=Ot(n,s,c);return{sourceX:l.x,sourceY:l.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:c}}function di(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ot(e,t,n=J.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Re(e);if(r)return{x:o+s/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case J.Top:return{x:o+s/2,y:i};case J.Right:return{x:o+s,y:i+a/2};case J.Bottom:return{x:o+s/2,y:i+a};case J.Left:return{x:o,y:i+a/2}}}function fi(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Hr(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Qg(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||o].forEach(c=>{if(c&&typeof c=="object"){const l=Hr(c,t);i.has(l)||(s.push({id:l,color:c.color||n,...c}),i.add(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const Js=1e3,Jg=10,ro={nodeOrigin:[0,0],nodeExtent:Rt,elevateNodesOnSelect:!0,defaults:{}},em={...ro,checkEquality:!0};function oo(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function tm(e,t,n){const r=oo(ro,n);for(const o of e.values())if(o.parentId)io(o,e,t,r);else{const i=Ut(o,r.nodeOrigin),s=yt(o.extent)?o.extent:r.nodeExtent,a=et(i,s,Re(o));o.internals.positionAbsolute=a}}function nm(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Fr(e,t,n,r){var l,f;const o=oo(em,r);let i={i:-1},s=e.length>0;const a=new Map(t),c=o!=null&&o.elevateNodesOnSelect?Js:0;t.clear(),n.clear();for(const u of e){let d=a.get(u.id);if(o.checkEquality&&u===(d==null?void 0:d.internals.userNode))t.set(u.id,d);else{const h=Ut(u,o.nodeOrigin),p=yt(u.extent)?u.extent:o.nodeExtent,g=et(h,p,Re(u));d={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(f=u.measured)==null?void 0:f.height},internals:{positionAbsolute:g,handleBounds:nm(u,d),z:ea(u,c),userNode:u}},t.set(u.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(s=!1),u.parentId&&io(d,t,n,r,i)}return s}function rm(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function io(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:a}=oo(ro,r),c=e.parentId,l=t.get(c);if(!l){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}rm(e,n),o&&!l.parentId&&l.internals.rootParentIndex===void 0&&(l.internals.rootParentIndex=++o.i,l.internals.z=l.internals.z+o.i*Jg),o&&l.internals.rootParentIndex!==void 0&&(o.i=l.internals.rootParentIndex);const f=i?Js:0,{x:u,y:d,z:h}=om(e,l,s,a,f),{positionAbsolute:p}=e.internals,g=u!==p.x||d!==p.y;(g||h!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:d}:p,z:h}})}function ea(e,t){return(we(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function om(e,t,n,r,o){const{x:i,y:s}=t.internals.positionAbsolute,a=Re(e),c=Ut(e,n),l=yt(e.extent)?et(c,e.extent,a):c;let f=et({x:i+l.x,y:s+l.y},r,a);e.extent==="parent"&&(f=Fs(f,a,t));const u=ea(e,o),d=t.internals.z??0;return{x:f.x,y:f.y,z:d>=u?d+1:u}}function so(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const l=((s=i.get(a.parentId))==null?void 0:s.expandedRect)??pt(c),f=Vs(l,a.rect);i.set(a.parentId,{expandedRect:f,parent:c})}return i.size>0&&i.forEach(({expandedRect:a,parent:c},l)=>{var x;const f=c.internals.positionAbsolute,u=Re(c),d=c.origin??r,h=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,p=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,g=Math.max(u.width,Math.round(a.width)),w=Math.max(u.height,Math.round(a.height)),y=(g-u.width)*d[0],b=(w-u.height)*d[1];(h>0||p>0||y||b)&&(o.push({id:l,type:"position",position:{x:c.position.x-h+y,y:c.position.y-p+b}}),(x=n.get(l))==null||x.forEach(v=>{e.some(S=>S.id===v.id)||o.push({id:v.id,type:"position",position:{x:v.position.x+h,y:v.position.y+p}})})),(u.width<a.width||u.height<a.height||h||p)&&o.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?d[0]*h-y:0),height:w+(p?d[1]*p-b:0)}})}),o}function im(e,t,n,r,o,i){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const c=[],l=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(l.transform),u=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const p=no(d.nodeElement),g=h.measured.width!==p.width||h.measured.height!==p.height;if(!!(p.width&&p.height&&(g||!h.internals.handleBounds||d.force))){const y=d.nodeElement.getBoundingClientRect(),b=yt(h.extent)?h.extent:i;let{positionAbsolute:x}=h.internals;h.parentId&&h.extent==="parent"?x=Fs(x,p,t.get(h.parentId)):b&&(x=et(x,b,p));const v={...h,measured:p,internals:{...h.internals,positionAbsolute:x,handleBounds:{source:si("source",d.nodeElement,y,f,h.id),target:si("target",d.nodeElement,y,f,h.id)}}};t.set(h.id,v),h.parentId&&io(v,t,n,{nodeOrigin:o}),a=!0,g&&(c.push({id:h.id,type:"dimensions",dimensions:p}),h.expandParent&&h.parentId&&u.push({id:h.id,parentId:h.parentId,rect:pt(v,o)}))}}if(u.length>0){const d=so(u,t,n,o);c.push(...d)}return{changes:c,updatedInternals:a}}async function sm({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function hi(e,t,n,r,o,i){let s=o;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${o}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),i){s=`${o}-${e}-${i}`;const l=r.get(s)||new Map;r.set(s,l.set(n,t))}}function ta(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:a=null}=r,c={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:a},l=`${o}-${s}--${i}-${a}`,f=`${i}-${a}--${o}-${s}`;hi("source",c,f,e,o,s),hi("target",c,l,e,i,a),t.set(r.id,r)}}function na(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:na(n,t):!1}function gi(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function am(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!na(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(i);a&&o.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return o}function wr({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,c;const o=[];for(const[l,f]of t){const u=(s=n.get(l))==null?void 0:s.internals.userNode;u&&o.push({...u,position:f.position,dragging:r})}if(!e)return[o[0],o];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:r}:o[0],o]}function cm({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=Zt(i,t);return{x:s.x-i.x,y:s.y-i.y}}function lm({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,a=new Map,c=!1,l={x:0,y:0},f=null,u=!1,d=null,h=!1,p=!1,g=null;function w({noDragClassName:b,handleSelector:x,domNode:v,isSelectable:S,nodeId:E,nodeClickDistance:N=0}){d=de(v);function k({x:I,y:D}){const{nodeLookup:_,nodeExtent:$,snapGrid:C,snapToGrid:L,nodeOrigin:T,onNodeDrag:M,onSelectionDrag:B,onError:z,updateNodePositions:R}=t();i={x:I,y:D};let W=!1;const Y=a.size>1,U=Y&&$?Rr(Kt(a)):null,K=Y&&L?cm({dragItems:a,snapGrid:C,x:I,y:D}):null;for(const[V,F]of a){if(!_.has(V))continue;let G={x:I-F.distance.x,y:D-F.distance.y};L&&(G=K?{x:Math.round(G.x+K.x),y:Math.round(G.y+K.y)}:Zt(G,C));let Z=null;if(Y&&$&&!F.extent&&U){const{positionAbsolute:X}=F.internals,Q=X.x-U.x+$[0][0],te=X.x+F.measured.width-U.x2+$[1][0],ee=X.y-U.y+$[0][1],re=X.y+F.measured.height-U.y2+$[1][1];Z=[[Q,ee],[te,re]]}const{position:q,positionAbsolute:H}=Hs({nodeId:V,nextPosition:G,nodeLookup:_,nodeExtent:Z||$,nodeOrigin:T,onError:z});W=W||F.position.x!==q.x||F.position.y!==q.y,F.position=q,F.internals.positionAbsolute=H}if(p=p||W,!!W&&(R(a,!0),g&&(r||M||!E&&B))){const[V,F]=wr({nodeId:E,dragItems:a,nodeLookup:_});r==null||r(g,a,V,F),M==null||M(g,V,F),E||B==null||B(g,F)}}async function j(){if(!f)return;const{transform:I,panBy:D,autoPanSpeed:_,autoPanOnNodeDrag:$}=t();if(!$){c=!1,cancelAnimationFrame(s);return}const[C,L]=Os(l,f,_);(C!==0||L!==0)&&(i.x=(i.x??0)-C/I[2],i.y=(i.y??0)-L/I[2],await D({x:C,y:L})&&k(i)),s=requestAnimationFrame(j)}function O(I){var Y;const{nodeLookup:D,multiSelectionActive:_,nodesDraggable:$,transform:C,snapGrid:L,snapToGrid:T,selectNodesOnDrag:M,onNodeDragStart:B,onSelectionDragStart:z,unselectNodesAndEdges:R}=t();u=!0,(!M||!S)&&!_&&E&&((Y=D.get(E))!=null&&Y.selected||R()),S&&M&&E&&(e==null||e(E));const W=jt(I.sourceEvent,{transform:C,snapGrid:L,snapToGrid:T,containerBounds:f});if(i=W,a=am(D,$,W,E),a.size>0&&(n||B||!E&&z)){const[U,K]=wr({nodeId:E,dragItems:a,nodeLookup:D});n==null||n(I.sourceEvent,a,U,K),B==null||B(I.sourceEvent,U,K),E||z==null||z(I.sourceEvent,K)}}const A=ws().clickDistance(N).on("start",I=>{const{domNode:D,nodeDragThreshold:_,transform:$,snapGrid:C,snapToGrid:L}=t();f=(D==null?void 0:D.getBoundingClientRect())||null,h=!1,p=!1,g=I.sourceEvent,_===0&&O(I),i=jt(I.sourceEvent,{transform:$,snapGrid:C,snapToGrid:L,containerBounds:f}),l=ve(I.sourceEvent,f)}).on("drag",I=>{const{autoPanOnNodeDrag:D,transform:_,snapGrid:$,snapToGrid:C,nodeDragThreshold:L,nodeLookup:T}=t(),M=jt(I.sourceEvent,{transform:_,snapGrid:$,snapToGrid:C,containerBounds:f});if(g=I.sourceEvent,(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1||E&&!T.has(E))&&(h=!0),!h){if(!c&&D&&u&&(c=!0,j()),!u){const B=ve(I.sourceEvent,f),z=B.x-l.x,R=B.y-l.y;Math.sqrt(z*z+R*R)>L&&O(I)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&a&&u&&(l=ve(I.sourceEvent,f),k(M))}}).on("end",I=>{if(!(!u||h)&&(c=!1,u=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:D,updateNodePositions:_,onNodeDragStop:$,onSelectionDragStop:C}=t();if(p&&(_(a,!1),p=!1),o||$||!E&&C){const[L,T]=wr({nodeId:E,dragItems:a,nodeLookup:D,dragging:!1});o==null||o(I.sourceEvent,a,L,T),$==null||$(I.sourceEvent,L,T),E||C==null||C(I.sourceEvent,T)}}}).filter(I=>{const D=I.target;return!I.button&&(!b||!gi(D,`.${b}`,v))&&(!x||gi(D,x,v))});d.call(A)}function y(){d==null||d.on(".drag",null)}return{update:w,destroy:y}}function um(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Ht(o,pt(i))>0&&r.push(i);return r}const dm=250;function fm(e,t,n,r){var a,c;let o=[],i=1/0;const s=um(e,n,t+dm);for(const l of s){const f=[...((a=l.internals.handleBounds)==null?void 0:a.source)??[],...((c=l.internals.handleBounds)==null?void 0:c.target)??[]];for(const u of f){if(r.nodeId===u.nodeId&&r.type===u.type&&r.id===u.id)continue;const{x:d,y:h}=Ot(l,u,u.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));p>t||(p<i?(o=[{...u,x:d,y:h}],i=p):p===i&&o.push({...u,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const l=r.type==="source"?"target":"source";return o.find(f=>f.type===l)??o[0]}return o[0]}function ra(e,t,n,r,o,i=!1){var l,f,u;const s=r.get(e);if(!s)return null;const a=o==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((u=s.internals.handleBounds)==null?void 0:u.target)??[]],c=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return c&&i?{...c,...Ot(s,c,c.position,!0)}:c}function oa(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function hm(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const ia=()=>!0;function gm(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:a,nodeLookup:c,lib:l,autoPanOnConnect:f,flowId:u,panBy:d,cancelConnection:h,onConnectStart:p,onConnect:g,onConnectEnd:w,isValidConnection:y=ia,onReconnectEnd:b,updateConnection:x,getTransform:v,getFromHandle:S,autoPanSpeed:E,dragThreshold:N=1,handleDomNode:k}){const j=Ws(e.target);let O=0,A;const{x:I,y:D}=ve(e),_=oa(i,k),$=a==null?void 0:a.getBoundingClientRect();let C=!1;if(!$||!_)return;const L=ra(o,_,r,c,t);if(!L)return;let T=ve(e,$),M=!1,B=null,z=!1,R=null;function W(){if(!f||!$)return;const[q,H]=Os(T,$,E);d({x:q,y:H}),O=requestAnimationFrame(W)}const Y={...L,nodeId:o,type:_,position:L.position},U=c.get(o);let V={inProgress:!0,isValid:null,from:Ot(U,Y,J.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:U,to:T,toHandle:null,toPosition:ni[Y.position],toNode:null,pointer:T};function F(){C=!0,x(V),p==null||p(e,{nodeId:o,handleId:r,handleType:_})}N===0&&F();function G(q){if(!C){const{x:te,y:ee}=ve(q),re=te-I,ce=ee-D;if(!(re*re+ce*ce>N*N))return;F()}if(!S()||!Y){Z(q);return}const H=v();T=ve(q,$),A=fm(Qt(T,H,!1,[1,1]),n,c,Y),M||(W(),M=!0);const X=sa(q,{handle:A,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:y,doc:j,lib:l,flowId:u,nodeLookup:c});R=X.handleDomNode,B=X.connection,z=hm(!!A,X.isValid);const Q={...V,isValid:z,to:X.toHandle&&z?Rn({x:X.toHandle.x,y:X.toHandle.y},H):T,toHandle:X.toHandle,toPosition:z&&X.toHandle?X.toHandle.position:ni[Y.position],toNode:X.toHandle?c.get(X.toHandle.nodeId):null,pointer:T};x(Q),V=Q}function Z(q){if(!("touches"in q&&q.touches.length>0)){if(C){(A||R)&&B&&z&&(g==null||g(B));const{inProgress:H,...X}=V,Q={...X,toPosition:V.toHandle?V.toPosition:null};w==null||w(q,Q),i&&(b==null||b(q,Q))}h(),cancelAnimationFrame(O),M=!1,z=!1,B=null,R=null,j.removeEventListener("mousemove",G),j.removeEventListener("mouseup",Z),j.removeEventListener("touchmove",G),j.removeEventListener("touchend",Z)}}j.addEventListener("mousemove",G),j.addEventListener("mouseup",Z),j.addEventListener("touchmove",G),j.addEventListener("touchend",Z)}function sa(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:a,flowId:c,isValidConnection:l=ia,nodeLookup:f}){const u=i==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=ve(e),g=s.elementFromPoint(h,p),w=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:d,y={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const b=oa(void 0,w),x=w.getAttribute("data-nodeid"),v=w.getAttribute("data-handleid"),S=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!x||!b)return y;const N={source:u?x:r,sourceHandle:u?v:o,target:u?r:x,targetHandle:u?o:v};y.connection=N;const j=S&&E&&(n===gt.Strict?u&&b==="source"||!u&&b==="target":x!==r||v!==o);y.isValid=j&&l(N),y.toHandle=ra(x,b,v,f,n,!0)}return y}const Or={onPointerDown:gm,isValid:sa};function mm({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=de(e);function i({translateExtent:a,width:c,height:l,zoomStep:f=1,pannable:u=!0,zoomable:d=!0,inversePan:h=!1}){const p=x=>{if(x.sourceEvent.type!=="wheel"||!t)return;const v=n(),S=x.sourceEvent.ctrlKey&&Ft()?10:1,E=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*f,N=v[2]*Math.pow(2,E*S);t.scaleTo(N)};let g=[0,0];const w=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(g=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},y=x=>{const v=n();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!t)return;const S=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],E=[S[0]-g[0],S[1]-g[1]];g=S;const N=r()*Math.max(v[2],Math.log(v[2]))*(h?-1:1),k={x:v[0]-E[0]*N,y:v[1]-E[1]*N},j=[[0,0],[c,l]];t.setViewportConstrained({x:k.x,y:k.y,zoom:v[2]},j,a)},b=Ps().on("start",w).on("zoom",u?y:null).on("zoom.wheel",d?p:null);o.call(b,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:ye}}const Un=e=>({x:e.x,y:e.y,zoom:e.k}),vr=({x:e,y:t,zoom:n})=>Wn.translate(e,t).scale(n),at=(e,t)=>e.target.closest(`.${t}`),aa=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),pm=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,br=(e,t=0,n=pm,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},ca=e=>{const t=e.ctrlKey&&Ft()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function ym({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:l}){return f=>{if(at(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const u=n.property("__zoom").k||1;if(f.ctrlKey&&s){const w=ye(f),y=ca(f),b=u*Math.pow(2,y);r.scaleTo(n,b,w,f);return}const d=f.deltaMode===1?20:1;let h=o===Ze.Vertical?0:f.deltaX*d,p=o===Ze.Horizontal?0:f.deltaY*d;!Ft()&&f.shiftKey&&o!==Ze.Vertical&&(h=f.deltaY*d,p=0),r.translateBy(n,-(h/u)*i,-(p/u)*i,{internal:!0});const g=Un(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(f,g),e.panScrollTimeout=setTimeout(()=>{l==null||l(f,g),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(f,g))}}function xm({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,a=at(r,e);if(r.ctrlKey&&i&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,o)}}function wm({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,a;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Un(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function vm({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,a;e.usedRightMouseButton=!!(n&&aa(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((a=i.sourceEvent)!=null&&a.internal)&&(o==null||o(i.sourceEvent,Un(i.transform)))}}function bm({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&aa(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const c=Un(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,c)},n?150:0)}}}function _m({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:l,connectionInProgress:f}){return u=>{var w;const d=e||t,h=n&&u.ctrlKey,p=u.type==="wheel";if(u.button===1&&u.type==="mousedown"&&(at(u,`${l}-flow__node`)||at(u,`${l}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||s||f&&!p||at(u,a)&&p||at(u,c)&&(!p||o&&p&&!e)||!n&&u.ctrlKey&&p)return!1;if(!n&&u.type==="touchstart"&&((w=u.touches)==null?void 0:w.length)>1)return u.preventDefault(),!1;if(!d&&!o&&!h&&p||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const g=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||p)&&g}}function Sm({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:c}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),u=Ps().scaleExtent([t,n]).translateExtent(r),d=de(e).call(u);b({x:o.x,y:o.y,zoom:mt(o.zoom,t,n)},[[0,0],[f.width,f.height]],r);const h=d.on("wheel.zoom"),p=d.on("dblclick.zoom");u.wheelDelta(ca);function g(A,I){return d?new Promise(D=>{u==null||u.interpolate((I==null?void 0:I.interpolate)==="linear"?It:En).transform(br(d,I==null?void 0:I.duration,I==null?void 0:I.ease,()=>D(!0)),A)}):Promise.resolve(!1)}function w({noWheelClassName:A,noPanClassName:I,onPaneContextMenu:D,userSelectionActive:_,panOnScroll:$,panOnDrag:C,panOnScrollMode:L,panOnScrollSpeed:T,preventScrolling:M,zoomOnPinch:B,zoomOnScroll:z,zoomOnDoubleClick:R,zoomActivationKeyPressed:W,lib:Y,onTransformChange:U,connectionInProgress:K,paneClickDistance:V,selectionOnDrag:F}){_&&!l.isZoomingOrPanning&&y();const G=$&&!W&&!_;u.clickDistance(F?1/0:!we(V)||V<0?0:V);const Z=G?ym({zoomPanValues:l,noWheelClassName:A,d3Selection:d,d3Zoom:u,panOnScrollMode:L,panOnScrollSpeed:T,zoomOnPinch:B,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:a}):xm({noWheelClassName:A,preventScrolling:M,d3ZoomHandler:h});if(d.on("wheel.zoom",Z,{passive:!1}),!_){const H=wm({zoomPanValues:l,onDraggingChange:c,onPanZoomStart:s});u.on("start",H);const X=vm({zoomPanValues:l,panOnDrag:C,onPaneContextMenu:!!D,onPanZoom:i,onTransformChange:U});u.on("zoom",X);const Q=bm({zoomPanValues:l,panOnDrag:C,panOnScroll:$,onPaneContextMenu:D,onPanZoomEnd:a,onDraggingChange:c});u.on("end",Q)}const q=_m({zoomActivationKeyPressed:W,panOnDrag:C,zoomOnScroll:z,panOnScroll:$,zoomOnDoubleClick:R,zoomOnPinch:B,userSelectionActive:_,noPanClassName:I,noWheelClassName:A,lib:Y,connectionInProgress:K});u.filter(q),R?d.on("dblclick.zoom",p):d.on("dblclick.zoom",null)}function y(){u.on("zoom",null)}async function b(A,I,D){const _=vr(A),$=u==null?void 0:u.constrain()(_,I,D);return $&&await g($),new Promise(C=>C($))}async function x(A,I){const D=vr(A);return await g(D,I),new Promise(_=>_(D))}function v(A){if(d){const I=vr(A),D=d.property("__zoom");(D.k!==A.zoom||D.x!==A.x||D.y!==A.y)&&(u==null||u.transform(d,I,null,{sync:!0}))}}function S(){const A=d?As(d.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function E(A,I){return d?new Promise(D=>{u==null||u.interpolate((I==null?void 0:I.interpolate)==="linear"?It:En).scaleTo(br(d,I==null?void 0:I.duration,I==null?void 0:I.ease,()=>D(!0)),A)}):Promise.resolve(!1)}function N(A,I){return d?new Promise(D=>{u==null||u.interpolate((I==null?void 0:I.interpolate)==="linear"?It:En).scaleBy(br(d,I==null?void 0:I.duration,I==null?void 0:I.ease,()=>D(!0)),A)}):Promise.resolve(!1)}function k(A){u==null||u.scaleExtent(A)}function j(A){u==null||u.translateExtent(A)}function O(A){const I=!we(A)||A<0?0:A;u==null||u.clickDistance(I)}return{update:w,destroy:y,setViewport:x,setViewportConstrained:b,getViewport:S,scaleTo:E,scaleBy:N,setScaleExtent:k,setTranslateExtent:j,syncViewport:v,setClickDistance:O}}var xt;(function(e){e.Line="line",e.Handle="handle"})(xt||(xt={}));function Em({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,a=n-r,c=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&o&&(c[0]=c[0]*-1),a&&i&&(c[1]=c[1]*-1),c}function mi(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Fe(e,t){return Math.max(0,t-e)}function Oe(e,t){return Math.max(0,e-t)}function wn(e,t,n){return Math.max(0,t-e,e-n)}function pi(e,t){return e?!t:t}function Nm(e,t,n,r,o,i,s,a){let{affectsX:c,affectsY:l}=t;const{isHorizontal:f,isVertical:u}=t,d=f&&u,{xSnapped:h,ySnapped:p}=n,{minWidth:g,maxWidth:w,minHeight:y,maxHeight:b}=r,{x,y:v,width:S,height:E,aspectRatio:N}=e;let k=Math.floor(f?h-e.pointerX:0),j=Math.floor(u?p-e.pointerY:0);const O=S+(c?-k:k),A=E+(l?-j:j),I=-i[0]*S,D=-i[1]*E;let _=wn(O,g,w),$=wn(A,y,b);if(s){let T=0,M=0;c&&k<0?T=Fe(x+k+I,s[0][0]):!c&&k>0&&(T=Oe(x+O+I,s[1][0])),l&&j<0?M=Fe(v+j+D,s[0][1]):!l&&j>0&&(M=Oe(v+A+D,s[1][1])),_=Math.max(_,T),$=Math.max($,M)}if(a){let T=0,M=0;c&&k>0?T=Oe(x+k,a[0][0]):!c&&k<0&&(T=Fe(x+O,a[1][0])),l&&j>0?M=Oe(v+j,a[0][1]):!l&&j<0&&(M=Fe(v+A,a[1][1])),_=Math.max(_,T),$=Math.max($,M)}if(o){if(f){const T=wn(O/N,y,b)*N;if(_=Math.max(_,T),s){let M=0;!c&&!l||c&&!l&&d?M=Oe(v+D+O/N,s[1][1])*N:M=Fe(v+D+(c?k:-k)/N,s[0][1])*N,_=Math.max(_,M)}if(a){let M=0;!c&&!l||c&&!l&&d?M=Fe(v+O/N,a[1][1])*N:M=Oe(v+(c?k:-k)/N,a[0][1])*N,_=Math.max(_,M)}}if(u){const T=wn(A*N,g,w)/N;if($=Math.max($,T),s){let M=0;!c&&!l||l&&!c&&d?M=Oe(x+A*N+I,s[1][0])/N:M=Fe(x+(l?j:-j)*N+I,s[0][0])/N,$=Math.max($,M)}if(a){let M=0;!c&&!l||l&&!c&&d?M=Fe(x+A*N,a[1][0])/N:M=Oe(x+(l?j:-j)*N,a[0][0])/N,$=Math.max($,M)}}}j=j+(j<0?$:-$),k=k+(k<0?_:-_),o&&(d?O>A*N?j=(pi(c,l)?-k:k)/N:k=(pi(c,l)?-j:j)*N:f?(j=k/N,l=c):(k=j*N,c=l));const C=c?x+k:x,L=l?v+j:v;return{width:S+(c?-k:k),height:E+(l?-j:j),x:i[0]*k*(c?-1:1)+C,y:i[1]*j*(l?-1:1)+L}}const la={width:0,height:0,x:0,y:0},Cm={...la,pointerX:0,pointerY:0,aspectRatio:1};function Mm(e){return[[0,0],[e.measured.width,e.measured.height]]}function km(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,a=n[0]*i,c=n[1]*s;return[[r-a,o-c],[r+i-a,o+s-c]]}function Tm({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=de(e);let s={controlDirection:mi("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:l,boundaries:f,keepAspectRatio:u,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:g,shouldResize:w}){let y={...la},b={...Cm};s={boundaries:f,resizeDirection:d,keepAspectRatio:u,controlDirection:mi(l)};let x,v=null,S=[],E,N,k,j=!1;const O=ws().on("start",A=>{const{nodeLookup:I,transform:D,snapGrid:_,snapToGrid:$,nodeOrigin:C,paneDomNode:L}=n();if(x=I.get(t),!x)return;v=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:M}=jt(A.sourceEvent,{transform:D,snapGrid:_,snapToGrid:$,containerBounds:v});y={width:x.measured.width??0,height:x.measured.height??0,x:x.position.x??0,y:x.position.y??0},b={...y,pointerX:T,pointerY:M,aspectRatio:y.width/y.height},E=void 0,x.parentId&&(x.extent==="parent"||x.expandParent)&&(E=I.get(x.parentId),N=E&&x.extent==="parent"?Mm(E):void 0),S=[],k=void 0;for(const[B,z]of I)if(z.parentId===t&&(S.push({id:B,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const R=km(z,x,z.origin??C);k?k=[[Math.min(R[0][0],k[0][0]),Math.min(R[0][1],k[0][1])],[Math.max(R[1][0],k[1][0]),Math.max(R[1][1],k[1][1])]]:k=R}h==null||h(A,{...y})}).on("drag",A=>{const{transform:I,snapGrid:D,snapToGrid:_,nodeOrigin:$}=n(),C=jt(A.sourceEvent,{transform:I,snapGrid:D,snapToGrid:_,containerBounds:v}),L=[];if(!x)return;const{x:T,y:M,width:B,height:z}=y,R={},W=x.origin??$,{width:Y,height:U,x:K,y:V}=Nm(b,s.controlDirection,C,s.boundaries,s.keepAspectRatio,W,N,k),F=Y!==B,G=U!==z,Z=K!==T&&F,q=V!==M&&G;if(!Z&&!q&&!F&&!G)return;if((Z||q||W[0]===1||W[1]===1)&&(R.x=Z?K:y.x,R.y=q?V:y.y,y.x=R.x,y.y=R.y,S.length>0)){const te=K-T,ee=V-M;for(const re of S)re.position={x:re.position.x-te+W[0]*(Y-B),y:re.position.y-ee+W[1]*(U-z)},L.push(re)}if((F||G)&&(R.width=F&&(!s.resizeDirection||s.resizeDirection==="horizontal")?Y:y.width,R.height=G&&(!s.resizeDirection||s.resizeDirection==="vertical")?U:y.height,y.width=R.width,y.height=R.height),E&&x.expandParent){const te=W[0]*(R.width??0);R.x&&R.x<te&&(y.x=te,b.x=b.x-(R.x-te));const ee=W[1]*(R.height??0);R.y&&R.y<ee&&(y.y=ee,b.y=b.y-(R.y-ee))}const H=Em({width:y.width,prevWidth:B,height:y.height,prevHeight:z,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),X={...y,direction:H};(w==null?void 0:w(A,X))!==!1&&(j=!0,p==null||p(A,X),r(R,L))}).on("end",A=>{j&&(g==null||g(A,{...y}),o==null||o({...y}),j=!1)});i.call(O)}function c(){i.on(".drag",null)}return{update:a,destroy:c}}var _r={exports:{}},Sr={},Er={exports:{}},Nr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi;function Im(){if(yi)return Nr;yi=1;var e=Zi();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(u,d){var h=d(),p=r({inst:{value:h,getSnapshot:d}}),g=p[0].inst,w=p[1];return i(function(){g.value=h,g.getSnapshot=d,c(g)&&w({inst:g})},[u,h,d]),o(function(){return c(g)&&w({inst:g}),u(function(){c(g)&&w({inst:g})})},[u]),s(h),h}function c(u){var d=u.getSnapshot;u=u.value;try{var h=d();return!n(u,h)}catch{return!0}}function l(u,d){return d()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Nr.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Nr}var xi;function jm(){return xi||(xi=1,Er.exports=Im()),Er.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi;function $m(){if(wi)return Sr;wi=1;var e=Zi(),t=jm();function n(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Sr.useSyncExternalStoreWithSelector=function(l,f,u,d,h){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function y(E){if(!b){if(b=!0,x=E,E=d(E),h!==void 0&&g.hasValue){var N=g.value;if(h(N,E))return v=N}return v=E}if(N=v,r(x,E))return N;var k=d(E);return h!==void 0&&h(N,k)?(x=E,N):(x=E,v=k)}var b=!1,x,v,S=u===void 0?null:u;return[function(){return y(f())},S===null?void 0:function(){return y(S())}]},[f,u,d,h]);var w=o(l,p[0],p[1]);return s(function(){g.hasValue=!0,g.value=w},[w]),c(w),w},Sr}var vi;function Am(){return vi||(vi=1,_r.exports=$m()),_r.exports}var Pm=Am();const Lm=Xc(Pm),Dm={},bi=e=>{let t;const n=new Set,r=(f,u)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const h=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>l,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Dm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,o,c);return c},Bm=e=>e?bi(e):bi,{useDebugValue:Rm}=Nt,{useSyncExternalStoreWithSelector:zm}=Lm,Hm=e=>e;function ua(e,t=Hm,n){const r=zm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Rm(r),r}const _i=(e,t)=>{const n=Bm(e),r=(o,i=t)=>ua(n,o,i);return Object.assign(r,n),r},Fm=(e,t)=>e?_i(e,t):_i;function se(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Kn=P.createContext(null),Om=Kn.Provider,da=Te.error001();function ne(e,t){const n=P.useContext(Kn);if(n===null)throw new Error(da);return ua(n,e,t)}function oe(){const e=P.useContext(Kn);if(e===null)throw new Error(da);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Si={display:"none"},Vm={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fa="react-flow__node-desc",ha="react-flow__edge-desc",Ym="react-flow__aria-live",Xm=e=>e.ariaLiveMessage,Wm=e=>e.ariaLabelConfig;function Gm({rfId:e}){const t=ne(Xm);return m.jsx("div",{id:`${Ym}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Vm,children:t})}function qm({rfId:e,disableKeyboardA11y:t}){const n=ne(Wm);return m.jsxs(m.Fragment,{children:[m.jsx("div",{id:`${fa}-${e}`,style:Si,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),m.jsx("div",{id:`${ha}-${e}`,style:Si,children:n["edge.a11yDescription.default"]}),!t&&m.jsx(Gm,{rfId:e})]})}const Zn=P.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return m.jsx("div",{className:ae(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});Zn.displayName="Panel";function Um({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:m.jsx(Zn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Km=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},vn=e=>e.id;function Zm(e,t){return se(e.selectedNodes.map(vn),t.selectedNodes.map(vn))&&se(e.selectedEdges.map(vn),t.selectedEdges.map(vn))}function Qm({onSelectionChange:e}){const t=oe(),{selectedNodes:n,selectedEdges:r}=ne(Km,Zm);return P.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const Jm=e=>!!e.onSelectionChangeHandlers;function ep({onSelectionChange:e}){const t=ne(Jm);return e||t?m.jsx(Qm,{onSelectionChange:e}):null}const ga=[0,0],tp={x:0,y:0,zoom:1},np=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],Ei=[...np,"rfId"],rp=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Ni={translateExtent:Rt,nodeOrigin:ga,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function op(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:c}=ne(rp,se),l=oe();P.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=Ni,a()}),[]);const f=P.useRef(Ni);return P.useEffect(()=>{for(const u of Ei){const d=e[u],h=f.current[u];d!==h&&(typeof e[u]>"u"||(u==="nodes"?t(d):u==="edges"?n(d):u==="minZoom"?r(d):u==="maxZoom"?o(d):u==="translateExtent"?i(d):u==="nodeExtent"?s(d):u==="ariaLabelConfig"?l.setState({ariaLabelConfig:Fg(d)}):u==="fitView"?l.setState({fitViewQueued:d}):u==="fitViewOptions"?l.setState({fitViewOptions:d}):l.setState({[u]:d})))}f.current=e},Ei.map(u=>e[u])),null}function Ci(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ip(e){var r;const[t,n]=P.useState(e==="system"?null:e);return P.useEffect(()=>{if(e!=="system"){n(e);return}const o=Ci(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=Ci())!=null&&r.matches?"dark":"light"}const Mi=typeof document<"u"?document:null;function Vt(e=null,t={target:Mi,actInsideInputWithModifier:!0}){const[n,r]=P.useState(!1),o=P.useRef(!1),i=P.useRef(new Set([])),[s,a]=P.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(u=>typeof u=="string").map(u=>u.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=l.reduce((u,d)=>u.concat(...d),[]);return[l,f]}return[[],[]]},[e]);return P.useEffect(()=>{const c=(t==null?void 0:t.target)??Mi,l=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=h=>{var w,y;if(o.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!o.current||o.current&&!l)&&Gs(h))return!1;const g=Ti(h.code,a);if(i.current.add(h[g]),ki(s,i.current,!1)){const b=((y=(w=h.composedPath)==null?void 0:w.call(h))==null?void 0:y[0])||h.target,x=(b==null?void 0:b.nodeName)==="BUTTON"||(b==null?void 0:b.nodeName)==="A";t.preventDefault!==!1&&(o.current||!x)&&h.preventDefault(),r(!0)}},u=h=>{const p=Ti(h.code,a);ki(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[p]),h.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function ki(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Ti(e,t){return t.includes(e)?"code":"key"}const sp=()=>{const e=oe();return P.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:a}=e.getState(),c=to(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:a,y:c}=s.getBoundingClientRect(),l={x:t.x-a,y:t.y-c},f=n.snapGrid??o,u=n.snapToGrid??i;return Qt(l,r,u,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Rn(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function ma(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...i};for(const c of s)ap(c,a);n.push(a)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function ap(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function cp(e,t){return ma(e,t)}function lp(e,t){return ma(e,t)}function Ge(e,t){return{id:e,type:"select",selected:t}}function ct(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Ge(i.id,s)))}return r}function Ii({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const a=t.get(s.id),c=((o=a==null?void 0:a.internals)==null?void 0:o.userNode)??a;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function ji(e){return{id:e.id,type:"remove"}}const $i=e=>jg(e),up=e=>zs(e);function pa(e){return P.forwardRef(e)}const dp=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Ai(e){const[t,n]=P.useState(BigInt(0)),[r]=P.useState(()=>fp(()=>n(o=>o+BigInt(1))));return dp(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function fp(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const ya=P.createContext(null);function hp({children:e}){const t=oe(),n=P.useCallback(a=>{const{nodes:c=[],setNodes:l,hasDefaultNodes:f,onNodesChange:u,nodeLookup:d,fitViewQueued:h}=t.getState();let p=c;for(const w of a)p=typeof w=="function"?w(p):w;const g=Ii({items:p,lookup:d});f&&l(p),g.length>0?u==null||u(g):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:y,setNodes:b}=t.getState();w&&b(y)})},[]),r=Ai(n),o=P.useCallback(a=>{const{edges:c=[],setEdges:l,hasDefaultEdges:f,onEdgesChange:u,edgeLookup:d}=t.getState();let h=c;for(const p of a)h=typeof p=="function"?p(h):p;f?l(h):u&&u(Ii({items:h,lookup:d}))},[]),i=Ai(o),s=P.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return m.jsx(ya.Provider,{value:s,children:e})}function gp(){const e=P.useContext(ya);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const mp=e=>!!e.panZoom;function ao(){const e=sp(),t=oe(),n=gp(),r=ne(mp),o=P.useMemo(()=>{const i=u=>t.getState().nodeLookup.get(u),s=u=>{n.nodeQueue.push(u)},a=u=>{n.edgeQueue.push(u)},c=u=>{var y,b;const{nodeLookup:d,nodeOrigin:h}=t.getState(),p=$i(u)?u:d.get(u.id),g=p.parentId?Xs(p.position,p.measured,p.parentId,d,h):p.position,w={...p,position:g,width:((y=p.measured)==null?void 0:y.width)??p.width,height:((b=p.measured)==null?void 0:b.height)??p.height};return pt(w)},l=(u,d,h={replace:!1})=>{s(p=>p.map(g=>{if(g.id===u){const w=typeof d=="function"?d(g):d;return h.replace&&$i(w)?w:{...g,...w}}return g}))},f=(u,d,h={replace:!1})=>{a(p=>p.map(g=>{if(g.id===u){const w=typeof d=="function"?d(g):d;return h.replace&&up(w)?w:{...g,...w}}return g}))};return{getNodes:()=>t.getState().nodes.map(u=>({...u})),getNode:u=>{var d;return(d=i(u))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:u=[]}=t.getState();return u.map(d=>({...d}))},getEdge:u=>t.getState().edgeLookup.get(u),setNodes:s,setEdges:a,addNodes:u=>{const d=Array.isArray(u)?u:[u];n.nodeQueue.push(h=>[...h,...d])},addEdges:u=>{const d=Array.isArray(u)?u:[u];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:u=[],edges:d=[],transform:h}=t.getState(),[p,g,w]=h;return{nodes:u.map(y=>({...y})),edges:d.map(y=>({...y})),viewport:{x:p,y:g,zoom:w}}},deleteElements:async({nodes:u=[],edges:d=[]})=>{const{nodes:h,edges:p,onNodesDelete:g,onEdgesDelete:w,triggerNodeChanges:y,triggerEdgeChanges:b,onDelete:x,onBeforeDelete:v}=t.getState(),{nodes:S,edges:E}=await Dg({nodesToRemove:u,edgesToRemove:d,nodes:h,edges:p,onBeforeDelete:v}),N=E.length>0,k=S.length>0;if(N){const j=E.map(ji);w==null||w(E),b(j)}if(k){const j=S.map(ji);g==null||g(S),y(j)}return(k||N)&&(x==null||x({nodes:S,edges:E})),{deletedNodes:S,deletedEdges:E}},getIntersectingNodes:(u,d=!0,h)=>{const p=oi(u),g=p?u:c(u),w=h!==void 0;return g?(h||t.getState().nodes).filter(y=>{const b=t.getState().nodeLookup.get(y.id);if(b&&!p&&(y.id===u.id||!b.internals.positionAbsolute))return!1;const x=pt(w?y:b),v=Ht(x,g);return d&&v>0||v>=x.width*x.height||v>=g.width*g.height}):[]},isNodeIntersecting:(u,d,h=!0)=>{const g=oi(u)?u:c(u);if(!g)return!1;const w=Ht(g,d);return h&&w>0||w>=d.width*d.height||w>=g.width*g.height},updateNode:l,updateNodeData:(u,d,h={replace:!1})=>{l(u,p=>{const g=typeof d=="function"?d(p):d;return h.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},h)},updateEdge:f,updateEdgeData:(u,d,h={replace:!1})=>{f(u,p=>{const g=typeof d=="function"?d(p):d;return h.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},h)},getNodesBounds:u=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return $g(u,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:u,id:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${u}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:u,handleId:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${u?d?`-${u}-${d}`:`-${u}`:""}`))==null?void 0:p.values())??[])},fitView:async u=>{const d=t.getState().fitViewResolver??Hg();return t.setState({fitViewQueued:!0,fitViewOptions:u,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return P.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Pi=e=>e.selected,pp=typeof window<"u"?window:void 0;function yp({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=oe(),{deleteElements:r}=ao(),o=Vt(e,{actInsideInputWithModifier:!1}),i=Vt(t,{target:pp});P.useEffect(()=>{if(o){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(Pi),edges:s.filter(Pi)}),n.setState({nodesSelectionActive:!1})}},[o]),P.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function xp(e){const t=oe();P.useEffect(()=>{const n=()=>{var o,i,s,a;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=no(e.current);(r.height===0||r.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",Te.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Qn={position:"absolute",width:"100%",height:"100%",top:0,left:0},wp=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function vp({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Ze.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:l,minZoom:f,maxZoom:u,zoomActivationKeyCode:d,preventScrolling:h=!0,children:p,noWheelClassName:g,noPanClassName:w,onViewportChange:y,isControlledViewport:b,paneClickDistance:x,selectionOnDrag:v}){const S=oe(),E=P.useRef(null),{userSelectionActive:N,lib:k,connectionInProgress:j}=ne(wp,se),O=Vt(d),A=P.useRef();xp(E);const I=P.useCallback(D=>{y==null||y({x:D[0],y:D[1],zoom:D[2]}),b||S.setState({transform:D})},[y,b]);return P.useEffect(()=>{if(E.current){A.current=Sm({domNode:E.current,minZoom:f,maxZoom:u,translateExtent:l,viewport:c,onDraggingChange:C=>S.setState({paneDragging:C}),onPanZoomStart:(C,L)=>{const{onViewportChangeStart:T,onMoveStart:M}=S.getState();M==null||M(C,L),T==null||T(L)},onPanZoom:(C,L)=>{const{onViewportChange:T,onMove:M}=S.getState();M==null||M(C,L),T==null||T(L)},onPanZoomEnd:(C,L)=>{const{onViewportChangeEnd:T,onMoveEnd:M}=S.getState();M==null||M(C,L),T==null||T(L)}});const{x:D,y:_,zoom:$}=A.current.getViewport();return S.setState({panZoom:A.current,transform:[D,_,$],domNode:E.current.closest(".react-flow")}),()=>{var C;(C=A.current)==null||C.destroy()}}},[]),P.useEffect(()=>{var D;(D=A.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:O,preventScrolling:h,noPanClassName:w,userSelectionActive:N,noWheelClassName:g,lib:k,onTransformChange:I,connectionInProgress:j,selectionOnDrag:v,paneClickDistance:x})},[e,t,n,r,o,i,s,a,O,h,w,N,g,k,I,j,v,x]),m.jsx("div",{className:"react-flow__renderer",ref:E,style:Qn,children:p})}const bp=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function _p(){const{userSelectionActive:e,userSelectionRect:t}=ne(bp,se);return e&&t?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Cr=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Sp=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Ep({isSelecting:e,selectionKeyPressed:t,selectionMode:n=zt.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:l,onPaneScroll:f,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const g=oe(),{userSelectionActive:w,elementsSelectable:y,dragging:b,connectionInProgress:x}=ne(Sp,se),v=y&&(e||w),S=P.useRef(null),E=P.useRef(),N=P.useRef(new Set),k=P.useRef(new Set),j=P.useRef(!1),O=T=>{if(j.current||x){j.current=!1;return}c==null||c(T),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},A=T=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){T.preventDefault();return}l==null||l(T)},I=f?T=>f(T):void 0,D=T=>{j.current&&(T.stopPropagation(),j.current=!1)},_=T=>{var U,K;const{domNode:M}=g.getState();if(E.current=M==null?void 0:M.getBoundingClientRect(),!E.current)return;const B=T.target===S.current;if(!B&&!!T.target.closest(".nokey")||!e||!(i&&B||t)||T.button!==0||!T.isPrimary)return;(K=(U=T.target)==null?void 0:U.setPointerCapture)==null||K.call(U,T.pointerId),j.current=!1;const{x:W,y:Y}=ve(T.nativeEvent,E.current);g.setState({userSelectionRect:{width:0,height:0,startX:W,startY:Y,x:W,y:Y}}),B||(T.stopPropagation(),T.preventDefault())},$=T=>{const{userSelectionRect:M,transform:B,nodeLookup:z,edgeLookup:R,connectionLookup:W,triggerNodeChanges:Y,triggerEdgeChanges:U,defaultEdgeOptions:K,resetSelectedElements:V}=g.getState();if(!E.current||!M)return;const{x:F,y:G}=ve(T.nativeEvent,E.current),{startX:Z,startY:q}=M;if(!j.current){const ee=t?0:o;if(Math.hypot(F-Z,G-q)<=ee)return;V(),s==null||s(T)}j.current=!0;const H={startX:Z,startY:q,x:F<Z?F:Z,y:G<q?G:q,width:Math.abs(F-Z),height:Math.abs(G-q)},X=N.current,Q=k.current;N.current=new Set(eo(z,H,B,n===zt.Partial,!0).map(ee=>ee.id)),k.current=new Set;const te=(K==null?void 0:K.selectable)??!0;for(const ee of N.current){const re=W.get(ee);if(re)for(const{edgeId:ce}of re.values()){const le=R.get(ce);le&&(le.selectable??te)&&k.current.add(ce)}}if(!ii(X,N.current)){const ee=ct(z,N.current,!0);Y(ee)}if(!ii(Q,k.current)){const ee=ct(R,k.current);U(ee)}g.setState({userSelectionRect:H,userSelectionActive:!0,nodesSelectionActive:!1})},C=T=>{var M,B;T.button===0&&((B=(M=T.target)==null?void 0:M.releasePointerCapture)==null||B.call(M,T.pointerId),!w&&T.target===S.current&&g.getState().userSelectionRect&&(O==null||O(T)),g.setState({userSelectionActive:!1,userSelectionRect:null}),j.current&&(a==null||a(T),g.setState({nodesSelectionActive:N.current.size>0})))},L=r===!0||Array.isArray(r)&&r.includes(0);return m.jsxs("div",{className:ae(["react-flow__pane",{draggable:L,dragging:b,selection:e}]),onClick:v?void 0:Cr(O,S),onContextMenu:Cr(A,S),onWheel:Cr(I,S),onPointerEnter:v?void 0:u,onPointerMove:v?$:d,onPointerUp:v?C:void 0,onPointerDownCapture:v?_:void 0,onClickCapture:v?D:void 0,onPointerLeave:h,ref:S,style:Qn,children:[p,m.jsx(_p,{})]})}function Vr({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:a,onError:c}=t.getState(),l=a.get(e);if(!l){c==null||c("012",Te.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function xa({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const a=oe(),[c,l]=P.useState(!1),f=P.useRef();return P.useEffect(()=>{f.current=lm({getStoreItems:()=>a.getState(),onNodeMouseDown:u=>{Vr({id:u,store:a,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),P.useEffect(()=>{var u,d;if(t)(u=f.current)==null||u.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var h;(h=f.current)==null||h.destroy()}},[n,r,t,i,e,o]),c}const Np=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function wa(){const e=oe();return P.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:a,updateNodePositions:c,nodeLookup:l,nodeOrigin:f}=e.getState(),u=new Map,d=Np(s),h=o?i[0]:5,p=o?i[1]:5,g=n.direction.x*h*n.factor,w=n.direction.y*p*n.factor;for(const[,y]of l){if(!d(y))continue;let b={x:y.internals.positionAbsolute.x+g,y:y.internals.positionAbsolute.y+w};o&&(b=Zt(b,i));const{position:x,positionAbsolute:v}=Hs({nodeId:y.id,nextPosition:b,nodeLookup:l,nodeExtent:r,nodeOrigin:f,onError:a});y.position=x,y.internals.positionAbsolute=v,u.set(y.id,y)}c(u)},[])}const co=P.createContext(null),Cp=co.Provider;co.Consumer;const va=()=>P.useContext(co),Mp=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),kp=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:a,toHandle:c,isValid:l}=s,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===gt.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!o,valid:f&&l}};function Tp({type:e="source",position:t=J.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:a,children:c,className:l,onMouseDown:f,onTouchStart:u,...d},h){var $,C;const p=s||null,g=e==="target",w=oe(),y=va(),{connectOnClick:b,noPanClassName:x,rfId:v}=ne(Mp,se),{connectingFrom:S,connectingTo:E,clickConnecting:N,isPossibleEndHandle:k,connectionInProcess:j,clickConnectionInProcess:O,valid:A}=ne(kp(y,p,e),se);y||(C=($=w.getState()).onError)==null||C.call($,"010",Te.error010());const I=L=>{const{defaultEdgeOptions:T,onConnect:M,hasDefaultEdges:B}=w.getState(),z={...T,...L};if(B){const{edges:R,setEdges:W}=w.getState();W(Gg(z,R))}M==null||M(z),a==null||a(z)},D=L=>{if(!y)return;const T=qs(L.nativeEvent);if(o&&(T&&L.button===0||!T)){const M=w.getState();Or.onPointerDown(L.nativeEvent,{handleDomNode:L.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:g,handleId:p,nodeId:y,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:I,isValidConnection:n||M.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}T?f==null||f(L):u==null||u(L)},_=L=>{const{onClickConnectStart:T,onClickConnectEnd:M,connectionClickStartHandle:B,connectionMode:z,isValidConnection:R,lib:W,rfId:Y,nodeLookup:U,connection:K}=w.getState();if(!y||!B&&!o)return;if(!B){T==null||T(L.nativeEvent,{nodeId:y,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:y,type:e,id:p}});return}const V=Ws(L.target),F=n||R,{connection:G,isValid:Z}=Or.isValid(L.nativeEvent,{handle:{nodeId:y,id:p,type:e},connectionMode:z,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:F,flowId:Y,doc:V,lib:W,nodeLookup:U});Z&&G&&I(G);const q=structuredClone(K);delete q.inProgress,q.toPosition=q.toHandle?q.toHandle.position:null,M==null||M(L,q),w.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${v}-${y}-${p}-${e}`,className:ae(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,l,{source:!g,target:g,connectable:r,connectablestart:o,connectableend:i,clickconnecting:N,connectingfrom:S,connectingto:E,valid:A,connectionindicator:r&&(!j||k)&&(j||O?i:o)}]),onMouseDown:D,onTouchStart:D,onClick:b?_:void 0,ref:h,...d,children:c})}const zn=P.memo(pa(Tp));function Ip({data:e,isConnectable:t,sourcePosition:n=J.Bottom}){return m.jsxs(m.Fragment,{children:[e==null?void 0:e.label,m.jsx(zn,{type:"source",position:n,isConnectable:t})]})}function jp({data:e,isConnectable:t,targetPosition:n=J.Top,sourcePosition:r=J.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(zn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,m.jsx(zn,{type:"source",position:r,isConnectable:t})]})}function $p(){return null}function Ap({data:e,isConnectable:t,targetPosition:n=J.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(zn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Hn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Li={input:Ip,default:jp,output:Ap,group:$p};function Pp(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const Lp=e=>{const{width:t,height:n,x:r,y:o}=Kt(e.nodeLookup,{filter:i=>!!i.selected});return{width:we(t)?t:null,height:we(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Dp({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=oe(),{width:o,height:i,transformString:s,userSelectionActive:a}=ne(Lp,se),c=wa(),l=P.useRef(null);if(P.useEffect(()=>{var d;n||(d=l.current)==null||d.focus({preventScroll:!0})},[n]),xa({nodeRef:l}),a||!o||!i)return null;const f=e?d=>{const h=r.getState().nodes.filter(p=>p.selected);e(d,h)}:void 0,u=d=>{Object.prototype.hasOwnProperty.call(Hn,d.key)&&(d.preventDefault(),c({direction:Hn[d.key],factor:d.shiftKey?4:1}))};return m.jsx("div",{className:ae(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:m.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:u,style:{width:o,height:i}})})}const Di=typeof window<"u"?window:void 0,Bp=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function ba({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:l,selectionOnDrag:f,selectionMode:u,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:g,zoomActivationKeyCode:w,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:v,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:k,defaultViewport:j,translateExtent:O,minZoom:A,maxZoom:I,preventScrolling:D,onSelectionContextMenu:_,noWheelClassName:$,noPanClassName:C,disableKeyboardA11y:L,onViewportChange:T,isControlledViewport:M}){const{nodesSelectionActive:B,userSelectionActive:z}=ne(Bp),R=Vt(l,{target:Di}),W=Vt(g,{target:Di}),Y=W||k,U=W||v,K=f&&Y!==!0,V=R||z||K;return yp({deleteKeyCode:c,multiSelectionKeyCode:p}),m.jsx(vp,{onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:U,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:!R&&Y,defaultViewport:j,translateExtent:O,minZoom:A,maxZoom:I,zoomActivationKeyCode:w,preventScrolling:D,noWheelClassName:$,noPanClassName:C,onViewportChange:T,isControlledViewport:M,paneClickDistance:a,selectionOnDrag:K,children:m.jsxs(Ep,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:Y,isSelecting:!!V,selectionMode:u,selectionKeyPressed:R,paneClickDistance:a,selectionOnDrag:K,children:[e,B&&m.jsx(Dp,{onSelectionContextMenu:_,noPanClassName:C,disableKeyboardA11y:L})]})})}ba.displayName="FlowRenderer";const Rp=P.memo(ba),zp=e=>t=>e?eo(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Hp(e){return ne(P.useCallback(zp(e),[e]),se)}const Fp=e=>e.updateNodeInternals;function Op(){const e=ne(Fp),[t]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return P.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Vp({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=oe(),i=P.useRef(null),s=P.useRef(null),a=P.useRef(e.sourcePosition),c=P.useRef(e.targetPosition),l=P.useRef(t),f=n&&!!e.internals.handleBounds;return P.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,e.hidden]),P.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),P.useEffect(()=>{if(i.current){const u=l.current!==t,d=a.current!==e.sourcePosition,h=c.current!==e.targetPosition;(u||d||h)&&(l.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function Yp({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:a,elementsSelectable:c,nodesConnectable:l,nodesFocusable:f,resizeObserver:u,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:p,rfId:g,nodeTypes:w,nodeClickDistance:y,onError:b}){const{node:x,internals:v,isParent:S}=ne(F=>{const G=F.nodeLookup.get(e),Z=F.parentLookup.has(e);return{node:G,internals:G.internals,isParent:Z}},se);let E=x.type||"default",N=(w==null?void 0:w[E])||Li[E];N===void 0&&(b==null||b("003",Te.error003(E)),E="default",N=(w==null?void 0:w.default)||Li.default);const k=!!(x.draggable||a&&typeof x.draggable>"u"),j=!!(x.selectable||c&&typeof x.selectable>"u"),O=!!(x.connectable||l&&typeof x.connectable>"u"),A=!!(x.focusable||f&&typeof x.focusable>"u"),I=oe(),D=Ys(x),_=Vp({node:x,nodeType:E,hasDimensions:D,resizeObserver:u}),$=xa({nodeRef:_,disabled:x.hidden||!k,noDragClassName:d,handleSelector:x.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:y}),C=wa();if(x.hidden)return null;const L=Re(x),T=Pp(x),M=j||k||t||n||r||o,B=n?F=>n(F,{...v.userNode}):void 0,z=r?F=>r(F,{...v.userNode}):void 0,R=o?F=>o(F,{...v.userNode}):void 0,W=i?F=>i(F,{...v.userNode}):void 0,Y=s?F=>s(F,{...v.userNode}):void 0,U=F=>{const{selectNodesOnDrag:G,nodeDragThreshold:Z}=I.getState();j&&(!G||!k||Z>0)&&Vr({id:e,store:I,nodeRef:_}),t&&t(F,{...v.userNode})},K=F=>{if(!(Gs(F.nativeEvent)||p)){if(Ls.includes(F.key)&&j){const G=F.key==="Escape";Vr({id:e,store:I,unselect:G,nodeRef:_})}else if(k&&x.selected&&Object.prototype.hasOwnProperty.call(Hn,F.key)){F.preventDefault();const{ariaLabelConfig:G}=I.getState();I.setState({ariaLiveMessage:G["node.a11yDescription.ariaLiveMessage"]({direction:F.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),C({direction:Hn[F.key],factor:F.shiftKey?4:1})}}},V=()=>{var Q;if(p||!((Q=_.current)!=null&&Q.matches(":focus-visible")))return;const{transform:F,width:G,height:Z,autoPanOnNodeFocus:q,setCenter:H}=I.getState();if(!q)return;eo(new Map([[e,x]]),{x:0,y:0,width:G,height:Z},F,!0).length>0||H(x.position.x+L.width/2,x.position.y+L.height/2,{zoom:F[2]})};return m.jsx("div",{className:ae(["react-flow__node",`react-flow__node-${E}`,{[h]:k},x.className,{selected:x.selected,selectable:j,parent:S,draggable:k,dragging:$}]),ref:_,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:D?"visible":"hidden",...x.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:B,onMouseMove:z,onMouseLeave:R,onContextMenu:W,onClick:U,onDoubleClick:Y,onKeyDown:A?K:void 0,tabIndex:A?0:void 0,onFocus:A?V:void 0,role:x.ariaRole??(A?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${fa}-${g}`,"aria-label":x.ariaLabel,...x.domAttributes,children:m.jsx(Cp,{value:e,children:m.jsx(N,{id:e,data:x.data,type:E,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:x.selected??!1,selectable:j,draggable:k,deletable:x.deletable??!0,isConnectable:O,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:$,dragHandle:x.dragHandle,zIndex:v.z,parentId:x.parentId,...L})})})}var Xp=P.memo(Yp);const Wp=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function _a(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=ne(Wp,se),s=Hp(e.onlyRenderVisibleElements),a=Op();return m.jsx("div",{className:"react-flow__nodes",style:Qn,children:s.map(c=>m.jsx(Xp,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}_a.displayName="NodeRenderer";const Gp=P.memo(_a);function qp(e){return ne(P.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&Yg({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),se)}const Up=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return m.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Kp=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return m.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Bi={[Dn.Arrow]:Up,[Dn.ArrowClosed]:Kp};function Zp(e){const t=oe();return P.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Bi,e)?Bi[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Te.error009(e)),null)},[e])}const Qp=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const c=Zp(t);return c?m.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:m.jsx(c,{color:n,strokeWidth:s})}):null},Sa=({defaultColor:e,rfId:t})=>{const n=ne(i=>i.edges),r=ne(i=>i.defaultEdgeOptions),o=P.useMemo(()=>Qg(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?m.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:m.jsx("defs",{children:o.map(i=>m.jsx(Qp,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Sa.displayName="MarkerDefinitions";var Jp=P.memo(Sa);function Ea({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:c,className:l,...f}){const[u,d]=P.useState({x:1,y:0,width:0,height:0}),h=ae(["react-flow__edge-textwrapper",l]),p=P.useRef(null);return P.useEffect(()=>{if(p.current){const g=p.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?m.jsxs("g",{transform:`translate(${e-u.width/2} ${t-u.height/2})`,className:h,visibility:u.width?"visible":"hidden",...f,children:[o&&m.jsx("rect",{width:u.width+2*s[0],x:-s[0],y:-s[1],height:u.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),m.jsx("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:p,style:r,children:n}),c]}):null}Ea.displayName="EdgeText";const e0=P.memo(Ea);function Jn({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:l=20,...f}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...f,d:e,fill:"none",className:ae(["react-flow__edge-path",f.className])}),l?m.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}):null,r&&we(t)&&we(n)?m.jsx(e0,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function Ri({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===J.Left||e===J.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Na({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top}){const[s,a]=Ri({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,l]=Ri({pos:i,x1:r,y1:o,x2:e,y2:t}),[f,u,d,h]=Us({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${a} ${c},${l} ${r},${o}`,f,u,d,h]}function Ca(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:a,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:y})=>{const[b,x,v]=Na({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a}),S=e.isInternal?void 0:t;return m.jsx(Jn,{id:S,path:b,labelX:x,labelY:v,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:y})})}const t0=Ca({isInternal:!1}),Ma=Ca({isInternal:!0});t0.displayName="SimpleBezierEdge";Ma.displayName="SimpleBezierEdgeInternal";function ka(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,sourcePosition:h=J.Bottom,targetPosition:p=J.Top,markerEnd:g,markerStart:w,pathOptions:y,interactionWidth:b})=>{const[x,v,S]=zr({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset,stepPosition:y==null?void 0:y.stepPosition}),E=e.isInternal?void 0:t;return m.jsx(Jn,{id:E,path:x,labelX:v,labelY:S,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:w,interactionWidth:b})})}const Ta=ka({isInternal:!1}),Ia=ka({isInternal:!0});Ta.displayName="SmoothStepEdge";Ia.displayName="SmoothStepEdgeInternal";function ja(e){return P.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return m.jsx(Ta,{...n,id:r,pathOptions:P.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const n0=ja({isInternal:!1}),$a=ja({isInternal:!0});n0.displayName="StepEdge";$a.displayName="StepEdgeInternal";function Aa(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[w,y,b]=Qs({sourceX:n,sourceY:r,targetX:o,targetY:i}),x=e.isInternal?void 0:t;return m.jsx(Jn,{id:x,path:w,labelX:y,labelY:b,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:p,interactionWidth:g})})}const r0=Aa({isInternal:!1}),Pa=Aa({isInternal:!0});r0.displayName="StraightEdge";Pa.displayName="StraightEdgeInternal";function La(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=J.Bottom,targetPosition:a=J.Top,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,pathOptions:y,interactionWidth:b})=>{const[x,v,S]=Ks({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a,curvature:y==null?void 0:y.curvature}),E=e.isInternal?void 0:t;return m.jsx(Jn,{id:E,path:x,labelX:v,labelY:S,label:c,labelStyle:l,labelShowBg:f,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:b})})}const o0=La({isInternal:!1}),Da=La({isInternal:!0});o0.displayName="BezierEdge";Da.displayName="BezierEdgeInternal";const zi={default:Da,straight:Pa,step:$a,smoothstep:Ia,simplebezier:Ma},Hi={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},i0=(e,t,n)=>n===J.Left?e-t:n===J.Right?e+t:e,s0=(e,t,n)=>n===J.Top?e-t:n===J.Bottom?e+t:e,Fi="react-flow__edgeupdater";function Oi({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:a}){return m.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:ae([Fi,`${Fi}-${a}`]),cx:i0(t,r,e),cy:s0(n,r,e),r,stroke:"transparent",fill:"transparent"})}function a0({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:a,targetPosition:c,onReconnect:l,onReconnectStart:f,onReconnectEnd:u,setReconnecting:d,setUpdateHover:h}){const p=oe(),g=(v,S)=>{if(v.button!==0)return;const{autoPanOnConnect:E,domNode:N,isValidConnection:k,connectionMode:j,connectionRadius:O,lib:A,onConnectStart:I,onConnectEnd:D,cancelConnection:_,nodeLookup:$,rfId:C,panBy:L,updateConnection:T}=p.getState(),M=S.type==="target",B=(W,Y)=>{d(!1),u==null||u(W,n,S.type,Y)},z=W=>l==null?void 0:l(n,W),R=(W,Y)=>{d(!0),f==null||f(v,n,S.type),I==null||I(W,Y)};Or.onPointerDown(v.nativeEvent,{autoPanOnConnect:E,connectionMode:j,connectionRadius:O,domNode:N,handleId:S.id,nodeId:S.nodeId,nodeLookup:$,isTarget:M,edgeUpdaterType:S.type,lib:A,flowId:C,cancelConnection:_,panBy:L,isValidConnection:k,onConnect:z,onConnectStart:R,onConnectEnd:D,onReconnectEnd:B,updateConnection:T,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:v.currentTarget})},w=v=>g(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=v=>g(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),b=()=>h(!0),x=()=>h(!1);return m.jsxs(m.Fragment,{children:[(e===!0||e==="source")&&m.jsx(Oi,{position:a,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:b,onMouseOut:x,type:"source"}),(e===!0||e==="target")&&m.jsx(Oi,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:y,onMouseEnter:b,onMouseOut:x,type:"target"})]})}function c0({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,reconnectRadius:f,onReconnect:u,onReconnectStart:d,onReconnectEnd:h,rfId:p,edgeTypes:g,noPanClassName:w,onError:y,disableKeyboardA11y:b}){let x=ne(H=>H.edgeLookup.get(e));const v=ne(H=>H.defaultEdgeOptions);x=v?{...v,...x}:x;let S=x.type||"default",E=(g==null?void 0:g[S])||zi[S];E===void 0&&(y==null||y("011",Te.error011(S)),S="default",E=(g==null?void 0:g.default)||zi.default);const N=!!(x.focusable||t&&typeof x.focusable>"u"),k=typeof u<"u"&&(x.reconnectable||n&&typeof x.reconnectable>"u"),j=!!(x.selectable||r&&typeof x.selectable>"u"),O=P.useRef(null),[A,I]=P.useState(!1),[D,_]=P.useState(!1),$=oe(),{zIndex:C,sourceX:L,sourceY:T,targetX:M,targetY:B,sourcePosition:z,targetPosition:R}=ne(P.useCallback(H=>{const X=H.nodeLookup.get(x.source),Q=H.nodeLookup.get(x.target);if(!X||!Q)return{zIndex:x.zIndex,...Hi};const te=Zg({id:e,sourceNode:X,targetNode:Q,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:H.connectionMode,onError:y});return{zIndex:Vg({selected:x.selected,zIndex:x.zIndex,sourceNode:X,targetNode:Q,elevateOnSelect:H.elevateEdgesOnSelect}),...te||Hi}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),se),W=P.useMemo(()=>x.markerStart?`url('#${Hr(x.markerStart,p)}')`:void 0,[x.markerStart,p]),Y=P.useMemo(()=>x.markerEnd?`url('#${Hr(x.markerEnd,p)}')`:void 0,[x.markerEnd,p]);if(x.hidden||L===null||T===null||M===null||B===null)return null;const U=H=>{var ee;const{addSelectedEdges:X,unselectNodesAndEdges:Q,multiSelectionActive:te}=$.getState();j&&($.setState({nodesSelectionActive:!1}),x.selected&&te?(Q({nodes:[],edges:[x]}),(ee=O.current)==null||ee.blur()):X([e])),o&&o(H,x)},K=i?H=>{i(H,{...x})}:void 0,V=s?H=>{s(H,{...x})}:void 0,F=a?H=>{a(H,{...x})}:void 0,G=c?H=>{c(H,{...x})}:void 0,Z=l?H=>{l(H,{...x})}:void 0,q=H=>{var X;if(!b&&Ls.includes(H.key)&&j){const{unselectNodesAndEdges:Q,addSelectedEdges:te}=$.getState();H.key==="Escape"?((X=O.current)==null||X.blur(),Q({edges:[x]})):te([e])}};return m.jsx("svg",{style:{zIndex:C},children:m.jsxs("g",{className:ae(["react-flow__edge",`react-flow__edge-${S}`,x.className,w,{selected:x.selected,animated:x.animated,inactive:!j&&!o,updating:A,selectable:j}]),onClick:U,onDoubleClick:K,onContextMenu:V,onMouseEnter:F,onMouseMove:G,onMouseLeave:Z,onKeyDown:N?q:void 0,tabIndex:N?0:void 0,role:x.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":N?`${ha}-${p}`:void 0,ref:O,...x.domAttributes,children:[!D&&m.jsx(E,{id:e,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:j,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:L,sourceY:T,targetX:M,targetY:B,sourcePosition:z,targetPosition:R,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:W,markerEnd:Y,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),k&&m.jsx(a0,{edge:x,isReconnectable:k,reconnectRadius:f,onReconnect:u,onReconnectStart:d,onReconnectEnd:h,sourceX:L,sourceY:T,targetX:M,targetY:B,sourcePosition:z,targetPosition:R,setUpdateHover:I,setReconnecting:_})]})})}var l0=P.memo(c0);const u0=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ba({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:l,onEdgeClick:f,reconnectRadius:u,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:g}){const{edgesFocusable:w,edgesReconnectable:y,elementsSelectable:b,onError:x}=ne(u0,se),v=qp(t);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(Jp,{defaultColor:e,rfId:n}),v.map(S=>m.jsx(l0,{id:S,edgesFocusable:w,edgesReconnectable:y,elementsSelectable:b,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,onClick:f,reconnectRadius:u,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,rfId:n,onError:x,edgeTypes:r,disableKeyboardA11y:g},S))]})}Ba.displayName="EdgeRenderer";const d0=P.memo(Ba),f0=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function h0({children:e}){const t=ne(f0);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function g0(e){const t=ao(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const m0=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function p0(e){const t=ne(m0),n=oe();return P.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function y0(e){return e.connection.inProgress?{...e.connection,to:Qt(e.connection.to,e.transform)}:{...e.connection}}function x0(e){return y0}function w0(e){const t=x0();return ne(t,se)}const v0=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function b0({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:a,inProgress:c}=ne(v0,se);return!(i&&o&&c)?null:m.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:ae(["react-flow__connection",Rs(a)]),children:m.jsx(Ra,{style:t,type:n,CustomComponent:r,isValid:a})})})}const Ra=({style:e,type:t=Ve.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:a,fromPosition:c,to:l,toNode:f,toHandle:u,toPosition:d,pointer:h}=w0();if(!o)return;if(n)return m.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:i.x,fromY:i.y,toX:l.x,toY:l.y,fromPosition:c,toPosition:d,connectionStatus:Rs(r),toNode:f,toHandle:u,pointer:h});let p="";const g={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:l.x,targetY:l.y,targetPosition:d};switch(t){case Ve.Bezier:[p]=Ks(g);break;case Ve.SimpleBezier:[p]=Na(g);break;case Ve.Step:[p]=zr({...g,borderRadius:0});break;case Ve.SmoothStep:[p]=zr(g);break;default:[p]=Qs(g)}return m.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};Ra.displayName="ConnectionLine";const _0={};function Vi(e=_0){P.useRef(e),oe(),P.useEffect(()=>{},[e])}function S0(){oe(),P.useRef(!1),P.useEffect(()=>{},[])}function za({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:f,onSelectionContextMenu:u,onSelectionStart:d,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:y,selectionKeyCode:b,selectionOnDrag:x,selectionMode:v,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:N,deleteKeyCode:k,onlyRenderVisibleElements:j,elementsSelectable:O,defaultViewport:A,translateExtent:I,minZoom:D,maxZoom:_,preventScrolling:$,defaultMarkerColor:C,zoomOnScroll:L,zoomOnPinch:T,panOnScroll:M,panOnScrollSpeed:B,panOnScrollMode:z,zoomOnDoubleClick:R,panOnDrag:W,onPaneClick:Y,onPaneMouseEnter:U,onPaneMouseMove:K,onPaneMouseLeave:V,onPaneScroll:F,onPaneContextMenu:G,paneClickDistance:Z,nodeClickDistance:q,onEdgeContextMenu:H,onEdgeMouseEnter:X,onEdgeMouseMove:Q,onEdgeMouseLeave:te,reconnectRadius:ee,onReconnect:re,onReconnectStart:ce,onReconnectEnd:le,noDragClassName:he,noWheelClassName:Ee,noPanClassName:je,disableKeyboardA11y:$e,nodeExtent:rt,rfId:Xe,viewport:ze,onViewportChange:He}){return Vi(e),Vi(t),S0(),g0(n),p0(ze),m.jsx(Rp,{onPaneClick:Y,onPaneMouseEnter:U,onPaneMouseMove:K,onPaneMouseLeave:V,onPaneContextMenu:G,onPaneScroll:F,paneClickDistance:Z,deleteKeyCode:k,selectionKeyCode:b,selectionOnDrag:x,selectionMode:v,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:N,elementsSelectable:O,zoomOnScroll:L,zoomOnPinch:T,zoomOnDoubleClick:R,panOnScroll:M,panOnScrollSpeed:B,panOnScrollMode:z,panOnDrag:W,defaultViewport:A,translateExtent:I,minZoom:D,maxZoom:_,onSelectionContextMenu:u,preventScrolling:$,noDragClassName:he,noWheelClassName:Ee,noPanClassName:je,disableKeyboardA11y:$e,onViewportChange:He,isControlledViewport:!!ze,children:m.jsxs(h0,{children:[m.jsx(d0,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:re,onReconnectStart:ce,onReconnectEnd:le,onlyRenderVisibleElements:j,onEdgeContextMenu:H,onEdgeMouseEnter:X,onEdgeMouseMove:Q,onEdgeMouseLeave:te,reconnectRadius:ee,defaultMarkerColor:C,noPanClassName:je,disableKeyboardA11y:$e,rfId:Xe}),m.jsx(b0,{style:g,type:p,component:w,containerStyle:y}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(Gp,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:f,nodeClickDistance:q,onlyRenderVisibleElements:j,noPanClassName:je,noDragClassName:he,disableKeyboardA11y:$e,nodeExtent:rt,rfId:Xe}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}za.displayName="GraphView";const E0=P.memo(za),Yi=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:a,minZoom:c=.5,maxZoom:l=2,nodeOrigin:f,nodeExtent:u}={})=>{const d=new Map,h=new Map,p=new Map,g=new Map,w=r??t??[],y=n??e??[],b=f??[0,0],x=u??Rt;ta(p,g,w);const v=Fr(y,d,h,{nodeOrigin:b,nodeExtent:x,elevateNodesOnSelect:!1});let S=[0,0,1];if(s&&o&&i){const E=Kt(d,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:N,y:k,zoom:j}=to(E,o,i,c,l,(a==null?void 0:a.padding)??.1);S=[N,k,j]}return{rfId:"1",width:o??0,height:i??0,transform:S,nodes:y,nodesInitialized:v,nodeLookup:d,parentLookup:h,edges:w,edgeLookup:g,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:l,translateExtent:Rt,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:gt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Bs},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Bg,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ds}},N0=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:f,nodeExtent:u})=>Fm((d,h)=>{async function p(){const{nodeLookup:g,panZoom:w,fitViewOptions:y,fitViewResolver:b,width:x,height:v,minZoom:S,maxZoom:E}=h();w&&(await Lg({nodes:g,width:x,height:v,panZoom:w,minZoom:S,maxZoom:E},y),b==null||b.resolve(!0),d({fitViewResolver:null}))}return{...Yi({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:f,nodeExtent:u,defaultNodes:n,defaultEdges:r}),setNodes:g=>{const{nodeLookup:w,parentLookup:y,nodeOrigin:b,elevateNodesOnSelect:x,fitViewQueued:v}=h(),S=Fr(g,w,y,{nodeOrigin:b,nodeExtent:u,elevateNodesOnSelect:x,checkEquality:!0});v&&S?(p(),d({nodes:g,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:g,nodesInitialized:S})},setEdges:g=>{const{connectionLookup:w,edgeLookup:y}=h();ta(w,y,g),d({edges:g})},setDefaultNodesAndEdges:(g,w)=>{if(g){const{setNodes:y}=h();y(g),d({hasDefaultNodes:!0})}if(w){const{setEdges:y}=h();y(w),d({hasDefaultEdges:!0})}},updateNodeInternals:g=>{const{triggerNodeChanges:w,nodeLookup:y,parentLookup:b,domNode:x,nodeOrigin:v,nodeExtent:S,debug:E,fitViewQueued:N}=h(),{changes:k,updatedInternals:j}=im(g,y,b,x,v,S);j&&(tm(y,b,{nodeOrigin:v,nodeExtent:S}),N?(p(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(k==null?void 0:k.length)>0&&(E&&console.log("React Flow: trigger node changes",k),w==null||w(k)))},updateNodePositions:(g,w=!1)=>{const y=[],b=[],{nodeLookup:x,triggerNodeChanges:v}=h();for(const[S,E]of g){const N=x.get(S),k=!!(N!=null&&N.expandParent&&(N!=null&&N.parentId)&&(E!=null&&E.position)),j={id:S,type:"position",position:k?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:w};k&&N.parentId&&y.push({id:S,parentId:N.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),b.push(j)}if(y.length>0){const{parentLookup:S,nodeOrigin:E}=h(),N=so(y,x,S,E);b.push(...N)}v(b)},triggerNodeChanges:g=>{const{onNodesChange:w,setNodes:y,nodes:b,hasDefaultNodes:x,debug:v}=h();if(g!=null&&g.length){if(x){const S=cp(g,b);y(S)}v&&console.log("React Flow: trigger node changes",g),w==null||w(g)}},triggerEdgeChanges:g=>{const{onEdgesChange:w,setEdges:y,edges:b,hasDefaultEdges:x,debug:v}=h();if(g!=null&&g.length){if(x){const S=lp(g,b);y(S)}v&&console.log("React Flow: trigger edge changes",g),w==null||w(g)}},addSelectedNodes:g=>{const{multiSelectionActive:w,edgeLookup:y,nodeLookup:b,triggerNodeChanges:x,triggerEdgeChanges:v}=h();if(w){const S=g.map(E=>Ge(E,!0));x(S);return}x(ct(b,new Set([...g]),!0)),v(ct(y))},addSelectedEdges:g=>{const{multiSelectionActive:w,edgeLookup:y,nodeLookup:b,triggerNodeChanges:x,triggerEdgeChanges:v}=h();if(w){const S=g.map(E=>Ge(E,!0));v(S);return}v(ct(y,new Set([...g]))),x(ct(b,new Set,!0))},unselectNodesAndEdges:({nodes:g,edges:w}={})=>{const{edges:y,nodes:b,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:S}=h(),E=g||b,N=w||y,k=E.map(O=>{const A=x.get(O.id);return A&&(A.selected=!1),Ge(O.id,!1)}),j=N.map(O=>Ge(O.id,!1));v(k),S(j)},setMinZoom:g=>{const{panZoom:w,maxZoom:y}=h();w==null||w.setScaleExtent([g,y]),d({minZoom:g})},setMaxZoom:g=>{const{panZoom:w,minZoom:y}=h();w==null||w.setScaleExtent([y,g]),d({maxZoom:g})},setTranslateExtent:g=>{var w;(w=h().panZoom)==null||w.setTranslateExtent(g),d({translateExtent:g})},resetSelectedElements:()=>{const{edges:g,nodes:w,triggerNodeChanges:y,triggerEdgeChanges:b,elementsSelectable:x}=h();if(!x)return;const v=w.reduce((E,N)=>N.selected?[...E,Ge(N.id,!1)]:E,[]),S=g.reduce((E,N)=>N.selected?[...E,Ge(N.id,!1)]:E,[]);y(v),b(S)},setNodeExtent:g=>{const{nodes:w,nodeLookup:y,parentLookup:b,nodeOrigin:x,elevateNodesOnSelect:v,nodeExtent:S}=h();g[0][0]===S[0][0]&&g[0][1]===S[0][1]&&g[1][0]===S[1][0]&&g[1][1]===S[1][1]||(Fr(w,y,b,{nodeOrigin:x,nodeExtent:g,elevateNodesOnSelect:v,checkEquality:!1}),d({nodeExtent:g}))},panBy:g=>{const{transform:w,width:y,height:b,panZoom:x,translateExtent:v}=h();return sm({delta:g,panZoom:x,transform:w,translateExtent:v,width:y,height:b})},setCenter:async(g,w,y)=>{const{width:b,height:x,maxZoom:v,panZoom:S}=h();if(!S)return Promise.resolve(!1);const E=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:v;return await S.setViewport({x:b/2-g*E,y:x/2-w*E,zoom:E},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...Bs}})},updateConnection:g=>{d({connection:g})},reset:()=>d({...Yi()})}},Object.is);function C0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:c,fitView:l,nodeOrigin:f,nodeExtent:u,children:d}){const[h]=P.useState(()=>N0({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,minZoom:s,maxZoom:a,fitViewOptions:c,nodeOrigin:f,nodeExtent:u}));return m.jsx(Om,{value:h,children:m.jsx(hp,{children:d})})}function M0({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:a,fitViewOptions:c,minZoom:l,maxZoom:f,nodeOrigin:u,nodeExtent:d}){return P.useContext(Kn)?m.jsx(m.Fragment,{children:e}):m.jsx(C0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:a,initialFitViewOptions:c,initialMinZoom:l,initialMaxZoom:f,nodeOrigin:u,nodeExtent:d,children:e})}const k0={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function T0({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:a,onEdgeClick:c,onInit:l,onMove:f,onMoveStart:u,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:y,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:N,onNodeDrag:k,onNodeDragStop:j,onNodesDelete:O,onEdgesDelete:A,onDelete:I,onSelectionChange:D,onSelectionDragStart:_,onSelectionDrag:$,onSelectionDragStop:C,onSelectionContextMenu:L,onSelectionStart:T,onSelectionEnd:M,onBeforeDelete:B,connectionMode:z,connectionLineType:R=Ve.Bezier,connectionLineStyle:W,connectionLineComponent:Y,connectionLineContainerStyle:U,deleteKeyCode:K="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:F=!1,selectionMode:G=zt.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:q=Ft()?"Meta":"Control",zoomActivationKeyCode:H=Ft()?"Meta":"Control",snapToGrid:X,snapGrid:Q,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ee,nodesDraggable:re,autoPanOnNodeFocus:ce,nodesConnectable:le,nodesFocusable:he,nodeOrigin:Ee=ga,edgesFocusable:je,edgesReconnectable:$e,elementsSelectable:rt=!0,defaultViewport:Xe=tp,minZoom:ze=.5,maxZoom:He=2,translateExtent:en=Rt,preventScrolling:wt=!0,nodeExtent:Ne,defaultMarkerColor:vt="#b1b1b7",zoomOnScroll:bt=!0,zoomOnPinch:ot=!0,panOnScroll:tr=!1,panOnScrollSpeed:nr=.5,panOnScrollMode:rr=Ze.Free,zoomOnDoubleClick:or=!0,panOnDrag:ir=!0,onPaneClick:tn,onPaneMouseEnter:sr,onPaneMouseMove:nn,onPaneMouseLeave:rn,onPaneScroll:on,onPaneContextMenu:ar,paneClickDistance:sn=1,nodeClickDistance:an=0,children:cr,onReconnect:Ga,onReconnectStart:qa,onReconnectEnd:Ua,onEdgeContextMenu:Ka,onEdgeDoubleClick:Za,onEdgeMouseEnter:Qa,onEdgeMouseMove:Ja,onEdgeMouseLeave:ec,reconnectRadius:tc=10,onNodesChange:nc,onEdgesChange:rc,noDragClassName:oc="nodrag",noWheelClassName:ic="nowheel",noPanClassName:po="nopan",fitView:yo,fitViewOptions:xo,connectOnClick:sc,attributionPosition:ac,proOptions:cc,defaultEdgeOptions:lc,elevateNodesOnSelect:uc,elevateEdgesOnSelect:dc,disableKeyboardA11y:wo=!1,autoPanOnConnect:fc,autoPanOnNodeDrag:hc,autoPanSpeed:gc,connectionRadius:mc,isValidConnection:pc,onError:yc,style:xc,id:vo,nodeDragThreshold:wc,connectionDragThreshold:vc,viewport:bc,onViewportChange:_c,width:Sc,height:Ec,colorMode:Nc="light",debug:Cc,onScroll:cn,ariaLabelConfig:Mc,...kc},Tc){const lr=vo||"1",Ic=ip(Nc),jc=P.useCallback(bo=>{bo.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),cn==null||cn(bo)},[cn]);return m.jsx("div",{"data-testid":"rf__wrapper",...kc,onScroll:jc,style:{...xc,...k0},ref:Tc,className:ae(["react-flow",o,Ic]),id:vo,role:"application",children:m.jsxs(M0,{nodes:e,edges:t,width:Sc,height:Ec,fitView:yo,fitViewOptions:xo,minZoom:ze,maxZoom:He,nodeOrigin:Ee,nodeExtent:Ne,children:[m.jsx(E0,{onInit:l,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:i,edgeTypes:s,connectionLineType:R,connectionLineStyle:W,connectionLineComponent:Y,connectionLineContainerStyle:U,selectionKeyCode:V,selectionOnDrag:F,selectionMode:G,deleteKeyCode:K,multiSelectionKeyCode:q,panActivationKeyCode:Z,zoomActivationKeyCode:H,onlyRenderVisibleElements:te,defaultViewport:Xe,translateExtent:en,minZoom:ze,maxZoom:He,preventScrolling:wt,zoomOnScroll:bt,zoomOnPinch:ot,zoomOnDoubleClick:or,panOnScroll:tr,panOnScrollSpeed:nr,panOnScrollMode:rr,panOnDrag:ir,onPaneClick:tn,onPaneMouseEnter:sr,onPaneMouseMove:nn,onPaneMouseLeave:rn,onPaneScroll:on,onPaneContextMenu:ar,paneClickDistance:sn,nodeClickDistance:an,onSelectionContextMenu:L,onSelectionStart:T,onSelectionEnd:M,onReconnect:Ga,onReconnectStart:qa,onReconnectEnd:Ua,onEdgeContextMenu:Ka,onEdgeDoubleClick:Za,onEdgeMouseEnter:Qa,onEdgeMouseMove:Ja,onEdgeMouseLeave:ec,reconnectRadius:tc,defaultMarkerColor:vt,noDragClassName:oc,noWheelClassName:ic,noPanClassName:po,rfId:lr,disableKeyboardA11y:wo,nodeExtent:Ne,viewport:bc,onViewportChange:_c}),m.jsx(op,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:y,nodesDraggable:re,autoPanOnNodeFocus:ce,nodesConnectable:le,nodesFocusable:he,edgesFocusable:je,edgesReconnectable:$e,elementsSelectable:rt,elevateNodesOnSelect:uc,elevateEdgesOnSelect:dc,minZoom:ze,maxZoom:He,nodeExtent:Ne,onNodesChange:nc,onEdgesChange:rc,snapToGrid:X,snapGrid:Q,connectionMode:z,translateExtent:en,connectOnClick:sc,defaultEdgeOptions:lc,fitView:yo,fitViewOptions:xo,onNodesDelete:O,onEdgesDelete:A,onDelete:I,onNodeDragStart:N,onNodeDrag:k,onNodeDragStop:j,onSelectionDrag:$,onSelectionDragStart:_,onSelectionDragStop:C,onMove:f,onMoveStart:u,onMoveEnd:d,noPanClassName:po,nodeOrigin:Ee,rfId:lr,autoPanOnConnect:fc,autoPanOnNodeDrag:hc,autoPanSpeed:gc,onError:yc,connectionRadius:mc,isValidConnection:pc,selectNodesOnDrag:ee,nodeDragThreshold:wc,connectionDragThreshold:vc,onBeforeDelete:B,debug:Cc,ariaLabelConfig:Mc}),m.jsx(ep,{onSelectionChange:D}),cr,m.jsx(Um,{proOptions:cc,position:ac}),m.jsx(qm,{rfId:lr,disableKeyboardA11y:wo})]})})}var I0=pa(T0);function j0({dimensions:e,lineWidth:t,variant:n,className:r}){return m.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ae(["react-flow__background-pattern",n,r])})}function $0({radius:e,className:t}){return m.jsx("circle",{cx:e,cy:e,r:e,className:ae(["react-flow__background-pattern","dots",t])})}var Ye;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ye||(Ye={}));const A0={[Ye.Dots]:1,[Ye.Lines]:1,[Ye.Cross]:6},P0=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Ha({id:e,variant:t=Ye.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:a,style:c,className:l,patternClassName:f}){const u=P.useRef(null),{transform:d,patternId:h}=ne(P0,se),p=r||A0[t],g=t===Ye.Dots,w=t===Ye.Cross,y=Array.isArray(n)?n:[n,n],b=[y[0]*d[2]||1,y[1]*d[2]||1],x=p*d[2],v=Array.isArray(i)?i:[i,i],S=w?[x,x]:b,E=[v[0]*d[2]||1+S[0]/2,v[1]*d[2]||1+S[1]/2],N=`${h}${e||""}`;return m.jsxs("svg",{className:ae(["react-flow__background",l]),style:{...c,...Qn,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:u,"data-testid":"rf__background",children:[m.jsx("pattern",{id:N,x:d[0]%b[0],y:d[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:g?m.jsx($0,{radius:x/2,className:f}):m.jsx(j0,{dimensions:S,lineWidth:o,variant:t,className:f})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}Ha.displayName="Background";const L0=P.memo(Ha);function D0(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function B0(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function R0(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function z0(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function H0(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function bn({children:e,className:t,...n}){return m.jsx("button",{type:"button",className:ae(["react-flow__controls-button",t]),...n,children:e})}const F0=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Fa({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:a,onInteractiveChange:c,className:l,children:f,position:u="bottom-left",orientation:d="vertical","aria-label":h}){const p=oe(),{isInteractive:g,minZoomReached:w,maxZoomReached:y,ariaLabelConfig:b}=ne(F0,se),{zoomIn:x,zoomOut:v,fitView:S}=ao(),E=()=>{x(),i==null||i()},N=()=>{v(),s==null||s()},k=()=>{S(o),a==null||a()},j=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)},O=d==="horizontal"?"horizontal":"vertical";return m.jsxs(Zn,{className:ae(["react-flow__controls",O,l]),position:u,style:e,"data-testid":"rf__controls","aria-label":h??b["controls.ariaLabel"],children:[t&&m.jsxs(m.Fragment,{children:[m.jsx(bn,{onClick:E,className:"react-flow__controls-zoomin",title:b["controls.zoomIn.ariaLabel"],"aria-label":b["controls.zoomIn.ariaLabel"],disabled:y,children:m.jsx(D0,{})}),m.jsx(bn,{onClick:N,className:"react-flow__controls-zoomout",title:b["controls.zoomOut.ariaLabel"],"aria-label":b["controls.zoomOut.ariaLabel"],disabled:w,children:m.jsx(B0,{})})]}),n&&m.jsx(bn,{className:"react-flow__controls-fitview",onClick:k,title:b["controls.fitView.ariaLabel"],"aria-label":b["controls.fitView.ariaLabel"],children:m.jsx(R0,{})}),r&&m.jsx(bn,{className:"react-flow__controls-interactive",onClick:j,title:b["controls.interactive.ariaLabel"],"aria-label":b["controls.interactive.ariaLabel"],children:g?m.jsx(H0,{}):m.jsx(z0,{})}),f]})}Fa.displayName="Controls";const O0=P.memo(Fa);function V0({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:a,strokeWidth:c,className:l,borderRadius:f,shapeRendering:u,selected:d,onClick:h}){const{background:p,backgroundColor:g}=i||{},w=s||p||g;return m.jsx("rect",{className:ae(["react-flow__minimap-node",{selected:d},l]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:w,stroke:a,strokeWidth:c},shapeRendering:u,onClick:h?y=>h(y,e):void 0})}const Y0=P.memo(V0),X0=e=>e.nodes.map(t=>t.id),Mr=e=>e instanceof Function?e:()=>e;function W0({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=Y0,onClick:s}){const a=ne(X0,se),c=Mr(t),l=Mr(e),f=Mr(n),u=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:a.map(d=>m.jsx(q0,{id:d,nodeColorFunc:c,nodeStrokeColorFunc:l,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:u},d))})}function G0({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:a,onClick:c}){const{node:l,x:f,y:u,width:d,height:h}=ne(p=>{const{internals:g}=p.nodeLookup.get(e),w=g.userNode,{x:y,y:b}=g.positionAbsolute,{width:x,height:v}=Re(w);return{node:w,x:y,y:b,width:x,height:v}},se);return!l||l.hidden||!Ys(l)?null:m.jsx(a,{x:f,y:u,width:d,height:h,style:l.style,selected:!!l.selected,className:r(l),color:t(l),borderRadius:o,strokeColor:n(l),strokeWidth:i,shapeRendering:s,onClick:c,id:l.id})}const q0=P.memo(G0);var U0=P.memo(W0);const K0=200,Z0=150,Q0=e=>!e.hidden,J0=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Vs(Kt(e.nodeLookup,{filter:Q0}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},ey="react-flow__minimap-desc";function Oa({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:c,maskColor:l,maskStrokeColor:f,maskStrokeWidth:u,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:g=!1,zoomable:w=!1,ariaLabel:y,inversePan:b,zoomStep:x=1,offsetScale:v=5}){const S=oe(),E=P.useRef(null),{boundingRect:N,viewBB:k,rfId:j,panZoom:O,translateExtent:A,flowWidth:I,flowHeight:D,ariaLabelConfig:_}=ne(J0,se),$=(e==null?void 0:e.width)??K0,C=(e==null?void 0:e.height)??Z0,L=N.width/$,T=N.height/C,M=Math.max(L,T),B=M*$,z=M*C,R=v*M,W=N.x-(B-N.width)/2-R,Y=N.y-(z-N.height)/2-R,U=B+R*2,K=z+R*2,V=`${ey}-${j}`,F=P.useRef(0),G=P.useRef();F.current=M,P.useEffect(()=>{if(E.current&&O)return G.current=mm({domNode:E.current,panZoom:O,getTransform:()=>S.getState().transform,getViewScale:()=>F.current}),()=>{var X;(X=G.current)==null||X.destroy()}},[O]),P.useEffect(()=>{var X;(X=G.current)==null||X.update({translateExtent:A,width:I,height:D,inversePan:b,pannable:g,zoomStep:x,zoomable:w})},[g,w,b,x,A,I,D]);const Z=h?X=>{var ee;const[Q,te]=((ee=G.current)==null?void 0:ee.pointer(X))||[0,0];h(X,{x:Q,y:te})}:void 0,q=p?P.useCallback((X,Q)=>{const te=S.getState().nodeLookup.get(Q).internals.userNode;p(X,te)},[]):void 0,H=y??_["minimap.ariaLabel"];return m.jsx(Zn,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof u=="number"?u*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ae(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:$,height:C,viewBox:`${W} ${Y} ${U} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":V,ref:E,onClick:Z,children:[H&&m.jsx("title",{id:V,children:H}),m.jsx(U0,{onClick:q,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:a}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-R},${Y-R}h${U+R*2}v${K+R*2}h${-U-R*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Oa.displayName="MiniMap";P.memo(Oa);const ty=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,ny={[xt.Line]:"right",[xt.Handle]:"bottom-right"};function ry({nodeId:e,position:t,variant:n=xt.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:a=10,minHeight:c=10,maxWidth:l=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:u=!1,resizeDirection:d,autoScale:h=!0,shouldResize:p,onResizeStart:g,onResize:w,onResizeEnd:y}){const b=va(),x=typeof e=="string"?e:b,v=oe(),S=P.useRef(null),E=n===xt.Handle,N=ne(P.useCallback(ty(E&&h),[E,h]),se),k=P.useRef(null),j=t??ny[n];P.useEffect(()=>{if(!(!S.current||!x))return k.current||(k.current=Tm({domNode:S.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:A,transform:I,snapGrid:D,snapToGrid:_,nodeOrigin:$,domNode:C}=v.getState();return{nodeLookup:A,transform:I,snapGrid:D,snapToGrid:_,nodeOrigin:$,paneDomNode:C}},onChange:(A,I)=>{const{triggerNodeChanges:D,nodeLookup:_,parentLookup:$,nodeOrigin:C}=v.getState(),L=[],T={x:A.x,y:A.y},M=_.get(x);if(M&&M.expandParent&&M.parentId){const B=M.origin??C,z=A.width??M.measured.width??0,R=A.height??M.measured.height??0,W={id:M.id,parentId:M.parentId,rect:{width:z,height:R,...Xs({x:A.x??M.position.x,y:A.y??M.position.y},{width:z,height:R},M.parentId,_,B)}},Y=so([W],_,$,C);L.push(...Y),T.x=A.x?Math.max(B[0]*z,A.x):void 0,T.y=A.y?Math.max(B[1]*R,A.y):void 0}if(T.x!==void 0&&T.y!==void 0){const B={id:x,type:"position",position:{...T}};L.push(B)}if(A.width!==void 0&&A.height!==void 0){const z={id:x,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:A.width,height:A.height}};L.push(z)}for(const B of I){const z={...B,type:"position"};L.push(z)}D(L)},onEnd:({width:A,height:I})=>{const D={id:x,type:"dimensions",resizing:!1,dimensions:{width:A,height:I}};v.getState().triggerNodeChanges([D])}})),k.current.update({controlPosition:j,boundaries:{minWidth:a,minHeight:c,maxWidth:l,maxHeight:f},keepAspectRatio:u,resizeDirection:d,onResizeStart:g,onResize:w,onResizeEnd:y,shouldResize:p}),()=>{var A;(A=k.current)==null||A.destroy()}},[j,a,c,l,f,u,g,w,y,p]);const O=j.split("-");return m.jsx("div",{className:ae(["react-flow__resize-control","nodrag",...O,n,r]),ref:S,style:{...o,scale:N,...s&&{[E?"backgroundColor":"borderColor"]:s}},children:i})}P.memo(ry);const oy=[{id:"css",position:{x:100,y:0},data:{label:"CSS"}},{id:"scss",position:{x:100,y:100},data:{label:"Scss / Sass"}},{id:"tailwind",position:{x:300,y:100},data:{label:"Tailwind"}},{id:"styled",position:{x:-100,y:100},data:{label:"Styled components"}}],iy=[{id:"css-scss",source:"css",target:"scss"},{id:"css-tailwind",source:"css",target:"tailwind"},{id:"css-styled",source:"css",target:"styled"}],sy=[{id:"js",position:{x:700,y:0},data:{label:"Js"}},{id:"ts",position:{x:700,y:100},data:{label:"Typescript"}},{id:"react",position:{x:500,y:100},data:{label:"React"}},{id:"next",position:{x:500,y:200},data:{label:"Next.js"}}],ay=[{id:"js-ts",source:"js",target:"ts"},{id:"js-react",source:"js",target:"react"},{id:"react-next",source:"react",target:"next"},{id:"ts-libs",source:"ts",target:"libs"}],cy=[{id:"libs",position:{x:700,y:300},data:{label:"Libraries"}},{id:"react-query",position:{x:700,y:400},data:{label:"React query"}},{id:"rtk",position:{x:500,y:400},data:{label:"Redux / RTK"}},{id:"zustand",position:{x:300,y:400},data:{label:"Zustand"}},{id:"mui",position:{x:900,y:400},data:{label:"material-ui"}},{id:"jest",position:{x:1100,y:400},data:{label:"Jest"}}],ly=[{id:"libs-react-query",source:"libs",target:"react-query"},{id:"libs-rtk",source:"libs",target:"rtk"},{id:"libs-zustand",source:"libs",target:"zustand"},{id:"libs-mui",source:"libs",target:"mui"},{id:"libs-jest",source:"libs",target:"jest"}],uy=[{id:"java",position:{x:100,y:300},data:{label:"Java"}},{id:"node",position:{x:-100,y:300},data:{label:"Node.js"}}],dy=[...oy,...sy,...cy,...uy],fy=[...iy,...ay,...ly],hy="_ReactFlow_jsgek_1",gy={ReactFlow:hy},my=()=>m.jsxs("section",{id:"stack","aria-label":"my stack","data-screen-width":!0,children:[m.jsx(nt,{name:"Stack",icon:m.jsx(Wc,{className:"icon"}),textSecondary:"technologies I use"}),m.jsx("div",{className:gy.ReactFlow,children:m.jsxs(I0,{nodes:dy,edges:fy,fitView:!0,children:[m.jsx(L0,{}),m.jsx(O0,{})]})})]});function py(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xi(e){return py(e)||Array.isArray(e)}function yy(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function lo(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==i?!1:n.every(s=>{const a=e[s],c=t[s];return typeof a=="function"?`${a}`==`${c}`:!Xi(a)||!Xi(c)?a===c:lo(a,c)})}function Wi(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function xy(e,t){if(e.length!==t.length)return!1;const n=Wi(e),r=Wi(t);return n.every((o,i)=>{const s=r[i];return lo(o,s)})}function uo(e){return typeof e=="number"}function Yr(e){return typeof e=="string"}function er(e){return typeof e=="boolean"}function Gi(e){return Object.prototype.toString.call(e)==="[object Object]"}function ie(e){return Math.abs(e)}function fo(e){return Math.sign(e)}function $t(e,t){return ie(e-t)}function wy(e,t){if(e===0||t===0||ie(e)<=ie(t))return 0;const n=$t(ie(e),ie(t));return ie(n/e)}function vy(e){return Math.round(e*100)/100}function Yt(e){return Xt(e).map(Number)}function be(e){return e[Jt(e)]}function Jt(e){return Math.max(0,e.length-1)}function ho(e,t){return t===Jt(e)}function qi(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Xt(e){return Object.keys(e)}function Va(e,t){return[e,t].reduce((n,r)=>(Xt(r).forEach(o=>{const i=n[o],s=r[o],a=Gi(i)&&Gi(s);n[o]=a?Va(i,s):s}),n),{})}function Xr(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function by(e,t){const n={start:r,center:o,end:i};function r(){return 0}function o(c){return i(c)/2}function i(c){return t-c}function s(c,l){return Yr(e)?n[e](c):e(t,c,l)}return{measure:s}}function Wt(){let e=[];function t(o,i,s,a={passive:!0}){let c;if("addEventListener"in o)o.addEventListener(i,s,a),c=()=>o.removeEventListener(i,s,a);else{const l=o;l.addListener(s),c=()=>l.removeListener(s)}return e.push(c),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function _y(e,t,n,r){const o=Wt(),i=1e3/60;let s=null,a=0,c=0;function l(){o.add(e,"visibilitychange",()=>{e.hidden&&p()})}function f(){h(),o.clear()}function u(w){if(!c)return;s||(s=w,n(),n());const y=w-s;for(s=w,a+=y;a>=i;)n(),a-=i;const b=a/i;r(b),c&&(c=t.requestAnimationFrame(u))}function d(){c||(c=t.requestAnimationFrame(u))}function h(){t.cancelAnimationFrame(c),s=null,a=0,c=0}function p(){s=null,a=0}return{init:l,destroy:f,start:d,stop:h,update:n,render:r}}function Sy(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",i=r?"x":"y",s=!r&&n?-1:1,a=f(),c=u();function l(p){const{height:g,width:w}=p;return r?g:w}function f(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function d(p){return p*s}return{scroll:o,cross:i,startEdge:a,endEdge:c,measureSize:l,direction:d}}function tt(e=0,t=0){const n=ie(e-t);function r(l){return l<e}function o(l){return l>t}function i(l){return r(l)||o(l)}function s(l){return i(l)?r(l)?e:t:l}function a(l){return n?l-n*Math.ceil((l-t)/n):l}return{length:n,max:t,min:e,constrain:s,reachedAny:i,reachedMax:o,reachedMin:r,removeOffset:a}}function Ya(e,t,n){const{constrain:r}=tt(0,e),o=e+1;let i=s(t);function s(d){return n?ie((o+d)%o):r(d)}function a(){return i}function c(d){return i=s(d),u}function l(d){return f().set(a()+d)}function f(){return Ya(e,a(),n)}const u={get:a,set:c,add:l,clone:f};return u}function Ey(e,t,n,r,o,i,s,a,c,l,f,u,d,h,p,g,w,y,b){const{cross:x,direction:v}=e,S=["INPUT","SELECT","TEXTAREA"],E={passive:!1},N=Wt(),k=Wt(),j=tt(50,225).constrain(h.measure(20)),O={mouse:300,touch:400},A={mouse:500,touch:600},I=p?43:25;let D=!1,_=0,$=0,C=!1,L=!1,T=!1,M=!1;function B(H){if(!b)return;function X(te){(er(b)||b(H,te))&&K(te)}const Q=t;N.add(Q,"dragstart",te=>te.preventDefault(),E).add(Q,"touchmove",()=>{},E).add(Q,"touchend",()=>{}).add(Q,"touchstart",X).add(Q,"mousedown",X).add(Q,"touchcancel",F).add(Q,"contextmenu",F).add(Q,"click",G,!0)}function z(){N.clear(),k.clear()}function R(){const H=M?n:t;k.add(H,"touchmove",V,E).add(H,"touchend",F).add(H,"mousemove",V,E).add(H,"mouseup",F)}function W(H){const X=H.nodeName||"";return S.includes(X)}function Y(){return(p?A:O)[M?"mouse":"touch"]}function U(H,X){const Q=u.add(fo(H)*-1),te=f.byDistance(H,!p).distance;return p||ie(H)<j?te:w&&X?te*.5:f.byIndex(Q.get(),0).distance}function K(H){const X=Xr(H,r);M=X,T=p&&X&&!H.buttons&&D,D=$t(o.get(),s.get())>=2,!(X&&H.button!==0)&&(W(H.target)||(C=!0,i.pointerDown(H),l.useFriction(0).useDuration(0),o.set(s),R(),_=i.readPoint(H),$=i.readPoint(H,x),d.emit("pointerDown")))}function V(H){if(!Xr(H,r)&&H.touches.length>=2)return F(H);const Q=i.readPoint(H),te=i.readPoint(H,x),ee=$t(Q,_),re=$t(te,$);if(!L&&!M&&(!H.cancelable||(L=ee>re,!L)))return F(H);const ce=i.pointerMove(H);ee>g&&(T=!0),l.useFriction(.3).useDuration(.75),a.start(),o.add(v(ce)),H.preventDefault()}function F(H){const Q=f.byDistance(0,!1).index!==u.get(),te=i.pointerUp(H)*Y(),ee=U(v(te),Q),re=wy(te,ee),ce=I-10*re,le=y+re/50;L=!1,C=!1,k.clear(),l.useDuration(ce).useFriction(le),c.distance(ee,!p),M=!1,d.emit("pointerUp")}function G(H){T&&(H.stopPropagation(),H.preventDefault(),T=!1)}function Z(){return C}return{init:B,destroy:z,pointerDown:Z}}function Ny(e,t){let r,o;function i(u){return u.timeStamp}function s(u,d){const p=`client${(d||e.scroll)==="x"?"X":"Y"}`;return(Xr(u,t)?u:u.touches[0])[p]}function a(u){return r=u,o=u,s(u)}function c(u){const d=s(u)-s(o),h=i(u)-i(r)>170;return o=u,h&&(r=u),d}function l(u){if(!r||!o)return 0;const d=s(o)-s(r),h=i(u)-i(r),p=i(u)-i(o)>170,g=d/h;return h&&!p&&ie(g)>.1?g:0}return{pointerDown:a,pointerMove:c,pointerUp:l,readPoint:s}}function Cy(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:i,offsetHeight:s}=n;return{top:r,right:o+i,bottom:r+s,left:o,width:i,height:s}}return{measure:e}}function My(e){function t(r){return e*(r/100)}return{measure:t}}function ky(e,t,n,r,o,i,s){const a=[e].concat(r);let c,l,f=[],u=!1;function d(w){return o.measureSize(s.measure(w))}function h(w){if(!i)return;l=d(e),f=r.map(d);function y(b){for(const x of b){if(u)return;const v=x.target===e,S=r.indexOf(x.target),E=v?l:f[S],N=d(v?e:r[S]);if(ie(N-E)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(b=>{(er(i)||i(w,b))&&y(b)}),n.requestAnimationFrame(()=>{a.forEach(b=>c.observe(b))})}function p(){u=!0,c&&c.disconnect()}return{init:h,destroy:p}}function Ty(e,t,n,r,o,i){let s=0,a=0,c=o,l=i,f=e.get(),u=0;function d(){const E=r.get()-e.get(),N=!c;let k=0;return N?(s=0,n.set(r),e.set(r),k=E):(n.set(e),s+=E/c,s*=l,f+=s,e.add(s),k=f-u),a=fo(k),u=f,S}function h(){const E=r.get()-t.get();return ie(E)<.001}function p(){return c}function g(){return a}function w(){return s}function y(){return x(o)}function b(){return v(i)}function x(E){return c=E,S}function v(E){return l=E,S}const S={direction:g,duration:p,velocity:w,seek:d,settled:h,useBaseFriction:b,useBaseDuration:y,useFriction:v,useDuration:x};return S}function Iy(e,t,n,r,o){const i=o.measure(10),s=o.measure(50),a=tt(.1,.99);let c=!1;function l(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function f(h){if(!l())return;const p=e.reachedMin(t.get())?"min":"max",g=ie(e[p]-t.get()),w=n.get()-t.get(),y=a.constrain(g/s);n.subtract(w*y),!h&&ie(w)<i&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(h){c=!h}return{shouldConstrain:l,constrain:f,toggleActive:u}}function jy(e,t,n,r,o){const i=tt(-t+e,0),s=u(),a=f(),c=d();function l(p,g){return $t(p,g)<=1}function f(){const p=s[0],g=be(s),w=s.lastIndexOf(p),y=s.indexOf(g)+1;return tt(w,y)}function u(){return n.map((p,g)=>{const{min:w,max:y}=i,b=i.constrain(p),x=!g,v=ho(n,g);return x?y:v||l(w,b)?w:l(y,b)?y:b}).map(p=>parseFloat(p.toFixed(3)))}function d(){if(t<=e+o)return[i.max];if(r==="keepSnaps")return s;const{min:p,max:g}=a;return s.slice(p,g)}return{snapsContained:c,scrollContainLimit:a}}function $y(e,t,n){const r=t[0],o=n?r-e:be(t);return{limit:tt(o,r)}}function Ay(e,t,n,r){const i=t.min+.1,s=t.max+.1,{reachedMin:a,reachedMax:c}=tt(i,s);function l(d){return d===1?c(n.get()):d===-1?a(n.get()):!1}function f(d){if(!l(d))return;const h=e*(d*-1);r.forEach(p=>p.add(h))}return{loop:f}}function Py(e){const{max:t,length:n}=e;function r(i){const s=i-t;return n?s/-n:0}return{get:r}}function Ly(e,t,n,r,o){const{startEdge:i,endEdge:s}=e,{groupSlides:a}=o,c=u().map(t.measure),l=d(),f=h();function u(){return a(r).map(g=>be(g)[s]-g[0][i]).map(ie)}function d(){return r.map(g=>n[i]-g[i]).map(g=>-ie(g))}function h(){return a(l).map(g=>g[0]).map((g,w)=>g+c[w])}return{snaps:l,snapsAligned:f}}function Dy(e,t,n,r,o,i){const{groupSlides:s}=o,{min:a,max:c}=r,l=f();function f(){const d=s(i),h=!e||t==="keepSnaps";return n.length===1?[i]:h?d:d.slice(a,c).map((p,g,w)=>{const y=!g,b=ho(w,g);if(y){const x=be(w[0])+1;return qi(x)}if(b){const x=Jt(i)-be(w)[0]+1;return qi(x,be(w)[0])}return p})}return{slideRegistry:l}}function By(e,t,n,r,o){const{reachedAny:i,removeOffset:s,constrain:a}=r;function c(p){return p.concat().sort((g,w)=>ie(g)-ie(w))[0]}function l(p){const g=e?s(p):a(p),w=t.map((b,x)=>({diff:f(b-g,0),index:x})).sort((b,x)=>ie(b.diff)-ie(x.diff)),{index:y}=w[0];return{index:y,distance:g}}function f(p,g){const w=[p,p+n,p-n];if(!e)return p;if(!g)return c(w);const y=w.filter(b=>fo(b)===g);return y.length?c(y):be(w)-n}function u(p,g){const w=t[p]-o.get(),y=f(w,g);return{index:p,distance:y}}function d(p,g){const w=o.get()+p,{index:y,distance:b}=l(w),x=!e&&i(w);if(!g||x)return{index:y,distance:p};const v=t[y]-b,S=p+f(v,0);return{index:y,distance:S}}return{byDistance:d,byIndex:u,shortcut:f}}function Ry(e,t,n,r,o,i,s){function a(u){const d=u.distance,h=u.index!==t.get();i.add(d),d&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),h&&(n.set(t.get()),t.set(u.index),s.emit("select"))}function c(u,d){const h=o.byDistance(u,d);a(h)}function l(u,d){const h=t.clone().set(u),p=o.byIndex(h.get(),d);a(p)}return{distance:c,index:l}}function zy(e,t,n,r,o,i,s,a){const c={passive:!0,capture:!0};let l=0;function f(h){if(!a)return;function p(g){if(new Date().getTime()-l>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;const b=n.findIndex(x=>x.includes(g));uo(b)&&(o.useDuration(0),r.index(b,0),s.emit("slideFocus"))}i.add(document,"keydown",u,!1),t.forEach((g,w)=>{i.add(g,"focus",y=>{(er(a)||a(h,y))&&p(w)},c)})}function u(h){h.code==="Tab"&&(l=new Date().getTime())}return{init:f}}function Tt(e){let t=e;function n(){return t}function r(c){t=s(c)}function o(c){t+=s(c)}function i(c){t-=s(c)}function s(c){return uo(c)?c:c.get()}return{get:n,set:r,add:o,subtract:i}}function Xa(e,t){const n=e.scroll==="x"?s:a,r=t.style;let o=null,i=!1;function s(d){return`translate3d(${d}px,0px,0px)`}function a(d){return`translate3d(0px,${d}px,0px)`}function c(d){if(i)return;const h=vy(e.direction(d));h!==o&&(r.transform=n(h),o=h)}function l(d){i=!d}function f(){i||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:c,toggleActive:l}}function Hy(e,t,n,r,o,i,s,a,c){const f=Yt(o),u=Yt(o).reverse(),d=y().concat(b());function h(N,k){return N.reduce((j,O)=>j-o[O],k)}function p(N,k){return N.reduce((j,O)=>h(j,k)>0?j.concat([O]):j,[])}function g(N){return i.map((k,j)=>({start:k-r[j]+.5+N,end:k+t-.5+N}))}function w(N,k,j){const O=g(k);return N.map(A=>{const I=j?0:-n,D=j?n:0,_=j?"end":"start",$=O[A][_];return{index:A,loopPoint:$,slideLocation:Tt(-1),translate:Xa(e,c[A]),target:()=>a.get()>$?I:D}})}function y(){const N=s[0],k=p(u,N);return w(k,n,!1)}function b(){const N=t-s[0]-1,k=p(f,N);return w(k,-n,!0)}function x(){return d.every(({index:N})=>{const k=f.filter(j=>j!==N);return h(k,t)<=.1})}function v(){d.forEach(N=>{const{target:k,translate:j,slideLocation:O}=N,A=k();A!==O.get()&&(j.to(A),O.set(A))})}function S(){d.forEach(N=>N.translate.clear())}return{canLoop:x,clear:S,loop:v,loopPoints:d}}function Fy(e,t,n){let r,o=!1;function i(c){if(!n)return;function l(f){for(const u of f)if(u.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(f=>{o||(er(n)||n(c,f))&&l(f)}),r.observe(e,{childList:!0})}function s(){r&&r.disconnect(),o=!0}return{init:i,destroy:s}}function Oy(e,t,n,r){const o={};let i=null,s=null,a,c=!1;function l(){a=new IntersectionObserver(p=>{c||(p.forEach(g=>{const w=t.indexOf(g.target);o[w]=g}),i=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(p=>a.observe(p))}function f(){a&&a.disconnect(),c=!0}function u(p){return Xt(o).reduce((g,w)=>{const y=parseInt(w),{isIntersecting:b}=o[y];return(p&&b||!p&&!b)&&g.push(y),g},[])}function d(p=!0){if(p&&i)return i;if(!p&&s)return s;const g=u(p);return p&&(i=g),p||(s=g),g}return{init:l,destroy:f,get:d}}function Vy(e,t,n,r,o,i){const{measureSize:s,startEdge:a,endEdge:c}=e,l=n[0]&&o,f=p(),u=g(),d=n.map(s),h=w();function p(){if(!l)return 0;const b=n[0];return ie(t[a]-b[a])}function g(){if(!l)return 0;const b=i.getComputedStyle(be(r));return parseFloat(b.getPropertyValue(`margin-${c}`))}function w(){return n.map((b,x,v)=>{const S=!x,E=ho(v,x);return S?d[x]+f:E?d[x]+u:v[x+1][a]-b[a]}).map(ie)}return{slideSizes:d,slideSizesWithGaps:h,startGap:f,endGap:u}}function Yy(e,t,n,r,o,i,s,a,c){const{startEdge:l,endEdge:f,direction:u}=e,d=uo(n);function h(y,b){return Yt(y).filter(x=>x%b===0).map(x=>y.slice(x,x+b))}function p(y){return y.length?Yt(y).reduce((b,x,v)=>{const S=be(b)||0,E=S===0,N=x===Jt(y),k=o[l]-i[S][l],j=o[l]-i[x][f],O=!r&&E?u(s):0,A=!r&&N?u(a):0,I=ie(j-A-(k+O));return v&&I>t+c&&b.push(x),N&&b.push(y.length),b},[]).map((b,x,v)=>{const S=Math.max(v[x-1]||0);return y.slice(S,b)}):[]}function g(y){return d?h(y,n):p(y)}return{groupSlides:g}}function Xy(e,t,n,r,o,i,s){const{align:a,axis:c,direction:l,startIndex:f,loop:u,duration:d,dragFree:h,dragThreshold:p,inViewThreshold:g,slidesToScroll:w,skipSnaps:y,containScroll:b,watchResize:x,watchSlides:v,watchDrag:S,watchFocus:E}=i,N=2,k=Cy(),j=k.measure(t),O=n.map(k.measure),A=Sy(c,l),I=A.measureSize(j),D=My(I),_=by(a,I),$=!u&&!!b,C=u||!!b,{slideSizes:L,slideSizesWithGaps:T,startGap:M,endGap:B}=Vy(A,j,O,n,C,o),z=Yy(A,I,w,u,j,O,M,B,N),{snaps:R,snapsAligned:W}=Ly(A,_,j,O,z),Y=-be(R)+be(T),{snapsContained:U,scrollContainLimit:K}=jy(I,Y,W,b,N),V=$?U:W,{limit:F}=$y(Y,V,u),G=Ya(Jt(V),f,u),Z=G.clone(),q=Yt(n),H=({dragHandler:Ne,scrollBody:vt,scrollBounds:bt,options:{loop:ot}})=>{ot||bt.constrain(Ne.pointerDown()),vt.seek()},X=({scrollBody:Ne,translate:vt,location:bt,offsetLocation:ot,previousLocation:tr,scrollLooper:nr,slideLooper:rr,dragHandler:or,animation:ir,eventHandler:tn,scrollBounds:sr,options:{loop:nn}},rn)=>{const on=Ne.settled(),ar=!sr.shouldConstrain(),sn=nn?on:on&&ar,an=sn&&!or.pointerDown();an&&ir.stop();const cr=bt.get()*rn+tr.get()*(1-rn);ot.set(cr),nn&&(nr.loop(Ne.direction()),rr.loop()),vt.to(ot.get()),an&&tn.emit("settle"),sn||tn.emit("scroll")},Q=_y(r,o,()=>H(wt),Ne=>X(wt,Ne)),te=.68,ee=V[G.get()],re=Tt(ee),ce=Tt(ee),le=Tt(ee),he=Tt(ee),Ee=Ty(re,le,ce,he,d,te),je=By(u,V,Y,F,he),$e=Ry(Q,G,Z,Ee,je,he,s),rt=Py(F),Xe=Wt(),ze=Oy(t,n,s,g),{slideRegistry:He}=Dy($,b,V,K,z,q),en=zy(e,n,He,$e,Ee,Xe,s,E),wt={ownerDocument:r,ownerWindow:o,eventHandler:s,containerRect:j,slideRects:O,animation:Q,axis:A,dragHandler:Ey(A,e,r,o,he,Ny(A,o),re,Q,$e,Ee,je,G,s,D,h,p,y,te,S),eventStore:Xe,percentOfView:D,index:G,indexPrevious:Z,limit:F,location:re,offsetLocation:le,previousLocation:ce,options:i,resizeHandler:ky(t,s,o,n,A,x,k),scrollBody:Ee,scrollBounds:Iy(F,le,he,Ee,D),scrollLooper:Ay(Y,F,le,[re,le,ce,he]),scrollProgress:rt,scrollSnapList:V.map(rt.get),scrollSnaps:V,scrollTarget:je,scrollTo:$e,slideLooper:Hy(A,I,Y,L,T,R,V,le,n),slideFocus:en,slidesHandler:Fy(t,s,v),slidesInView:ze,slideIndexes:q,slideRegistry:He,slidesToScroll:z,target:he,translate:Xa(A,t)};return wt}function Wy(){let e={},t;function n(l){t=l}function r(l){return e[l]||[]}function o(l){return r(l).forEach(f=>f(t,l)),c}function i(l,f){return e[l]=r(l).concat([f]),c}function s(l,f){return e[l]=r(l).filter(u=>u!==f),c}function a(){e={}}const c={init:n,emit:o,off:s,on:i,clear:a};return c}const Gy={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function qy(e){function t(i,s){return Va(i,s||{})}function n(i){const s=i.breakpoints||{},a=Xt(s).filter(c=>e.matchMedia(c).matches).map(c=>s[c]).reduce((c,l)=>t(c,l),{});return t(i,a)}function r(i){return i.map(s=>Xt(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function Uy(e){let t=[];function n(i,s){return t=s.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(i,e)),s.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function r(){t=t.filter(i=>i.destroy())}return{init:n,destroy:r}}function Fn(e,t,n){const r=e.ownerDocument,o=r.defaultView,i=qy(o),s=Uy(i),a=Wt(),c=Wy(),{mergeOptions:l,optionsAtMedia:f,optionsMediaQueries:u}=i,{on:d,off:h,emit:p}=c,g=A;let w=!1,y,b=l(Gy,Fn.globalOptions),x=l(b),v=[],S,E,N;function k(){const{container:q,slides:H}=x;E=(Yr(q)?e.querySelector(q):q)||e.children[0];const Q=Yr(H)?E.querySelectorAll(H):H;N=[].slice.call(Q||E.children)}function j(q){const H=Xy(e,E,N,r,o,q,c);if(q.loop&&!H.slideLooper.canLoop()){const X=Object.assign({},q,{loop:!1});return j(X)}return H}function O(q,H){w||(b=l(b,q),x=f(b),v=H||v,k(),y=j(x),u([b,...v.map(({options:X})=>X)]).forEach(X=>a.add(X,"change",A)),x.active&&(y.translate.to(y.location.get()),y.animation.init(),y.slidesInView.init(),y.slideFocus.init(Z),y.eventHandler.init(Z),y.resizeHandler.init(Z),y.slidesHandler.init(Z),y.options.loop&&y.slideLooper.loop(),E.offsetParent&&N.length&&y.dragHandler.init(Z),S=s.init(Z,v)))}function A(q,H){const X=z();I(),O(l({startIndex:X},q),H),c.emit("reInit")}function I(){y.dragHandler.destroy(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),y.slidesInView.destroy(),y.animation.destroy(),s.destroy(),a.clear()}function D(){w||(w=!0,a.clear(),I(),c.emit("destroy"),c.clear())}function _(q,H,X){!x.active||w||(y.scrollBody.useBaseFriction().useDuration(H===!0?0:x.duration),y.scrollTo.index(q,X||0))}function $(q){const H=y.index.add(1).get();_(H,q,-1)}function C(q){const H=y.index.add(-1).get();_(H,q,1)}function L(){return y.index.add(1).get()!==z()}function T(){return y.index.add(-1).get()!==z()}function M(){return y.scrollSnapList}function B(){return y.scrollProgress.get(y.offsetLocation.get())}function z(){return y.index.get()}function R(){return y.indexPrevious.get()}function W(){return y.slidesInView.get()}function Y(){return y.slidesInView.get(!1)}function U(){return S}function K(){return y}function V(){return e}function F(){return E}function G(){return N}const Z={canScrollNext:L,canScrollPrev:T,containerNode:F,internalEngine:K,destroy:D,off:h,on:d,emit:p,plugins:U,previousScrollSnap:R,reInit:g,rootNode:V,scrollNext:$,scrollPrev:C,scrollProgress:B,scrollSnapList:M,scrollTo:_,selectedScrollSnap:z,slideNodes:G,slidesInView:W,slidesNotInView:Y};return O(t,n),setTimeout(()=>c.emit("init"),0),Z}Fn.globalOptions=void 0;function go(e={},t=[]){const n=P.useRef(e),r=P.useRef(t),[o,i]=P.useState(),[s,a]=P.useState(),c=P.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return P.useEffect(()=>{lo(n.current,e)||(n.current=e,c())},[e,c]),P.useEffect(()=>{xy(r.current,t)||(r.current=t,c())},[t,c]),P.useEffect(()=>{if(yy()&&s){Fn.globalOptions=go.globalOptions;const l=Fn(s,n.current,r.current);return i(l),()=>l.destroy()}else i(void 0)},[s,i]),[a,o]}go.globalOptions=void 0;const kr="img/testimonials",Ky=[{photoSrc:`${kr}/Denis.jpg`,coworkerName:"Denis Dyagilev",coworkerPosition:"frontend developer",text:m.jsxs(m.Fragment,{children:["I am a frontend developer. I would like to share my experience of working with Natalia. During my work at Cinimex, I worked with Natalia on the same project. It was comfortable to work, and I was pleased that Natalia helps the rest of the team members.",m.jsx("br",{}),"The code is written thoughtfully and at the same time readable. I think that Natalia is an excellent developer and I would gladly agree to work together again."]}),telegram:"purpleleech",linkedIn:"https://www.linkedin.com/in/denis-dyagilev-63b562168",instagram:"purpleleech"},{photoSrc:`${kr}/Masha.jpg`,coworkerName:"Maria Condaurova",coworkerPosition:"frontend developer",text:m.jsxs(m.Fragment,{children:["I've been working with Natalia in Cinimex for about half a year. Natalia appeared to be a responsible developer. She responded appropriately to the code-review, made suggestions to tasks solution.",m.jsx("br",{}),"She might want to speak louder on meet-ups :)",m.jsx("br",{}),"I got a positive impression of working with Natalia :)"]}),linkedIn:"https://www.linkedin.com/mwlite/in/Ð¼Ð°Ñ€Ð¸Ñ-ÐºÐ¾Ð½Ð´Ð°ÑƒÑ€Ð¾Ð²Ð°-6610a7217",habr:"https://career.habr.com/momomash"},{photoSrc:`${kr}/Sveta.jpg`,coworkerName:"Svetlana Pedan",coworkerPosition:"senior QA",text:m.jsx(m.Fragment,{children:"I like that Natalia tests her tasks on stands. Before her, developers have almost never done that, and now they took that as a rule. It's good that she isn't afraid to ask questions. They're problems with estimation of tasks, but I think it'll go away with the dive in. Communication with Natalia is very comfortable."})}],_n=({href:e,icon:t})=>m.jsx(m.Fragment,{children:e&&m.jsx("a",{href:e,target:"_blank",rel:"noreferrer","aria-label":e,children:t})}),Zy="_Testimonial_1e6z0_1",Qy="_Photo_1e6z0_16",Jy="_CoworkerName_1e6z0_27",ex="_CoworkerPosition_1e6z0_34",tx="_Line_1e6z0_42",nx="_Review_1e6z0_50",rx="_IconsSocial_1e6z0_56",ox="_SiHabr_1e6z0_65",ix="_TiSocialLinkedinCircular_1e6z0_69",sx="_ImTelegram_1e6z0_73",Ce={Testimonial:Zy,Photo:Qy,CoworkerName:Jy,CoworkerPosition:ex,Line:tx,Review:nx,IconsSocial:rx,SiHabr:ox,TiSocialLinkedinCircular:ix,ImTelegram:sx},ax=({photoSrc:e,coworkerName:t,coworkerPosition:n,text:r,telegram:o,linkedIn:i,habr:s,instagram:a})=>m.jsxs(_e.div,{initial:{opacity:0,filter:"blur(30px)"},whileInView:{opacity:1,filter:"none"},transition:{duration:.2},className:Ce.Testimonial,children:[m.jsx("img",{src:e,width:72,height:72,alt:"coworker's photo",className:Ce.Photo}),m.jsx("div",{className:Ce.CoworkerName,children:t}),m.jsx("div",{className:Ce.CoworkerPosition,children:n}),m.jsx("span",{className:Ce.Line}),m.jsx("article",{className:Ce.Review,children:r}),m.jsxs("div",{className:Ce.IconsSocial,children:[m.jsx(_n,{href:o&&`https://t.me/${o}`,icon:m.jsx(Gc,{className:Ce.ImTelegram,size:"22"})}),m.jsx(_n,{href:i,icon:m.jsx(qc,{className:Ce.TiSocialLinkedinCircular,size:"30"})}),m.jsx(_n,{href:`https://instagram.com/${a}`,icon:m.jsx(Uc,{size:"20"})}),m.jsx(_n,{href:s,icon:m.jsx(Kc,{size:"24",className:Ce.SiHabr})})]})]}),cx="_embla_1yvzl_1",lx="_embla__viewport_1yvzl_8",ux="_embla__container_1yvzl_11",dx="_embla__slide_1yvzl_16",fx="_embla__controls_1yvzl_33",hx="_embla__buttons_1yvzl_38",gx="_embla__button_1yvzl_38",mx="_embla__button__svg_1yvzl_69",ge={embla:cx,embla__viewport:lx,embla__container:ux,embla__slide:dx,embla__controls:fx,embla__buttons:hx,embla__button:gx,embla__button__svg:mx},px=e=>{const[t,n]=P.useState(!0),[r,o]=P.useState(!0),i=P.useCallback(()=>{e&&e.scrollPrev()},[e]),s=P.useCallback(()=>{e&&e.scrollNext()},[e]),a=P.useCallback(c=>{n(!c.canScrollPrev()),o(!c.canScrollNext())},[]);return P.useEffect(()=>{e&&(a(e),e.on("reInit",a).on("select",a))},[e,a]),{prevBtnDisabled:t,nextBtnDisabled:r,onPrevButtonClick:i,onNextButtonClick:s}},yx=e=>{const{children:t,...n}=e;return m.jsxs("button",{className:`${ge.embla__button} ${ge["embla__button--prev"]}`,type:"button",...n,children:[m.jsx("svg",{className:ge.embla__button__svg,viewBox:"0 0 532 532",children:m.jsx("path",{fill:"currentColor",d:"M355.66 11.354c13.793-13.805 36.208-13.805 50.001 0 13.785 13.804 13.785 36.238 0 50.034L201.22 266l204.442 204.61c13.785 13.805 13.785 36.239 0 50.044-13.793 13.796-36.208 13.796-50.002 0a5994246.277 5994246.277 0 0 0-229.332-229.454 35.065 35.065 0 0 1-10.326-25.126c0-9.2 3.393-18.26 10.326-25.2C172.192 194.973 332.731 34.31 355.66 11.354Z"})}),t]})},xx=e=>{const{children:t,...n}=e;return m.jsxs("button",{className:`${ge.embla__button} ${ge["embla__button--next"]}`,type:"button",...n,children:[m.jsx("svg",{className:ge.embla__button__svg,viewBox:"0 0 532 532",children:m.jsx("path",{fill:"currentColor",d:"M176.34 520.646c-13.793 13.805-36.208 13.805-50.001 0-13.785-13.804-13.785-36.238 0-50.034L330.78 266 126.34 61.391c-13.785-13.805-13.785-36.239 0-50.044 13.793-13.796 36.208-13.796 50.002 0 22.928 22.947 206.395 206.507 229.332 229.454a35.065 35.065 0 0 1 10.326 25.126c0 9.2-3.393 18.26-10.326 25.2-45.865 45.901-206.404 206.564-229.332 229.52Z"})}),t]})},wx=({slides:e,options:t})=>{const[n,r]=go({loop:!0}),{prevBtnDisabled:o,nextBtnDisabled:i,onPrevButtonClick:s,onNextButtonClick:a}=px(r);return m.jsxs("article",{className:ge.embla,children:[m.jsx("div",{className:ge.embla__viewport,ref:n,children:m.jsx("div",{className:ge.embla__container,children:Ky.map((c,l)=>m.jsx("div",{className:ge.embla__slide,children:m.jsx(ax,{...c})},l))})}),m.jsx("div",{className:ge.embla__controls,children:m.jsxs("div",{className:ge.embla__buttons,children:[m.jsx(yx,{onClick:s,disabled:o}),m.jsx(xx,{onClick:a,disabled:i})]})})]})},vx=()=>m.jsxs("section",{id:"testimonials","aria-label":"testimonials",children:[m.jsx(nt,{name:"Testimonials",icon:m.jsx(Zc,{className:"icon"}),textSecondary:"what my colleagues say"}),m.jsx(wx,{})]}),bx=()=>{const e=P.useRef(null);return m.jsxs("main",{className:No.Container,id:"container",children:[m.jsxs("div",{ref:e,className:No.Container,style:{position:"relative"},children:[m.jsx(hl,{refAboutSection:e}),m.jsx(Bl,{})]}),m.jsx(my,{}),m.jsx(Fu,{}),m.jsx(vx,{}),m.jsx(cu,{}),m.jsx(Uu,{}),m.jsx(Cu,{})]})},_x="_Menu_1m27u_1",Sx="_MenuClosing_1m27u_27",Ex="_ToggleButton_1m27u_35",Tr={Menu:_x,MenuClosing:Sx,ToggleButton:Ex},Wa="ContactÂ me",Nx=[{name:"Stack",anchor:"#stack"},{name:"Timeline",anchor:"#experience"},{name:"Testimonials",anchor:"#testimonials"},{name:"BugÂ Hunt",anchor:"#bug-hunt"},{name:"RandomÂ Fact",anchor:"#random-fact"},{name:Wa,anchor:"#contact-me"}],Cx="_ToggleThemeButton_abehe_2",Mx={ToggleThemeButton:Cx},kx=window.matchMedia("(prefers-color-scheme: dark)").matches,mo=P.createContext({theme:qe.light,toggleTheme:()=>{}}),Tx=e=>{const[t,n]=P.useState(kx?qe.dark:qe.light),r=()=>{t===qe.dark?n(qe.light):n(qe.dark)};return m.jsx(mo.Provider,{value:{theme:t,toggleTheme:r},children:e.children})},Ix=()=>{const{theme:e,toggleTheme:t}=P.use(mo);return m.jsx("button",{onClick:t,className:Mx.ToggleThemeButton,children:e==="dark"?m.jsx(Qc,{size:"20"}):m.jsx(Jc,{size:"20"})})},jx="_HashLinks_a532b_1",$x="_li_a532b_11",Ax="_ContactMe_a532b_22",Px="_HashLink_a532b_1",Lx="_HidingLinks_a532b_103",st={HashLinks:jx,li:$x,ContactMe:Ax,HashLink:Px,HidingLinks:Lx},Dx=({isMenuOpen:e,closeMenu:t})=>{const n=`${st.HashLinks} ${!e&&st.HidingLinks}`;return m.jsxs("ul",{className:n,children:[Nx.map(({name:r,anchor:o})=>m.jsx("li",{className:st.li,children:m.jsx(Ki,{onClick:t,to:o,"data-replace":r,smooth:!0,className:r===Wa?st.ContactMe:st.HashLink,children:m.jsx("span",{children:r})})},r)),m.jsx("div",{className:st.li,children:m.jsx(Ix,{})})]})},Bx=()=>{const e=el({query:"(max-width: 857px)"}),[t,n]=P.useState(!e),r=()=>e&&n(a=>!a),o=()=>e&&n(!1),i=`${Tr.Menu} ${!t&&Tr.MenuClosing}`,s=m.jsx("button",{className:Tr.ToggleButton,onClick:r,"aria-label":"open/close menu",children:t?m.jsx(tl,{size:23}):m.jsx(nl,{size:23})});return m.jsxs("nav",{className:i,children:[m.jsx(Dx,{closeMenu:o,isMenuOpen:t}),m.jsx(At,{maxWidth:1024,children:s})]})},Rx=()=>{const{theme:e}=P.useContext(mo);return m.jsx("div",{"data-theme":e,id:"root_",children:m.jsxs("div",{className:ul.Wave,children:[m.jsx(Bx,{}),m.jsx(bx,{})]})})};rl.createRoot(document.getElementById("root")).render(m.jsx(P.StrictMode,{children:m.jsx(ol,{basename:"/resume",children:m.jsx(Tx,{children:m.jsx(Rx,{})})})}));
